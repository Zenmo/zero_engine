<?xml version="1.0" encoding="UTF-8"?>
<!--
*************************************************
	         AnyLogic Project File 
*************************************************	         
-->
<AnyLogicWorkspace WorkspaceVersion="1.9" AnyLogicVersion="8.8.6.202312140503" AlpVersion="8.8.3">
<Model>
	<Id>1658477103134</Id>
	<Name><![CDATA[Zero_engine]]></Name>
	<EngineVersion>6</EngineVersion>
	<JavaPackageName><![CDATA[zero_engine]]></JavaPackageName>
	<ModelTimeUnit><![CDATA[Hour]]></ModelTimeUnit>
	<OptionLists>
		<OptionList>
			<Id>1658478100573</Id>
			<Name><![CDATA[OL_GridNodeType]]></Name>
			<Option>
				<Id>1658478100574</Id>
				<Name><![CDATA[HSMS]]></Name>
			</Option>
			<Option>
				<Id>1658478100575</Id>
				<Name><![CDATA[MSLS]]></Name>
			</Option>
			<Option>
				<Id>1659705289295</Id>
				<Name><![CDATA[HT]]></Name>
			</Option>
			<Option>
				<Id>1659705303447</Id>
				<Name><![CDATA[MT]]></Name>
			</Option>
			<Option>
				<Id>1659705308600</Id>
				<Name><![CDATA[LT]]></Name>
			</Option>
			<Option>
				<Id>1659705310310</Id>
				<Name><![CDATA[LT5thgen]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659117289326</Id>
			<Name><![CDATA[OL_EnergyCarrierType]]></Name>
			<Option>
				<Id>1659117289850</Id>
				<Name><![CDATA[ELECTRICITY]]></Name>
			</Option>
			<Option>
				<Id>1659117296810</Id>
				<Name><![CDATA[METHANE]]></Name>
			</Option>
			<Option>
				<Id>1659117299915</Id>
				<Name><![CDATA[HEAT]]></Name>
			</Option>
			<Option>
				<Id>1659117304956</Id>
				<Name><![CDATA[HYDROGEN]]></Name>
			</Option>
			<Option>
				<Id>1668600528877</Id>
				<Name><![CDATA[DIESEL]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659118262286</Id>
			<Name><![CDATA[OL_GridConnectionCategory]]></Name>
			<Option>
				<Id>1659118262287</Id>
				<Name><![CDATA[HOUSE]]></Name>
			</Option>
			<Option>
				<Id>1659118262289</Id>
				<Name><![CDATA[WINDFARM]]></Name>
			</Option>
			<Option>
				<Id>1659118262290</Id>
				<Name><![CDATA[SOLARFARM]]></Name>
			</Option>
			<Option>
				<Id>1660052337329</Id>
				<Name><![CDATA[DISTRICTHEATING]]></Name>
			</Option>
			<Option>
				<Id>1665480199198</Id>
				<Name><![CDATA[INDUSTRY]]></Name>
			</Option>
			<Option>
				<Id>1666957097189</Id>
				<Name><![CDATA[GRIDBATTERY]]></Name>
			</Option>
			<Option>
				<Id>1676382460059</Id>
				<Name><![CDATA[RESIDUALHEAT]]></Name>
			</Option>
			<Option>
				<Id>1697095873493</Id>
				<Name><![CDATA[UTILITY]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659118272924</Id>
			<Name><![CDATA[OL_GridConnectionType]]></Name>
			<Option>
				<Id>1659118284642</Id>
				<Name><![CDATA[DETACHED]]></Name>
			</Option>
			<Option>
				<Id>1659118298339</Id>
				<Name><![CDATA[SEMIDETACHED]]></Name>
			</Option>
			<Option>
				<Id>1659118321493</Id>
				<Name><![CDATA[TERRACED]]></Name>
			</Option>
			<Option>
				<Id>1659118323157</Id>
				<Name><![CDATA[APPARTMENT]]></Name>
			</Option>
			<Option>
				<Id>1659118328423</Id>
				<Name><![CDATA[HIGHRISE]]></Name>
			</Option>
			<Option>
				<Id>1659118330290</Id>
				<Name><![CDATA[STORE]]></Name>
			</Option>
			<Option>
				<Id>1659118342822</Id>
				<Name><![CDATA[OFFICE]]></Name>
			</Option>
			<Option>
				<Id>1659118344195</Id>
				<Name><![CDATA[SCHOOL]]></Name>
			</Option>
			<Option>
				<Id>1661512420149</Id>
				<Name><![CDATA[MT]]></Name>
			</Option>
			<Option>
				<Id>1664543832529</Id>
				<Name><![CDATA[HT]]></Name>
			</Option>
			<Option>
				<Id>1664543845215</Id>
				<Name><![CDATA[NONE]]></Name>
			</Option>
			<Option>
				<Id>1665480208045</Id>
				<Name><![CDATA[STEEL]]></Name>
			</Option>
			<Option>
				<Id>1665480220730</Id>
				<Name><![CDATA[INDUSTRY_OTHER]]></Name>
			</Option>
			<Option>
				<Id>1666967705762</Id>
				<Name><![CDATA[LOGISTICS]]></Name>
			</Option>
			<Option>
				<Id>1684331909482</Id>
				<Name><![CDATA[FARM]]></Name>
			</Option>
			<Option>
				<Id>1684397551611</Id>
				<Name><![CDATA[AGRO_ENERGYHUB]]></Name>
			</Option>
			<Option>
				<Id>1685518612022</Id>
				<Name><![CDATA[VILLAGE]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659118426374</Id>
			<Name><![CDATA[OL_EnergyAssetType]]></Name>
			<Option>
				<Id>1669816033364</Id>
				<Name><![CDATA[ELECTRICITY_DEMAND]]></Name>
			</Option>
			<Option>
				<Id>1669815514091</Id>
				<Name><![CDATA[HEAT_DEMAND]]></Name>
			</Option>
			<Option>
				<Id>1659118426728</Id>
				<Name><![CDATA[WINDMILL]]></Name>
			</Option>
			<Option>
				<Id>1659118437009</Id>
				<Name><![CDATA[PHOTOVOLTAIC]]></Name>
			</Option>
			<Option>
				<Id>1659118482977</Id>
				<Name><![CDATA[PHOTOTHERMAL]]></Name>
			</Option>
			<Option>
				<Id>1659118532364</Id>
				<Name><![CDATA[GAS_BURNER]]></Name>
			</Option>
			<Option>
				<Id>1659454936646</Id>
				<Name><![CDATA[HEAT_PUMP_AIR]]></Name>
			</Option>
			<Option>
				<Id>1659454948025</Id>
				<Name><![CDATA[HEAT_PUMP_GROUND]]></Name>
			</Option>
			<Option>
				<Id>1659454952726</Id>
				<Name><![CDATA[STORAGE_HEAT]]></Name>
			</Option>
			<Option>
				<Id>1659703216848</Id>
				<Name><![CDATA[STORAGE_ELECTRIC]]></Name>
			</Option>
			<Option>
				<Id>1659954815659</Id>
				<Name><![CDATA[HOT_WATER_CONSUMPTION]]></Name>
			</Option>
			<Option>
				<Id>1660134509899</Id>
				<Name><![CDATA[HEAT_DELIVERY_SET]]></Name>
			</Option>
			<Option>
				<Id>1665501765513</Id>
				<Name><![CDATA[METHANE_FURNACE]]></Name>
			</Option>
			<Option>
				<Id>1665501776892</Id>
				<Name><![CDATA[HYDROGEN_FURNACE]]></Name>
			</Option>
			<Option>
				<Id>1666267116036</Id>
				<Name><![CDATA[ELECTRIC_HEATER]]></Name>
			</Option>
			<Option>
				<Id>1660202624229</Id>
				<Name><![CDATA[ELECTRIC_VEHICLE]]></Name>
			</Option>
			<Option>
				<Id>1666950754271</Id>
				<Name><![CDATA[ELECTRIC_HEAVY_GOODS_VEHICLE]]></Name>
			</Option>
			<Option>
				<Id>1668602156278</Id>
				<Name><![CDATA[DIESEL_VEHICLE]]></Name>
			</Option>
			<Option>
				<Id>1671111224507</Id>
				<Name><![CDATA[ELECTROLYSER]]></Name>
			</Option>
			<Option>
				<Id>1671465832026</Id>
				<Name><![CDATA[HYDROGEN_DEMAND]]></Name>
			</Option>
			<Option>
				<Id>1673867715990</Id>
				<Name><![CDATA[ELECTRIC_HOB]]></Name>
			</Option>
			<Option>
				<Id>1676965109301</Id>
				<Name><![CDATA[CURTAILER]]></Name>
			</Option>
			<Option>
				<Id>1678469475524</Id>
				<Name><![CDATA[CURTAILER_HEAT]]></Name>
			</Option>
			<Option>
				<Id>1676383232204</Id>
				<Name><![CDATA[RESIDUALHEATHT]]></Name>
			</Option>
			<Option>
				<Id>1676638948113</Id>
				<Name><![CDATA[RESIDUALHEATLT]]></Name>
			</Option>
			<Option>
				<Id>1676466480037</Id>
				<Name><![CDATA[METHANE_CHP]]></Name>
			</Option>
			<Option>
				<Id>1676463395259</Id>
				<Name><![CDATA[GAS_PIT]]></Name>
			</Option>
			<Option>
				<Id>1676894965662</Id>
				<Name><![CDATA[BUILDINGTHERMALS]]></Name>
			</Option>
			<Option>
				<Id>1677510098544</Id>
				<Name><![CDATA[HEAT_PUMP_WATER]]></Name>
			</Option>
			<Option>
				<Id>1681828835093</Id>
				<Name><![CDATA[DISTRICT_EBOILER_CHPPEAK]]></Name>
			</Option>
			<Option>
				<Id>1684332070404</Id>
				<Name><![CDATA[LIVESTOCK]]></Name>
			</Option>
			<Option>
				<Id>1684917236306</Id>
				<Name><![CDATA[STORAGE_GAS]]></Name>
			</Option>
			<Option>
				<Id>1685008578606</Id>
				<Name><![CDATA[DIESEL_DEMAND]]></Name>
			</Option>
			<Option>
				<Id>1685030175392</Id>
				<Name><![CDATA[BIOGAS_METHANE_CONVERTER]]></Name>
			</Option>
			<Option>
				<Id>1685518641145</Id>
				<Name><![CDATA[METHANE_DEMAND]]></Name>
			</Option>
			<Option>
				<Id>1699367407696</Id>
				<Name><![CDATA[DIESEL_TRUCK]]></Name>
			</Option>
			<Option>
				<Id>1700138621293</Id>
				<Name><![CDATA[DIESEL_VAN]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659525715752</Id>
			<Name><![CDATA[OL_EAConversionTypes]]></Name>
			<Option>
				<Id>1659535854305</Id>
				<Name><![CDATA[HEATPUMP]]></Name>
			</Option>
			<Option>
				<Id>1659535860604</Id>
				<Name><![CDATA[GASBURNER]]></Name>
			</Option>
			<Option>
				<Id>1659535864564</Id>
				<Name><![CDATA[ELECTROLYSER]]></Name>
			</Option>
			<Option>
				<Id>1659535868209</Id>
				<Name><![CDATA[EBOILER]]></Name>
			</Option>
			<Option>
				<Id>1660131462165</Id>
				<Name><![CDATA[HEATDELIVERYSET]]></Name>
			</Option>
			<Option>
				<Id>1676964594398</Id>
				<Name><![CDATA[CURTAILER]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659525726440</Id>
			<Name><![CDATA[OL_EAProductionTypes]]></Name>
			<Option>
				<Id>1659535893345</Id>
				<Name><![CDATA[PHOTOVOLTAIC]]></Name>
			</Option>
			<Option>
				<Id>1659535901330</Id>
				<Name><![CDATA[PHOTOTHERMAL]]></Name>
			</Option>
			<Option>
				<Id>1659950311558</Id>
				<Name><![CDATA[WINDMILL]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659525736586</Id>
			<Name><![CDATA[OL_EAConsumptionTypes]]></Name>
			<Option>
				<Id>1659535824593</Id>
				<Name><![CDATA[ELECTRICITY]]></Name>
			</Option>
			<Option>
				<Id>1659535830792</Id>
				<Name><![CDATA[HEAT]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659525748543</Id>
			<Name><![CDATA[OL_EAStorageTypes]]></Name>
			<Option>
				<Id>1659535943908</Id>
				<Name><![CDATA[ELECTRIC_BATTERY]]></Name>
			</Option>
			<Option>
				<Id>1659535950717</Id>
				<Name><![CDATA[ELECTRIC_VEHICLE]]></Name>
			</Option>
			<Option>
				<Id>1659535949187</Id>
				<Name><![CDATA[HEATMODEL_BUILDING]]></Name>
			</Option>
			<Option>
				<Id>1674311988696</Id>
				<Name><![CDATA[HEATBUFFER]]></Name>
			</Option>
			<Option>
				<Id>1684917094693</Id>
				<Name><![CDATA[GAS]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659535485693</Id>
			<Name><![CDATA[OL_EACategories]]></Name>
			<Option>
				<Id>1659535486263</Id>
				<Name><![CDATA[CONSUMPTION]]></Name>
			</Option>
			<Option>
				<Id>1659535492572</Id>
				<Name><![CDATA[CONVERSION]]></Name>
			</Option>
			<Option>
				<Id>1659535495564</Id>
				<Name><![CDATA[PRODUCTION]]></Name>
			</Option>
			<Option>
				<Id>1659535498309</Id>
				<Name><![CDATA[STORAGE]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659701773383</Id>
			<Name><![CDATA[OL_AreaType]]></Name>
			<Option>
				<Id>1659701782496</Id>
				<Name><![CDATA[NEIGHBORHOOD]]></Name>
			</Option>
			<Option>
				<Id>1659701773953</Id>
				<Name><![CDATA[RES]]></Name>
			</Option>
			<Option>
				<Id>1659701788868</Id>
				<Name><![CDATA[INDUSTRY]]></Name>
			</Option>
			<Option>
				<Id>1659701795639</Id>
				<Name><![CDATA[BUSINESS]]></Name>
			</Option>
			<Option>
				<Id>1697466302695</Id>
				<Name><![CDATA[HVTRANSFORMER]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659711659517</Id>
			<Name><![CDATA[OL_BuildingType]]></Name>
			<Option>
				<Id>1659711661606</Id>
				<Name><![CDATA[House]]></Name>
			</Option>
			<Option>
				<Id>1659711661607</Id>
				<Name><![CDATA[Office]]></Name>
			</Option>
			<Option>
				<Id>1659711661608</Id>
				<Name><![CDATA[Store]]></Name>
			</Option>
			<Option>
				<Id>1659711661609</Id>
				<Name><![CDATA[School]]></Name>
			</Option>
			<Option>
				<Id>1659711661610</Id>
				<Name><![CDATA[Factory]]></Name>
			</Option>
			<Option>
				<Id>1660054094472</Id>
				<Name><![CDATA[Other]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1659950471000</Id>
			<Name><![CDATA[OL_EAPresetProductionAssets]]></Name>
			<ExcludeFromBuild>true</ExcludeFromBuild>
			<Option>
				<Id>1659950531538</Id>
				<Name><![CDATA[House_solarpanels_S]]></Name>
			</Option>
			<Option>
				<Id>1659950534060</Id>
				<Name><![CDATA[House_solarpanels_M]]></Name>
			</Option>
			<Option>
				<Id>1659950555546</Id>
				<Name><![CDATA[House_solarpanels_L]]></Name>
			</Option>
			<Option>
				<Id>1659950562453</Id>
				<Name><![CDATA[Windmill_3MW]]></Name>
			</Option>
			<Option>
				<Id>1659950566729</Id>
				<Name><![CDATA[Windmill_5MW]]></Name>
			</Option>
			<Option>
				<Id>1659950570261</Id>
				<Name><![CDATA[Windmill_7MW]]></Name>
			</Option>
			<Option>
				<Id>1659970013275</Id>
				<Name><![CDATA[Solarpanels_0MW]]></Name>
			</Option>
			<Option>
				<Id>1667995960684</Id>
				<Name><![CDATA[Solarpanels_1MW]]></Name>
			</Option>
			<Option>
				<Id>1667995977424</Id>
				<Name><![CDATA[Solarpanels_2MW]]></Name>
			</Option>
			<Option>
				<Id>1667995970571</Id>
				<Name><![CDATA[Solarpanels_3MW]]></Name>
			</Option>
			<Option>
				<Id>1667995986536</Id>
				<Name><![CDATA[Solarpanels_4MW]]></Name>
			</Option>
			<Option>
				<Id>1667996880047</Id>
				<Name><![CDATA[Solarpanels_5MW]]></Name>
			</Option>
			<Option>
				<Id>1667995988427</Id>
				<Name><![CDATA[Solarpanels_10MW]]></Name>
			</Option>
			<Option>
				<Id>1667995990541</Id>
				<Name><![CDATA[Building_solarpanels_0kWp]]></Name>
			</Option>
			<Option>
				<Id>1667996008098</Id>
				<Name><![CDATA[Building_solarpanels_1kWp]]></Name>
			</Option>
			<Option>
				<Id>1667996006832</Id>
				<Name><![CDATA[Building_solarpanels_2kWp]]></Name>
			</Option>
			<Option>
				<Id>1667996013583</Id>
				<Name><![CDATA[Building_solarpanels_3kWp]]></Name>
			</Option>
			<Option>
				<Id>1667996015832</Id>
				<Name><![CDATA[Building_solarpanels_4kWp]]></Name>
			</Option>
			<Option>
				<Id>1667996018938</Id>
				<Name><![CDATA[Building_solarpanels_5kWp]]></Name>
			</Option>
			<Option>
				<Id>1667996020759</Id>
				<Name><![CDATA[Building_solarpanels_10kWp]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1660055228680</Id>
			<Name><![CDATA[OL_EAPresetStorageAssets]]></Name>
			<ExcludeFromBuild>true</ExcludeFromBuild>
			<Option>
				<Id>1660055281773</Id>
				<Name><![CDATA[House_battery]]></Name>
			</Option>
			<Option>
				<Id>1660055281774</Id>
				<Name><![CDATA[House_heatmodel_A]]></Name>
			</Option>
			<Option>
				<Id>1660055281775</Id>
				<Name><![CDATA[House_heatmodel_B]]></Name>
			</Option>
			<Option>
				<Id>1660055281776</Id>
				<Name><![CDATA[House_heatmodel_C]]></Name>
			</Option>
			<Option>
				<Id>1660055281777</Id>
				<Name><![CDATA[House_heatmodel_D]]></Name>
			</Option>
			<Option>
				<Id>1660055281778</Id>
				<Name><![CDATA[House_heatmodel_E]]></Name>
			</Option>
			<Option>
				<Id>1660055281779</Id>
				<Name><![CDATA[House_heatmodel_F]]></Name>
			</Option>
			<Option>
				<Id>1660055281780</Id>
				<Name><![CDATA[House_heatmodel_G]]></Name>
			</Option>
			<Option>
				<Id>1660055281781</Id>
				<Name><![CDATA[EV]]></Name>
			</Option>
			<Option>
				<Id>1660055439251</Id>
				<Name><![CDATA[District_Heating_heat_buffer_HT_S]]></Name>
			</Option>
			<Option>
				<Id>1664536366729</Id>
				<Name><![CDATA[District_Heating_network_HT_S]]></Name>
			</Option>
			<Option>
				<Id>1664541052353</Id>
				<Name><![CDATA[District_Heating_network_MT_S]]></Name>
			</Option>
			<Option>
				<Id>1666959280721</Id>
				<Name><![CDATA[Grid_battery_1MWh]]></Name>
			</Option>
			<Option>
				<Id>1667757454119</Id>
				<Name><![CDATA[EHGV]]></Name>
			</Option>
			<Option>
				<Id>1667464089952</Id>
				<Name><![CDATA[Grid_battery_10MWh]]></Name>
			</Option>
			<Option>
				<Id>1667995942136</Id>
				<Name><![CDATA[Grid_battery_0MWh]]></Name>
			</Option>
			<Option>
				<Id>1667996898857</Id>
				<Name><![CDATA[Grid_battery_5MWh]]></Name>
			</Option>
			<Option>
				<Id>1668594477547</Id>
				<Name><![CDATA[EHGV_x50]]></Name>
			</Option>
			<Option>
				<Id>1676893732560</Id>
				<Name><![CDATA[Store_heatmodel_A]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1660226249511</Id>
			<Name><![CDATA[OL_ActorType]]></Name>
			<Option>
				<Id>1660226249512</Id>
				<Name><![CDATA[CONNECTIONOWNER]]></Name>
			</Option>
			<Option>
				<Id>1660226249513</Id>
				<Name><![CDATA[GOV]]></Name>
			</Option>
			<Option>
				<Id>1660226249514</Id>
				<Name><![CDATA[SUPPLIERENERGY]]></Name>
			</Option>
			<Option>
				<Id>1660226249515</Id>
				<Name><![CDATA[COOPENERGY]]></Name>
			</Option>
			<Option>
				<Id>1660577544099</Id>
				<Name><![CDATA[OPERATORGRID]]></Name>
			</Option>
			<Option>
				<Id>1692796172966</Id>
				<Name><![CDATA[GOVHOLON]]></Name>
			</Option>
			<Option>
				<Id>1703256179429</Id>
				<Name><![CDATA[SUBTENANT]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1660743989498</Id>
			<Name><![CDATA[OL_ContractType]]></Name>
			<Option>
				<Id>1676283271704</Id>
				<Name><![CDATA[DELIVERY]]></Name>
			</Option>
			<Option>
				<Id>1676283288950</Id>
				<Name><![CDATA[CONNECTION]]></Name>
			</Option>
			<Option>
				<Id>1676283296109</Id>
				<Name><![CDATA[TRANSPORT]]></Name>
			</Option>
			<Option>
				<Id>1676283299749</Id>
				<Name><![CDATA[TAX]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1660743989598</Id>
			<Name><![CDATA[OL_DeliveryContractType]]></Name>
			<Option>
				<Id>1660743990769</Id>
				<Name><![CDATA[ELECTRICITY_VARIABLE]]></Name>
			</Option>
			<Option>
				<Id>1676306691089</Id>
				<Name><![CDATA[ELECTRICITY_FIXED]]></Name>
			</Option>
			<Option>
				<Id>1679503406580</Id>
				<Name><![CDATA[METHANE_FIXED]]></Name>
			</Option>
			<Option>
				<Id>1679503410998</Id>
				<Name><![CDATA[HYDROGEN_FIXED]]></Name>
			</Option>
			<Option>
				<Id>1679503414243</Id>
				<Name><![CDATA[HEAT_FIXED]]></Name>
			</Option>
			<Option>
				<Id>1679503416680</Id>
				<Name><![CDATA[DIESEL_FIXED]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1660743989698</Id>
			<Name><![CDATA[OL_TransportContractType]]></Name>
			<Option>
				<Id>1660743990769</Id>
				<Name><![CDATA[DEFAULT]]></Name>
			</Option>
			<Option>
				<Id>1676307663012</Id>
				<Name><![CDATA[NODALPRICING]]></Name>
			</Option>
			<Option>
				<Id>1676307680468</Id>
				<Name><![CDATA[PEAK]]></Name>
			</Option>
			<Option>
				<Id>1676539817413</Id>
				<Name><![CDATA[BANDWIDTH]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1660743989698</Id>
			<Name><![CDATA[OL_ConnectionContractType]]></Name>
			<Option>
				<Id>1660743990769</Id>
				<Name><![CDATA[DEFAULT]]></Name>
			</Option>
			<Option>
				<Id>1676307607364</Id>
				<Name><![CDATA[NFATO]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1660743989798</Id>
			<Name><![CDATA[OL_TaxContractType]]></Name>
			<Option>
				<Id>1660743990769</Id>
				<Name><![CDATA[SALDEREN]]></Name>
			</Option>
			<Option>
				<Id>1676307694256</Id>
				<Name><![CDATA[NIETSALDEREN]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1665486884039</Id>
			<Name><![CDATA[OL_GridConnectionHeatingType]]></Name>
			<Option>
				<Id>1665486884694</Id>
				<Name><![CDATA[GASBURNER]]></Name>
			</Option>
			<Option>
				<Id>1665486892834</Id>
				<Name><![CDATA[HEATPUMP_AIR]]></Name>
			</Option>
			<Option>
				<Id>1665486897604</Id>
				<Name><![CDATA[DISTRICTHEAT]]></Name>
			</Option>
			<Option>
				<Id>1665486901407</Id>
				<Name><![CDATA[NONE]]></Name>
			</Option>
			<Option>
				<Id>1665488083020</Id>
				<Name><![CDATA[HEATPUMP_GASPEAK]]></Name>
			</Option>
			<Option>
				<Id>1665488094233</Id>
				<Name><![CDATA[GASFIRED]]></Name>
			</Option>
			<Option>
				<Id>1665501223992</Id>
				<Name><![CDATA[HYDROGENFIRED]]></Name>
			</Option>
			<Option>
				<Id>1666258251099</Id>
				<Name><![CDATA[HEATPUMP_BOILERPEAK]]></Name>
			</Option>
			<Option>
				<Id>1676468183199</Id>
				<Name><![CDATA[GASFIRED_CHPPEAK]]></Name>
			</Option>
			<Option>
				<Id>1677498067952</Id>
				<Name><![CDATA[LT_RESIDUAL_HEATPUMP_GASPEAK]]></Name>
			</Option>
			<Option>
				<Id>1678098224204</Id>
				<Name><![CDATA[DISTRICTHEATDECENTRAL]]></Name>
			</Option>
			<Option>
				<Id>1678457573856</Id>
				<Name><![CDATA[DISTRICT_EBOILER_CHP]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1665487983362</Id>
			<Name><![CDATA[OL_GridConnectionIsolationLabel]]></Name>
			<Option>
				<Id>1665487983978</Id>
				<Name><![CDATA[A]]></Name>
			</Option>
			<Option>
				<Id>1665487986412</Id>
				<Name><![CDATA[B]]></Name>
			</Option>
			<Option>
				<Id>1665487986996</Id>
				<Name><![CDATA[C]]></Name>
			</Option>
			<Option>
				<Id>1665487987672</Id>
				<Name><![CDATA[D]]></Name>
			</Option>
			<Option>
				<Id>1665487988212</Id>
				<Name><![CDATA[E]]></Name>
			</Option>
			<Option>
				<Id>1665487988752</Id>
				<Name><![CDATA[F]]></Name>
			</Option>
			<Option>
				<Id>1665487989247</Id>
				<Name><![CDATA[G]]></Name>
			</Option>
			<Option>
				<Id>1665487989742</Id>
				<Name><![CDATA[NONE]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1667742453792</Id>
			<Name><![CDATA[OL_MobilityPatternType]]></Name>
			<Option>
				<Id>1667742462468</Id>
				<Name><![CDATA[TRUCK]]></Name>
			</Option>
			<Option>
				<Id>1667742466151</Id>
				<Name><![CDATA[PRIVATE_VEHICLE]]></Name>
			</Option>
			<Option>
				<Id>1667742486158</Id>
				<Name><![CDATA[BUS]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1668361027279</Id>
			<Name><![CDATA[OL_ChargingAttitude]]></Name>
			<Option>
				<Id>1668361027280</Id>
				<Name><![CDATA[SIMPLE]]></Name>
			</Option>
			<Option>
				<Id>1668368194052</Id>
				<Name><![CDATA[MAX_SPREAD]]></Name>
			</Option>
			<Option>
				<Id>1668371973959</Id>
				<Name><![CDATA[MAX_POWER]]></Name>
			</Option>
			<Option>
				<Id>1671011596610</Id>
				<Name><![CDATA[CHEAP]]></Name>
			</Option>
			<Option>
				<Id>1695825443639</Id>
				<Name><![CDATA[V2G]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1668693527446</Id>
			<Name><![CDATA[OL_BatteryOperationMode]]></Name>
			<Option>
				<Id>1668693549846</Id>
				<Name><![CDATA[BALANCE]]></Name>
			</Option>
			<Option>
				<Id>1668693554312</Id>
				<Name><![CDATA[PRICE]]></Name>
			</Option>
			<Option>
				<Id>1678708484242</Id>
				<Name><![CDATA[HOUSEHOLD_LOAD]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1668693527447</Id>
			<Name><![CDATA[OL_ElektrolyserOperationMode]]></Name>
			<Option>
				<Id>1668693549847</Id>
				<Name><![CDATA[BALANCE]]></Name>
			</Option>
			<Option>
				<Id>1668693554313</Id>
				<Name><![CDATA[PRICE]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1674403295460</Id>
			<Name><![CDATA[OL_EVChargingNeed]]></Name>
			<Option>
				<Id>1674403295461</Id>
				<Name><![CDATA[HIGH]]></Name>
			</Option>
			<Option>
				<Id>1674403295462</Id>
				<Name><![CDATA[MEDIUM]]></Name>
			</Option>
			<Option>
				<Id>1674403295463</Id>
				<Name><![CDATA[LOW]]></Name>
			</Option>
			<Option>
				<Id>1674403309820</Id>
				<Name><![CDATA[NONE]]></Name>
			</Option>
			<Option>
				<Id>1674416304469</Id>
				<Name><![CDATA[EV_NOT_AVAILABLE]]></Name>
			</Option>
		</OptionList>
		<OptionList>
			<Id>1675025163072</Id>
			<Name><![CDATA[OL_ConnectionOwnerType]]></Name>
			<Option>
				<Id>1675025163073</Id>
				<Name><![CDATA[COMPANY]]></Name>
			</Option>
			<Option>
				<Id>1675025163074</Id>
				<Name><![CDATA[HOUSEHOLD]]></Name>
			</Option>
			<Option>
				<Id>1675025163075</Id>
				<Name><![CDATA[SUBTENANT]]></Name>
			</Option>
			<Option>
				<Id>1702915272457</Id>
				<Name><![CDATA[OTHER]]></Name>
			</Option>
		</OptionList>
	</OptionLists>
	<ActiveObjectClasses>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658477103140</Id>
			<Name><![CDATA[EnergyModel]]></Name>
			<Import><![CDATA[import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.JsonMappingException;
import com.fasterxml.jackson.databind.node.ObjectNode;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.node.ArrayNode;
import com.fasterxml.jackson.databind.node.ObjectNode;
import com.fasterxml.jackson.databind.node.TextNode;
import com.fasterxml.jackson.databind.node.NumericNode;
import com.fasterxml.jackson.core.type.TypeReference;
import java.io.FileOutputStream;
import java.util.stream.Stream;
import java.util.Dictionary.*;
import java.util.Hashtable.*;
import java.util.*;
import java.util.stream.Collectors;

import java.io.*;
import java.io.File;
import java.io.IOException;
//import java.util.Date;  
import java.text.SimpleDateFormat;
import com.fasterxml.jackson.databind.node.JsonNodeFactory;]]></Import>
			<StartupCode><![CDATA[v_hourOfYearStart=hourOfYearPerMonth[getMonth()] + (getDayOfMonth()-1)*24;

//j_dataOut = new DataOut();
//j_experimentSettingsData = new J_ExperimentSettingsData();
//j_simulationResults = new J_SimulationResults();
//j_hourlyCurvesData = new J_HourlyCurvesData();


]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658477103138</Id>
				<Name><![CDATA[1658477103138]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>GIS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>false</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658563200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[p_timeStep_h]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658477103136</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658477103139</CurrentLevel>
			<ConnectionsId>1658477103135</ConnectionsId>
			<Outputs>
				<Output>
					<Id>1661516161016</Id>
					<Name><![CDATA[o_outputActorData]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>810</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[String]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<ComputationMoment>MANUALLY</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1661587200000</ComputationDate>
				</Output>
				<Output>
					<Id>1661529224106</Id>
					<Name><![CDATA[o_outputExceptions]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>830</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[String]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<ComputationMoment>MANUALLY</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1661587200000</ComputationDate>
				</Output>
				<Output>
					<Id>1663238746791</Id>
					<Name><![CDATA[o_outputSettings]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>850</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[String]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<ComputationMoment>MANUALLY</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1663315200000</ComputationDate>
				</Output>
				<Output>
					<Id>1663255244236</Id>
					<Name><![CDATA[o_outputTrigger]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>930</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[double]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<Value Class="CodeValue">
						<Code><![CDATA[//f_returnKPIData(false)]]></Code>
					</Value>
					<ComputationMoment>ON_SIMULATION_END</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1663315200000</ComputationDate>
				</Output>
				<Output>
					<Id>1666880542545</Id>
					<Name><![CDATA[o_simulationResults]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>870</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[String]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<ComputationMoment>MANUALLY</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1666944000000</ComputationDate>
				</Output>
				<Output>
					<Id>1672910222316</Id>
					<Name><![CDATA[o_hourlyCurvesData]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>890</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[String]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<ComputationMoment>MANUALLY</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1666944000000</ComputationDate>
				</Output>
				<Output>
					<Id>1679503183018</Id>
					<Name><![CDATA[o_contractData]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>910</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Type><![CDATA[String]]></Type>
					<UnitType><![CDATA[NONE]]></UnitType>
					<ComputationMoment>MANUALLY</ComputationMoment>
					<ComputationTimeCode Class="CodeUnitValue">
						<Code><![CDATA[]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</ComputationTimeCode>
					<ComputationDate>1666944000000</ComputationDate>
				</Output>
			</Outputs>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1659356181110</Id>
					<Name><![CDATA[v_currentHouseHoldOtherElectricityDemand_fr]]></Name>
					<Description><![CDATA[Fraction of yearly demand in MWh per hour, multiplied by demand in MWh per year = MW for that hour]]></Description>
					<X>1116</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659356201846</Id>
					<Name><![CDATA[v_currentWindPowerNormalized_r]]></Name>
					<X>1116</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659356216131</Id>
					<Name><![CDATA[v_currentSolarPowerNormalized_r]]></Name>
					<X>1116</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659364131698</Id>
					<Name><![CDATA[v_currentAmbientTemperature_degC]]></Name>
					<X>1116</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663238634515</Id>
					<Name><![CDATA[v_timeStepsElapsed]]></Name>
					<X>557</X><Y>282</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664530118871</Id>
					<Name><![CDATA[v_currentBuildingOtherElectricityDemand_fr]]></Name>
					<Description><![CDATA[Fraction of yearly demand in MWh per hour, multiplied by demand in MWh per year = MW for that hour]]></Description>
					<X>1116</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664533236896</Id>
					<Name><![CDATA[v_currentHouseHoldHotWaterDemand_fr]]></Name>
					<X>1116</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665499321012</Id>
					<Name><![CDATA[v_currentIndustrySteelElectricityDemand_fr]]></Name>
					<X>1116</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665499340739</Id>
					<Name><![CDATA[v_currentIndustrySteelHeatDemand_fr]]></Name>
					<X>1116</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665499362356</Id>
					<Name><![CDATA[v_currentIndustryOtherElectricityDemand_fr]]></Name>
					<X>1116</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665499375110</Id>
					<Name><![CDATA[v_currentIndustryOtherHeatDemand_fr]]></Name>
					<X>1116</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666879575045</Id>
					<Name><![CDATA[v_gridNodePeakLoadElectricityMSLS_kW]]></Name>
					<Description><![CDATA[Absolute piekbelastingen MSLS-nodes over de modelrun opgeteld voor externe berekening netinfrastructuurkosten.

@author: JorritvandenHouten
@since: 27-10-2022]]></Description>
					<X>-480</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666879592543</Id>
					<Name><![CDATA[v_gridNodePeakLoadElectricityHSMS_kW]]></Name>
					<Description><![CDATA[Absolute piekbelasting(en) HSMS-node(s) over de modelrun opgeteld voor externe berekening netinfrastructuurkosten.

@author: JorritvandenHouten
@since: 27-10-2022]]></Description>
					<X>-480</X><Y>560</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666945456285</Id>
					<Name><![CDATA[v_totalElectricityImport_MWh]]></Name>
					<Description><![CDATA[Totale import van net-electriciteit het systeem in over de modelrun, gelijk aan de electriciteit geïmporteerd via de HSMS gridnode(s). Berekend aan het einde van de modelrun in f_sumGridNodeLoads(). Gebruikt voor totale kosten-berekening buiten het model en voor model-verificatie.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>-480</X><Y>620</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666945464449</Id>
					<Name><![CDATA[v_totalElectricityExport_MWh]]></Name>
					<Description><![CDATA[Totale export van net-electriciteit het systeem uit over de modelrun, gelijk aan de electriciteit geëxporteerd via de HSMS gridnode(s). Berekend aan het einde van de modelrun in f_sumGridNodeLoads().  Gebruikt voor totale kosten-berekening buiten het model en voor model-verificatie.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>-480</X><Y>640</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666945472961</Id>
					<Name><![CDATA[v_totalMethaneImport_MWh]]></Name>
					<Description><![CDATA[Totale import van methaan het systeem in over de modelrun, gelijk aan de methaan geïmporteerd door alle gridconnections. Berekend aan het einde van de modelrun in f_sumMolecularEnergyFlows(). Gebruikt voor totale kosten-berekening buiten het model en voor model-verificatie.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>-480</X><Y>660</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666945480077</Id>
					<Name><![CDATA[v_totalHydrogenImport_MWh]]></Name>
					<Description><![CDATA[Totale import van methaan het systeem in over de modelrun, gelijk aan de methaan geïmporteerd door alle gridconnections. Berekend aan het einde van de modelrun in f_sumMolecularEnergyFlows(). Gebruikt voor totale kosten-berekening buiten het model en voor model-verificatie.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>-480</X><Y>700</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666945779438</Id>
					<Name><![CDATA[v_totalHydrogenExport_MWh]]></Name>
					<Description><![CDATA[Totale export van waterstof het systeem uit over de modelrun, gelijk aan de waterstof geexporteerd door alle gridconnections. Berekend aan het einde van de modelrun in f_sumMolecularEnergyFlows(). Gebruikt voor totale kosten-berekening buiten het model en voor model-verificatie.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>-480</X><Y>720</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666945977336</Id>
					<Name><![CDATA[v_totalMethaneExport_MWh]]></Name>
					<Description><![CDATA[Totale export van methaan het systeem uit over de modelrun, gelijk aan de methaan geexporteerd door alle gridconnections. Berekend aan het einde van de modelrun in f_sumMolecularEnergyFlows(). Gebruikt voor totale kosten-berekening buiten het model en voor model-verificatie.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>-480</X><Y>680</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666979598282</Id>
					<Name><![CDATA[v_totalBatteryChargeAmount_MWh]]></Name>
					<X>-480</X><Y>760</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666979615893</Id>
					<Name><![CDATA[v_totalBatteryDischargeAmount_MWh]]></Name>
					<X>-480</X><Y>780</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666979627442</Id>
					<Name><![CDATA[v_totalBatteryInstalledCapacity_MWh]]></Name>
					<X>-480</X><Y>800</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667397284001</Id>
					<Name><![CDATA[v_currentLogisticsFleetEDemand_fr]]></Name>
					<X>1116</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668613097127</Id>
					<Name><![CDATA[v_totalDieselImport_MWh]]></Name>
					<X>-480</X><Y>740</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669026980656</Id>
					<Name><![CDATA[v_totalBatteryEnergyUsed_MWh]]></Name>
					<X>-480</X><Y>820</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1671636172718</Id>
					<Name><![CDATA[v_WindYieldForecast_fr]]></Name>
					<X>810</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1671636200983</Id>
					<Name><![CDATA[v_SolarYieldForecast_fr]]></Name>
					<X>810</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1671638019875</Id>
					<Name><![CDATA[v_epexForecast_eurpkWh]]></Name>
					<X>810</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1672229241505</Id>
					<Name><![CDATA[v_totalInstalledWindPower_kW]]></Name>
					<X>1117</X><Y>342</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1672229257384</Id>
					<Name><![CDATA[v_totalInstalledPVPower_kW]]></Name>
					<X>1117</X><Y>362</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1674039544084</Id>
					<Name><![CDATA[v_MSLSnodePeakPositiveLoadElectricity_kW]]></Name>
					<Description><![CDATA[Absolute piekbelastingen MSLS-nodes over de modelrun opgeteld voor externe berekening netinfrastructuurkosten.

@author: JorritvandenHouten
@since: 27-10-2022]]></Description>
					<X>-480</X><Y>500</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1674039545764</Id>
					<Name><![CDATA[v_MSLSnodePeakNegativeLoadElectricity_kW]]></Name>
					<Description><![CDATA[Absolute piekbelastingen MSLS-nodes over de modelrun opgeteld voor externe berekening netinfrastructuurkosten.

@author: JorritvandenHouten
@since: 27-10-2022]]></Description>
					<X>-480</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676968233773</Id>
					<Name><![CDATA[v_totalEnergyCurtailed_MWh]]></Name>
					<X>-480</X><Y>840</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1678980412868</Id>
					<Name><![CDATA[v_cumulativeGridCapacityMSLS_kW]]></Name>
					<X>-480</X><Y>900</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1678980423977</Id>
					<Name><![CDATA[v_cumulativeGridCapacityHSMS_kW]]></Name>
					<X>-480</X><Y>920</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1678980746805</Id>
					<Name><![CDATA[v_netOverloadKPI_pct]]></Name>
					<X>-480</X><Y>940</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1678367724979</Id>
					<Name><![CDATA[v_currentBuildingHeatDemand_fr]]></Name>
					<Description><![CDATA[Fraction of yearly demand in MWh per hour, multiplied by demand in MWh per year = MW for that hour]]></Description>
					<X>1116</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1683718894234</Id>
					<Name><![CDATA[v_timeSeriesRuntime_ms]]></Name>
					<X>557</X><Y>372</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1683718916458</Id>
					<Name><![CDATA[v_gridNodesRuntime_ms]]></Name>
					<X>557</X><Y>412</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1683718921466</Id>
					<Name><![CDATA[v_gridConnectionsRuntime_ms]]></Name>
					<X>557</X><Y>392</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1683718924632</Id>
					<Name><![CDATA[v_incentivesRuntime_ms]]></Name>
					<X>557</X><Y>452</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1683718924634</Id>
					<Name><![CDATA[v_financialsRuntime_ms]]></Name>
					<X>557</X><Y>432</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1690290329895</Id>
					<Name><![CDATA[hourOfYearPerMonth]]></Name>
					<X>556</X><Y>302</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int[]]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[new int[] {0, 744, 1392, 2136, 2856, 3600, 4320, 5064, 5808, 6528, 7272, 7992}]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1690290329902</Id>
					<Name><![CDATA[v_hourOfYearStart]]></Name>
					<X>556</X><Y>323</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1695655479591</Id>
					<Name><![CDATA[v_totalEnergyChargedOutsideModel_MWh]]></Name>
					<X>-480</X><Y>860</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696836844463</Id>
					<Name><![CDATA[v_isCostsPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439196</Id>
					<Name><![CDATA[v_insulationLCOE]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1342</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439199</Id>
					<Name><![CDATA[v_insulationAnnualCosts]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1362</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439202</Id>
					<Name><![CDATA[v_insulationAnnualEnergySavings]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1382</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439206</Id>
					<Name><![CDATA[v_insulationLifetimeCosts]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1402</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439208</Id>
					<Name><![CDATA[v_electricityLCOE]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1512</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439211</Id>
					<Name><![CDATA[v_electricityAnnualCosts]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1532</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439213</Id>
					<Name><![CDATA[v_electricityAnnualEnergyConsumption]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1552</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439216</Id>
					<Name><![CDATA[v_electricityLifetimeCosts]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1572</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439218</Id>
					<Name><![CDATA[v_totalLCOE]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1167</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439221</Id>
					<Name><![CDATA[v_totalAnnualCosts]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1187</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439223</Id>
					<Name><![CDATA[v_totalAnnualEnergyConsumption]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1207</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439226</Id>
					<Name><![CDATA[v_totalLifetimeCosts]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1227</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439229</Id>
					<Name><![CDATA[v_heatingSystemLCOE]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1257</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439231</Id>
					<Name><![CDATA[v_heatingSystemAnnualCosts]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1277</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439234</Id>
					<Name><![CDATA[v_heatingSystemAnnualEnergyConsumption]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1297</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439237</Id>
					<Name><![CDATA[v_heatingSystemLifetimeCosts]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1317</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439239</Id>
					<Name><![CDATA[v_electricityInvestmentCosts]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1590</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439242</Id>
					<Name><![CDATA[v_electricityOperationalCostsFixed]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1610</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439254</Id>
					<Name><![CDATA[v_electricityOperationalCostsVariable]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1630</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439257</Id>
					<Name><![CDATA[v_insulationInvestmentCosts]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439259</Id>
					<Name><![CDATA[v_insulationOperationalCostsFixed]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1450</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439262</Id>
					<Name><![CDATA[v_insulationOperationalCostsVariable]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1751</X><Y>1470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439264</Id>
					<Name><![CDATA[v_insulationLCOEPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1850</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439267</Id>
					<Name><![CDATA[v_insulationAnnualCostsPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1870</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439269</Id>
					<Name><![CDATA[v_insulationAnnualEnergySavingsPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1890</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439272</Id>
					<Name><![CDATA[v_insulationLifetimeCostsPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1910</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439274</Id>
					<Name><![CDATA[v_electricityLCOEPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2030</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439277</Id>
					<Name><![CDATA[v_electricityAnnualCostsPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2050</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439280</Id>
					<Name><![CDATA[v_electricityAnnualEnergyConsumptionPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2070</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439282</Id>
					<Name><![CDATA[v_electricityLifetimeCostsPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2090</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439285</Id>
					<Name><![CDATA[v_totalLCOEPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1675</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439287</Id>
					<Name><![CDATA[v_totalAnnualCostsPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1695</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439289</Id>
					<Name><![CDATA[v_totalAnnualEnergyConsumptionPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1715</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439291</Id>
					<Name><![CDATA[v_totalLifetimeCostsPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1735</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439294</Id>
					<Name><![CDATA[v_heatingSystemLCOEPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1765</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439297</Id>
					<Name><![CDATA[v_heatingSystemAnnualCostsPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1785</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439299</Id>
					<Name><![CDATA[v_heatingSystemAnnualEnergyConsumptionPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1805</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439301</Id>
					<Name><![CDATA[v_heatingSystemLifetimeCostsPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1825</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439304</Id>
					<Name><![CDATA[v_electricityInvestmentCostsPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439306</Id>
					<Name><![CDATA[v_electricityOperationalCostsFixedPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439308</Id>
					<Name><![CDATA[v_electricityOperationalCostsVariablePerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439311</Id>
					<Name><![CDATA[v_insulationInvestmentCostsPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1940</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439313</Id>
					<Name><![CDATA[v_insulationOperationalCostsFixedPerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1960</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439316</Id>
					<Name><![CDATA[v_insulationOperationalCostsVariablePerHousehold]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1980</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439318</Id>
					<Name><![CDATA[v_elecHPCapex]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439321</Id>
					<Name><![CDATA[v_MTCapex]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439323</Id>
					<Name><![CDATA[v_LTCapex]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439325</Id>
					<Name><![CDATA[v_greenGasHRCapex]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439328</Id>
					<Name><![CDATA[v_hybridHPCapex]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439330</Id>
					<Name><![CDATA[v_elecHPFixedOpex]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439332</Id>
					<Name><![CDATA[v_hybridHPFixedOpex]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439335</Id>
					<Name><![CDATA[v_greenGasHRFixedOpex]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439337</Id>
					<Name><![CDATA[v_MTDistrictHeatingFixedOpex]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696838439340</Id>
					<Name><![CDATA[v_LTDistrictHeatingFixedOpex]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696863807573</Id>
					<Name><![CDATA[v_modelSelfSufficiency_fr]]></Name>
					<X>-480</X><Y>1100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696863821721</Id>
					<Name><![CDATA[v_modelSelfConsumption_fr]]></Name>
					<X>-480</X><Y>1120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696868488028</Id>
					<Name><![CDATA[v_costsUnknown]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1697554735224</Id>
					<Name><![CDATA[v_isRapidRun]]></Name>
					<X>790</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1698924487994</Id>
					<Name><![CDATA[v_batteryStoredEnergyDeltaSinceStart_MWh]]></Name>
					<X>-480</X><Y>880</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1698929539392</Id>
					<Name><![CDATA[v_totalEnergyUsed_MWh]]></Name>
					<X>-480</X><Y>1000</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1698929546080</Id>
					<Name><![CDATA[v_totalEnergyProduced_MWh]]></Name>
					<X>-480</X><Y>1020</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699275323328</Id>
					<Name><![CDATA[v_summerWeekHour]]></Name>
					<X>560</X><Y>660</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699275323332</Id>
					<Name><![CDATA[v_winterWeekHour]]></Name>
					<X>560</X><Y>680</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699275323335</Id>
					<Name><![CDATA[v_dayOfYear]]></Name>
					<X>560</X><Y>700</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699277193134</Id>
					<Name><![CDATA[t_h]]></Name>
					<X>557</X><Y>112</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542863</Id>
					<Name><![CDATA[v_dailyBaseloadElectricityDemand_kWh]]></Name>
					<X>82</X><Y>2556</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542868</Id>
					<Name><![CDATA[v_dailyHeatPumpElectricityDemand_kWh]]></Name>
					<X>82</X><Y>2576</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542872</Id>
					<Name><![CDATA[v_dailyElectricCarsDemand_kWh]]></Name>
					<X>82</X><Y>2596</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542875</Id>
					<Name><![CDATA[v_dailyElectricTrucksDemand_kWh]]></Name>
					<X>82</X><Y>2616</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542878</Id>
					<Name><![CDATA[v_dailyNeighborhoodBatteryDemand_kWh]]></Name>
					<X>82</X><Y>2636</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542881</Id>
					<Name><![CDATA[v_dailyPVGeneration_kWh]]></Name>
					<X>82</X><Y>2666</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542884</Id>
					<Name><![CDATA[v_dailyWindGeneration_kWh]]></Name>
					<X>82</X><Y>2686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542887</Id>
					<Name><![CDATA[v_dailyNeighborhoodBatterySupply_kWh]]></Name>
					<X>82</X><Y>2706</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542890</Id>
					<Name><![CDATA[v_dailyV2GSupply_kWh]]></Name>
					<X>82</X><Y>2726</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542893</Id>
					<Name><![CDATA[v_dailyBusinessParkDemand_kWh]]></Name>
					<X>82</X><Y>2756</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542896</Id>
					<Name><![CDATA[v_dailyBusinessParkSupply_kWh]]></Name>
					<X>82</X><Y>2776</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542898</Id>
					<Name><![CDATA[v_dailyBusinessParkNetLoad_kWh]]></Name>
					<X>82</X><Y>2796</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542901</Id>
					<Name><![CDATA[v_dailyBaseloadElectricityDemandCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1122</X><Y>2446</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542905</Id>
					<Name><![CDATA[v_dailyHeatPumpElectricityDemandCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1122</X><Y>2466</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542908</Id>
					<Name><![CDATA[v_dailyElectricCarsDemandCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1122</X><Y>2486</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542910</Id>
					<Name><![CDATA[v_dailyElectricTrucksDemandCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1122</X><Y>2506</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542913</Id>
					<Name><![CDATA[v_dailyNeighborhoodBatteryDemandCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1122</X><Y>2526</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542916</Id>
					<Name><![CDATA[v_dailyPVGenerationCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1122</X><Y>2556</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542919</Id>
					<Name><![CDATA[v_dailyWindGenerationCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1122</X><Y>2576</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542922</Id>
					<Name><![CDATA[v_dailyNeighborhoodBatterySupplyCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1122</X><Y>2596</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542925</Id>
					<Name><![CDATA[v_dailyV2GSupplyCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1122</X><Y>2616</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542928</Id>
					<Name><![CDATA[v_dailyBusinessParkDemandCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1122</X><Y>2646</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542930</Id>
					<Name><![CDATA[v_dailyBusinessParkSupplyCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1122</X><Y>2666</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699278542934</Id>
					<Name><![CDATA[v_dailyBusinessParkNetLoadCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1122</X><Y>2686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699524291319</Id>
					<Name><![CDATA[a_annualBusinessParkNetLoad_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>80</X><Y>2850</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1699524331159</Id>
					<Name><![CDATA[a_t_h]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>80</X><Y>2830</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700556115968</Id>
					<Name><![CDATA[v_totalSelfConsumedEnergy_MWh]]></Name>
					<X>-480</X><Y>1080</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700556144666</Id>
					<Name><![CDATA[v_totalImportedEnergy_MWh]]></Name>
					<X>-480</X><Y>1040</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700556155691</Id>
					<Name><![CDATA[v_totalExportedEnergy_MWh]]></Name>
					<X>-480</X><Y>1060</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700668441384</Id>
					<Name><![CDATA[v_summerWeekTotalImport_MWh]]></Name>
					<X>430</X><Y>1670</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700668461882</Id>
					<Name><![CDATA[v_summerWeekTotalExport_MWh]]></Name>
					<X>430</X><Y>1690</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700668472639</Id>
					<Name><![CDATA[v_summerWeekEnergyUsed_MWh]]></Name>
					<X>430</X><Y>1710</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700668495328</Id>
					<Name><![CDATA[v_summerWeekEnergyProduced_MWh]]></Name>
					<X>430</X><Y>1730</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700669484040</Id>
					<Name><![CDATA[v_summerWeekSelfConsumedEnergy_MWh]]></Name>
					<X>430</X><Y>1750</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700670131980</Id>
					<Name><![CDATA[v_winterWeekTotalImport_MWh]]></Name>
					<X>430</X><Y>1960</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700670131982</Id>
					<Name><![CDATA[v_winterWeekTotalExport_MWh]]></Name>
					<X>430</X><Y>1980</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700670131984</Id>
					<Name><![CDATA[v_winterWeekEnergyUsed_MWh]]></Name>
					<X>430</X><Y>2000</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700670131986</Id>
					<Name><![CDATA[v_winterWeekEnergyProduced_MWh]]></Name>
					<X>430</X><Y>2020</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700670131988</Id>
					<Name><![CDATA[v_winterWeekSelfConsumedEnergy_MWh]]></Name>
					<X>430</X><Y>2040</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700725227193</Id>
					<Name><![CDATA[v_currentEnergyConsumption_kW]]></Name>
					<X>80</X><Y>1000</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700725244568</Id>
					<Name><![CDATA[v_currentEnergyProduction_kW]]></Name>
					<X>80</X><Y>1020</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1700725502196</Id>
					<Name><![CDATA[v_currentEnergyCurtailed_kW]]></Name>
					<X>80</X><Y>1040</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701699259425</Id>
					<Name><![CDATA[v_currentEnergyImport_kW]]></Name>
					<X>81</X><Y>1068</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701699273727</Id>
					<Name><![CDATA[v_currentEnergyExport_kW]]></Name>
					<X>81</X><Y>1088</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422825</Id>
					<Name><![CDATA[v_daytimeTotalImport_MWh]]></Name>
					<X>430</X><Y>1030</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422827</Id>
					<Name><![CDATA[v_daytimeTotalExport_MWh]]></Name>
					<X>430</X><Y>1050</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422829</Id>
					<Name><![CDATA[v_daytimeEnergyUsed_MWh]]></Name>
					<X>430</X><Y>1070</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422831</Id>
					<Name><![CDATA[v_daytimeEnergyProduced_MWh]]></Name>
					<X>430</X><Y>1090</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422833</Id>
					<Name><![CDATA[v_daytimeSelfConsumedEnergy_MWh]]></Name>
					<X>430</X><Y>1110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422835</Id>
					<Name><![CDATA[v_nighttimeTotalImport_MWh]]></Name>
					<X>718</X><Y>1028</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422837</Id>
					<Name><![CDATA[v_nighttimeTotalExport_MWh]]></Name>
					<X>718</X><Y>1048</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422839</Id>
					<Name><![CDATA[v_nighttimeEnergyUsed_MWh]]></Name>
					<X>718</X><Y>1068</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422841</Id>
					<Name><![CDATA[v_nighttimeEnergyProduced_MWh]]></Name>
					<X>718</X><Y>1088</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422843</Id>
					<Name><![CDATA[v_nighttimeSelfConsumedEnergy_MWh]]></Name>
					<X>718</X><Y>1108</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422845</Id>
					<Name><![CDATA[v_weekdayTotalImport_MWh]]></Name>
					<X>430</X><Y>1138</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422847</Id>
					<Name><![CDATA[v_weekdayTotalExport_MWh]]></Name>
					<X>430</X><Y>1158</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422849</Id>
					<Name><![CDATA[v_weekdayEnergyUsed_MWh]]></Name>
					<X>430</X><Y>1178</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422851</Id>
					<Name><![CDATA[v_weekdayEnergyProduced_MWh]]></Name>
					<X>430</X><Y>1198</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422853</Id>
					<Name><![CDATA[v_weekdaySelfConsumedEnergy_MWh]]></Name>
					<X>430</X><Y>1218</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422855</Id>
					<Name><![CDATA[v_weekendTotalImport_MWh]]></Name>
					<X>718</X><Y>1136</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422857</Id>
					<Name><![CDATA[v_weekendTotalExport_MWh]]></Name>
					<X>718</X><Y>1156</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422859</Id>
					<Name><![CDATA[v_weekendEnergyUsed_MWh]]></Name>
					<X>718</X><Y>1176</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422861</Id>
					<Name><![CDATA[v_weekendEnergyProduced_MWh]]></Name>
					<X>718</X><Y>1196</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701706422863</Id>
					<Name><![CDATA[v_weekendSelfConsumedEnergy_MWh]]></Name>
					<X>718</X><Y>1216</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701782531465</Id>
					<Name><![CDATA[v_peakElecImport_kW]]></Name>
					<X>80</X><Y>1170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701782538616</Id>
					<Name><![CDATA[v_peakElecExport_kW]]></Name>
					<X>80</X><Y>1190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701786170797</Id>
					<Name><![CDATA[v_daytimePeakElecImport_kW]]></Name>
					<X>430</X><Y>1250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701786170799</Id>
					<Name><![CDATA[v_daytimePeakElecExport_kW]]></Name>
					<X>430</X><Y>1270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701786184365</Id>
					<Name><![CDATA[v_nighttimePeakElecImport_kW]]></Name>
					<X>720</X><Y>1250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701786184367</Id>
					<Name><![CDATA[v_nighttimePeakElecExport_kW]]></Name>
					<X>720</X><Y>1270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701786186276</Id>
					<Name><![CDATA[v_winterWeekPeakElecImport_kW]]></Name>
					<X>750</X><Y>1960</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701786186278</Id>
					<Name><![CDATA[v_winterWeekPeakElecExport_kW]]></Name>
					<X>750</X><Y>1980</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701786190557</Id>
					<Name><![CDATA[v_summerWeekPeakElecImport_kW]]></Name>
					<X>750</X><Y>1670</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701786190559</Id>
					<Name><![CDATA[v_summerWeekPeakElecExport_kW]]></Name>
					<X>750</X><Y>1690</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701786316417</Id>
					<Name><![CDATA[v_currentElectricityImport_kW]]></Name>
					<X>80</X><Y>1120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701786316419</Id>
					<Name><![CDATA[v_currentElectricityExport_kW]]></Name>
					<X>80</X><Y>1140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701787706317</Id>
					<Name><![CDATA[v_weekdayPeakElecImport_kW]]></Name>
					<X>430</X><Y>1310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701787706319</Id>
					<Name><![CDATA[v_weekdayPeakElecExport_kW]]></Name>
					<X>430</X><Y>1330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701787749507</Id>
					<Name><![CDATA[v_weekendPeakElecImport_kW]]></Name>
					<X>720</X><Y>1310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701787749509</Id>
					<Name><![CDATA[v_weekendPeakElecExport_kW]]></Name>
					<X>720</X><Y>1330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701965985318</Id>
					<Name><![CDATA[v_netOverloadDuration_h]]></Name>
					<X>-480</X><Y>960</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1702377382300</Id>
					<Name><![CDATA[v_deltaThermalEnergySinceStart_MWh]]></Name>
					<X>430</X><Y>990</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1702536957687</Id>
					<Name><![CDATA[v_avgNetLoad_fr]]></Name>
					<X>-480</X><Y>980</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704795167515</Id>
					<Name><![CDATA[v_totalElectricityConsumed_MWh]]></Name>
					<X>-480</X><Y>1180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704795167517</Id>
					<Name><![CDATA[v_totalElectricityProduced_MWh]]></Name>
					<X>-480</X><Y>1200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704815333011</Id>
					<Name><![CDATA[v_totalElectricitySelfConsumed_MWh]]></Name>
					<X>-480</X><Y>1220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1658496701675</Id>
					<Name><![CDATA[p_timeStep_h]]></Name>
					<Description><![CDATA[Model timestep in uren. Kan in experimenten aangepast worden naar wens.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>-421</X><Y>89</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0.25]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1658496701673</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658752734133</Id>
					<Name><![CDATA[b_addKpiVisuals]]></Name>
					<Description><![CDATA[Schakelaar om optionele visualisatie-agent te creëren.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-421</X><Y>159</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[true]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1658752734131</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1659521098545</Id>
					<Name><![CDATA[p_undergroundTemperature_degC]]></Name>
					<Description><![CDATA[Constante ondergrondtemperatuur voor gebruik in bijv. loss-functions voor heatStorage en efficientieberekeningen van bodemwarmtepompen. Per modelrun ingelezen vanuit externe database en gelinkte excelsheet.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-421</X><Y>109</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1659521098543</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1663239405341</Id>
					<Name><![CDATA[j_dataOut]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-820</X><Y>730</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[DataOut]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1663239405339</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1663242364390</Id>
					<Name><![CDATA[j_experimentSettingsData]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-820</X><Y>750</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_ExperimentSettingsData]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1663242364388</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1663577621793</Id>
					<Name><![CDATA[p_parallelize]]></Name>
					<Description><![CDATA[Boolean om paralelle berekening van gridconnections aan te zetten.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>-421</X><Y>129</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[true]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1663577621791</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1666880315951</Id>
					<Name><![CDATA[j_simulationResults]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-820</X><Y>770</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_SimulationResults]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1666880315949</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1671636582218</Id>
					<Name><![CDATA[p_forecastTime_h]]></Name>
					<Description><![CDATA[Model timestep in uren. Kan in experimenten aangepast worden naar wens.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>810</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[18]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1671636582216</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1672910307060</Id>
					<Name><![CDATA[j_hourlyCurvesData]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-820</X><Y>790</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_HourlyCurvesData]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1672910307058</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1682945119357</Id>
					<Name><![CDATA[b_anylogicCostsForAllContracts]]></Name>
					<Description><![CDATA[Switch om HS en MS netload op 0 als output te geven wanneer er geen overbelasting plaats heeft gevonden. (workaround om geen greenfield kosten te hebben wanneer er geen overbelasting is!)

@author: GillisHommen
@since: 01/03/2023]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-819</X><Y>669</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[true]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1682945119355</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1692704003999</Id>
					<Name><![CDATA[b_storeProfiles]]></Name>
					<Description><![CDATA[Schakelaar om optionele visualisatie-agent te creëren.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-421</X><Y>179</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1692704003997</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1699275323339</Id>
					<Name><![CDATA[p_startHourWinterWeek]]></Name>
					<X>560</X><Y>600</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[8160]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1699275323337</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1699275323347</Id>
					<Name><![CDATA[p_startHourSummerWeek]]></Name>
					<X>560</X><Y>620</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[3288+24*7]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1699275323345</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1699290370683</Id>
					<Name><![CDATA[p_plotInterval_h]]></Name>
					<X>560</X><Y>640</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[168]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1699290370681</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1701855537716</Id>
					<Name><![CDATA[p_truckTripsExcel]]></Name>
					<X>-420</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[ExcelFile]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1701855537714</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1701855572858</Id>
					<Name><![CDATA[p_householdTripsExcel]]></Name>
					<X>-420</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[ExcelFile]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1701855572856</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1701855585052</Id>
					<Name><![CDATA[p_cookingPatternExcel]]></Name>
					<X>-420</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[ExcelFile]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1701855585050</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663238323139</Id>
					<Name><![CDATA[c_connectionOwners]]></Name>
					<X>90</X><Y>450</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[ConnectionOwner]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663251681035</Id>
					<Name><![CDATA[c_gridNodesHSMS]]></Name>
					<X>299</X><Y>108</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663252052482</Id>
					<Name><![CDATA[c_gridNodesMSLS]]></Name>
					<X>299</X><Y>128</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663312177330</Id>
					<Name><![CDATA[c_gridConnections]]></Name>
					<X>89</X><Y>244</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridConnection]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1663336485480</Id>
					<Name><![CDATA[c_gridNodesHeat]]></Name>
					<X>299</X><Y>148</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664953351408</Id>
					<Name><![CDATA[c_productionAssets]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>299</X><Y>208</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EAProduction]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1665492426842</Id>
					<Name><![CDATA[c_ambientAirDependentAssets]]></Name>
					<X>299</X><Y>248</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EA]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666884023719</Id>
					<Name><![CDATA[c_globalElectricityImportProfile_MW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>950</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666884311850</Id>
					<Name><![CDATA[c_globalElectricityExportProfile_MW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>970</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666978650654</Id>
					<Name><![CDATA[c_energyAssets]]></Name>
					<X>299</X><Y>186</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EA]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666981403077</Id>
					<Name><![CDATA[c_totalBatteryChargeAmount_MWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>1050</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[String]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666984250257</Id>
					<Name><![CDATA[c_totalBatteryDischargeAmount_MWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>1070</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[String]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666984296429</Id>
					<Name><![CDATA[c_totalBatteryInstalledCapacity_MWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>1090</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[String]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1667300034779</Id>
					<Name><![CDATA[c_totalBatteryUnitsInstalled]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>1110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[String]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1667553304068</Id>
					<Name><![CDATA[c_timesOfNodePeakLoads_h]]></Name>
					<X>-480</X><Y>580</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[String]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1668007771830</Id>
					<Name><![CDATA[c_globalEVChargingProfile_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>990</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1668007790848</Id>
					<Name><![CDATA[c_globalEHGVChargingProfile_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>1010</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1668007805687</Id>
					<Name><![CDATA[c_globalBatteryChargingProfile_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>1030</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Integer]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1669725679330</Id>
					<Name><![CDATA[c_gridConnectionOverload_fr]]></Name>
					<X>-480</X><Y>600</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[String]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1692799535493</Id>
					<Name><![CDATA[c_storageAssets]]></Name>
					<X>299</X><Y>228</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EAStorage]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1692871551713</Id>
					<Name><![CDATA[c_EVs]]></Name>
					<X>299</X><Y>268</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EAEV]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1703256089183</Id>
					<Name><![CDATA[c_actors]]></Name>
					<X>91</X><Y>468</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Actor]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Events>
				<Event>
					<Id>1658497469833</Id>
					<Name><![CDATA[e_calculateEnergyBalance]]></Name>
					<Description><![CDATA[Trigger voor energieberekeningen in de model backbone. Volgorde is belangrijk voor consistente resultaten.

@since: Sprint 6
@author: Jorrit]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>557</X><Y>82</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1/p_timeStep_h]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1658563200000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[0]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[p_timeStep_h]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[// Update tijdreeksen in leesbare variabelen
t_h = (v_timeStepsElapsed * p_timeStep_h + v_hourOfYearStart);// % 8760;

double startTime = System.currentTimeMillis();
f_updateTimeseries(t_h);
v_timeSeriesRuntime_ms += (System.currentTimeMillis()-startTime);

// Operate assets on each gridConnection
startTime = System.currentTimeMillis();
f_calculateGridConnectionFlows(t_h);
v_gridConnectionsRuntime_ms += (System.currentTimeMillis()-startTime);

// Calculate grid node flows
startTime = System.currentTimeMillis();
f_calculateGridnodeFlows(t_h);
v_gridNodesRuntime_ms += (System.currentTimeMillis()-startTime);

// Financial accounting of energy flows
startTime = System.currentTimeMillis();
f_calculateFinancialFlows(t_h);
v_financialsRuntime_ms += (System.currentTimeMillis()-startTime);

// Update elektriciteitsprijzen
startTime = System.currentTimeMillis();
f_updatePricesForNextTimestep(t_h);
v_incentivesRuntime_ms += (System.currentTimeMillis()-startTime);

v_timeStepsElapsed ++;
]]></Action>
				</Event>
				<Event>
					<Id>1674058522977</Id>
					<Name><![CDATA[pauseEvent]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>797</X><Y>212</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="occuresOnce">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1674115200000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[575]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[pauseSimulation();]]></Action>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1661328014569</Id>
					<Name><![CDATA[f_returnKPIData]]></Name>
					<Description><![CDATA[Executed on simulation end to export data.

@author: JorritvandenHouten
@since: Sprint 6]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-840</X><Y>650</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[writeToDisk]]></Name>
						<Type><![CDATA[boolean]]></Type>
					</Parameter>
					<Body><![CDATA[traceln("");
traceln("--------------------------");
traceln("====== RUN FINISHED ======");
traceln("--------------------------");
traceln("");

f_calculateKPIs();

ObjectMapper mapper = new ObjectMapper();

//DataOut great_succes = new DataOut();
j_dataOut.clearData();

// Collect actor data for all relevant actor groups en place in j_dataOut.actorData
for(ConnectionOwner c : pop_connectionOwners) {
	try {
		//traceln("ConnectionOwner v_ownedGridConnection: " + c.v_ownedGridConnection.p_gridConnectionID);
//		traceln("ConnectionOwner v_energySupplierDistrictHeat: " + c.v_energySupplierDistrictHeat.toString());
		boolean b_methaneUsedWithoutContracts = c.v_methanePrice_eurpkWh == 0.0 & c.v_totalMethaneUsed_kWh > 0;
		boolean b_hydrogenUsedWithoutContracts = c.v_hydrogenPrice_eurpkWh == 0.0 & c.v_totalHydrogenUsed_kWh > 0;
		if (b_methaneUsedWithoutContracts) {
			traceln("Connection Owner " + c.p_actorID + " used methane without the required contracts!") ;
		}
		String CoopString = c.p_CoopParent == null ? null : c.p_CoopParent.p_actorID;
//		c.j_ActorData.updateData(c.p_actorID, c.p_actorType, c.p_parentActorID, c.p_energySupplier.toString(), c.v_ownedGridConnection.toString(), c.v_energySupplierDistrictHeat.toString(), roundToDecimal( c.v_electricityVolume_kWh, 2 ), roundToDecimal( c.v_heatVolume_kWh, 2), roundToDecimal( c.v_methaneVolume_kWh, 2), roundToDecimal( c.v_hydrogenVolume_kWh, 2 ), c.v_electricityContractType.toString(), c.v_heatContractType.toString(), c.v_methaneContractType.toString(), c.v_hydrogenContractType.toString(), roundToDecimal( c.v_balanceElectricity_eur, 2), roundToDecimal( c.v_balanceHeat_eur, 2), roundToDecimal( c.v_balanceMethane_eur, 2), roundToDecimal( c.v_balanceHydrogen_eur, 2));
		
		//traceln("actor : "+  c.p_actorID);
		c.j_ActorData.updateData(
			c.p_actorID, c.p_actorType, c.p_gridOperator.p_actorID, CoopString, c.p_electricitySupplier.p_actorID, c.v_ownedGridConnection.p_gridConnectionID,
			null, roundToDecimal( c.v_totalElectricityUsed_kWh, 2 ), roundToDecimal( c.v_totalHeatUsed_kWh, 2), roundToDecimal( c.v_totalMethaneUsed_kWh, 2), 
			roundToDecimal( c.v_totalHydrogenUsed_kWh, 2 ), roundToDecimal( c.v_totalDieselUsed_kWh, 2 ),		
			roundToDecimal( c.v_balanceElectricity_eur, 2), roundToDecimal( c.v_balanceElectricityDelivery_eur, 2), 
			roundToDecimal( c.v_balanceElectricityTransport_eur, 2), roundToDecimal( c.v_balanceElectricityTax_eur, 2),
			c.v_contractDelivery.contractScope, c.v_contractTransport.contractScope, c.v_contractTax.contractScope,
			b_methaneUsedWithoutContracts, b_hydrogenUsedWithoutContracts);
			
				//c.v_electricityContractType.toString(), c.v_heatContractType.toString(), c.v_methaneContractType.toString(), c.v_hydrogenContractType.toString(), 
		//null, null, null, null,
		
		J_ActorData data = c.j_ActorData;
		j_dataOut.actorData.add(data);
	} catch (Exception e) {
		e.printStackTrace();
	}
	
	// Collect contracts with correnspondings energy/euro totals
	if (b_anylogicCostsForAllContracts) { // Account everything within anylogic, so that for all contracts only financialTransactionVolumes are non-zero, energyVolumes all zero.
		f_calculateContractCosts(c);
	} else { // Old method, which relies on cost-benefit module to calculate financial transactions for methane, hydrogen, diesel and heat.
		for(J_Contract co: c.c_actorContracts) {
			co.contractHolder = c.p_actorID;
			if(co.energyCarrier == OL_EnergyCarrierType.ELECTRICITY) {
				if(co.contractType.equals(OL_ContractType.DELIVERY)) {
					co.FinancialTransactionVolume_eur = c.v_balanceElectricityDelivery_eur;
				} else if(co.contractType.equals(OL_ContractType.TRANSPORT)) {
					co.FinancialTransactionVolume_eur = c.v_balanceElectricityTransport_eur;			
				} else if(co.contractType.equals(OL_ContractType.TAX)) {
					co.FinancialTransactionVolume_eur = c.v_balanceElectricityTax_eur;			
				}
			} else if (co.energyCarrier == OL_EnergyCarrierType.METHANE) {
				co.EnergyTransactionVolume_kWh = -c.v_totalMethaneUsed_kWh;
			} else if (co.energyCarrier == OL_EnergyCarrierType.HYDROGEN) {
				co.EnergyTransactionVolume_kWh = -c.v_totalHydrogenUsed_kWh;
			} else if (co.energyCarrier == OL_EnergyCarrierType.HEAT) {
				co.EnergyTransactionVolume_kWh = -c.v_totalHeatUsed_kWh;
			} else if (co.energyCarrier == OL_EnergyCarrierType.DIESEL) {
				co.EnergyTransactionVolume_kWh = -c.v_totalDieselUsed_kWh;
			}		
			j_dataOut.contractData.add(co);
			
		}
	}
//});
}
traceln("Printing all contract data: " + j_dataOut.contractData);
for(EnergyCoop a : pop_energyCoops) {
	a.f_totalFinances();
	try {
		//traceln("ConnectionOwner v_ownedGridConnection: " + a.v_ownedGridConnection.p_gridConnectionID);
		String CoopString = a.p_CoopParent == null ? null : a.p_CoopParent.toString();
		
		a.j_ActorData.updateData(a.p_actorID, a.p_actorType,  a.p_gridOperator.p_actorID, CoopString, a.p_electricitySupplier.p_actorID, a.p_gridNodeUnderResponsibility, 
		null, roundToDecimal( a.v_electricityImported_kWh-a.v_electricityExported_kWh, 2 ), roundToDecimal( a.v_heatImported_kWh-a.v_heatExported_kWh, 2), roundToDecimal( a.v_methaneImported_kWh-a.v_methaneExported_kWh, 2), roundToDecimal( a.v_hydrogenImported_kWh-a.v_hydrogenExported_kWh, 2 ), roundToDecimal( a.v_dieselImported_kWh, 2 ),
		//a.v_electricityContractType.toString(), a.v_heatContractType.toString(), a.v_methaneContractType.toString(), a.v_hydrogenContractType.toString(),
		//null, null, null, null,
		roundToDecimal( a.v_balanceElectricity_eur, 2), roundToDecimal( a.v_balanceElectricityDelivery_eur, 2), roundToDecimal( a.v_balanceElectricityTransport_eur, 2), roundToDecimal( a.v_balanceElectricityTax_eur, 2),
		a.v_contractDelivery.contractScope, a.v_contractTransport.contractScope, a.v_contractTax.contractScope,
		false, false);
		J_ActorData data = a.j_ActorData;
		j_dataOut.actorData.add(data);
	} catch (Exception e) {
		e.printStackTrace();
	}
	
	if (b_anylogicCostsForAllContracts) { // Account everything within anylogic, so that for all contracts only financialTransactionVolumes are non-zero, energyVolumes all zero.
		f_calculateContractCosts(a);
	} else { // Old method, which relies on cost-benefit module to calculate financial transactions for methane, hydrogen, diesel and heat.
	
		for(J_Contract co: a.c_actorContracts) {
			co.contractHolder = a.p_actorID;
			if(co.energyCarrier == OL_EnergyCarrierType.ELECTRICITY) {
				if(co.contractType.equals(OL_ContractType.DELIVERY)) {
					co.FinancialTransactionVolume_eur = a.v_balanceElectricityDelivery_eur;
				} else if(co.contractType.equals(OL_ContractType.TRANSPORT)) {
					co.FinancialTransactionVolume_eur = a.v_balanceElectricityTransport_eur;			
				} else if(co.contractType.equals(OL_ContractType.TAX)) {
					co.FinancialTransactionVolume_eur = a.v_balanceElectricityTax_eur;			
				}
			} else if (co.energyCarrier == OL_EnergyCarrierType.METHANE) {
				co.EnergyTransactionVolume_kWh = a.v_methaneImported_kWh-a.v_methaneExported_kWh;
			} else if (co.energyCarrier == OL_EnergyCarrierType.HYDROGEN) {
				co.EnergyTransactionVolume_kWh = a.v_hydrogenImported_kWh-a.v_hydrogenExported_kWh;
			} else if (co.energyCarrier == OL_EnergyCarrierType.HEAT) {
				co.EnergyTransactionVolume_kWh = a.v_heatImported_kWh-a.v_heatExported_kWh;
			} else if (co.energyCarrier == OL_EnergyCarrierType.DIESEL) {
				co.EnergyTransactionVolume_kWh = a.v_dieselImported_kWh;
			}
			j_dataOut.contractData.add(co);
			
		}
	}
//});
}


// Bereken netvlak-data:
//f_sumGridNodeLoads();
//traceln("Electricity imported: "+ v_totalElectricityImport_MWh + " MWh");
//traceln("Electricity exported: "+ v_totalElectricityExport_MWh + " MWh");

/*//Total energy consumption and production
//traceln("");
//traceln("__--** CONSUMPTION PER ASSET **--__");
double energyProduced_MWh = 0;
double electricityProduced_MWh = 0;
double energyConsumed_MWh = 0;
//testing
double energyConsumed_thermalModels_MWh = 0;   //tesing
double totalDistanceTrucks_km = 0;
double deltaThermalEnergySinceStart_MWh = 0;
double totalAmbientHeating_MWh = 0;

for (J_EA e : c_energyAssets) {
	double EnergyUsed_kWh = e.getEnergyUsed_kWh();
	double electricityProduced_kWh = 0;
	
	//energyConsumed_MWh += max(0,EnergyUsed_kWh)/1000;
	//energyProduced_MWh +=max(0,-EnergyUsed_kWh)/1000;
	if (EnergyUsed_kWh > 0) {
	
		if (e instanceof J_EAConversionCurtailer || e instanceof J_EAConversionCurtailerHeat) {
			energyProduced_MWh -= EnergyUsed_kWh/1000;
			v_totalEnergyCurtailed_MWh += EnergyUsed_kWh/1000;
		} else if( e instanceof J_EAConversionGasCHP ) {
			energyConsumed_MWh += EnergyUsed_kWh/1000;
			electricityProduced_kWh = ((J_EAConversionGasCHP)e).getElectricityProduced_kWh();
			electricityProduced_MWh += electricityProduced_kWh/1000;
		}
		else {
			energyConsumed_MWh += EnergyUsed_kWh/1000;
		}
		if( e instanceof J_EAStorageHeat && e.electricityConsumption_kW == 0) {
			energyConsumed_thermalModels_MWh +=  EnergyUsed_kWh/1000;
		}
		if ( e instanceof J_EABuilding ) {
			energyProduced_MWh += ((J_EABuilding)e).energyAbsorbed_kWh/1000;
			deltaThermalEnergySinceStart_MWh += (((J_EABuilding)e).getCurrentTemperature()-20)*((J_EABuilding)e).getHeatCapacity_JpK()/3.6e9;
		}
	} else {
		if( e.energyAssetType == OL_EnergyAssetType.PHOTOVOLTAIC ||  e.energyAssetType == OL_EnergyAssetType.WINDMILL){
		electricityProduced_MWh -= EnergyUsed_kWh/1000;
		}
		if( e.energyAssetType == OL_EnergyAssetType.METHANE_CHP ) { // Unreachable code; CHP will always have positive EnergyUsed_kWh!
			//electricityProduced_MWh += roundToDecimal(e/1000,2); // Total electricity produced is not stored in CHP asset!
			traceln("CHP electricity production not counted!");
		}
		energyProduced_MWh -= EnergyUsed_kWh/1000;
	}
	if (e instanceof J_EABuilding) {
		totalAmbientHeating_MWh += ((J_EABuilding)e).energyAbsorbed_kWh/1000;
	}
	if (e instanceof J_EAEV) {
		v_totalEnergyChargedOutsideModel_MWh += ((J_EAEV)e).energyChargedOutsideModelArea_kWh/1000;
	}
}

traceln("Total energy absorbed from environment by buildings: %s MWh", totalAmbientHeating_MWh);
traceln("Delta thermal stored energy since start: %s MWh", deltaThermalEnergySinceStart_MWh);
//traceln("Trucks have traveled " + totalDistanceTrucks_km + " km");

traceln("");
traceln("__--** Totals **--__");
traceln("Energy consumed: "+ energyConsumed_MWh + " MWh");
traceln("Energy consumed heatstorages: "+ energyConsumed_thermalModels_MWh + " MWh");
traceln("Energy produced: "+ energyProduced_MWh + " MWh");
//traceln("Electricity produced: "+ electricityProduced_MWh + " MWh (only by solar and wind");

traceln("");
//Total selfconsumption, selfsufficiency

if ( energyProduced_MWh > 0 ){
	v_modelSelfConsumption_fr = 1 - (v_totalElectricityExport_MWh + max(0,v_totalMethaneExport_MWh-v_totalMethaneImport_MWh) + max(0,v_totalHydrogenExport_MWh-v_totalHydrogenImport_MWh))/energyProduced_MWh;
}
traceln("Energy selfconsumption: " + v_modelSelfConsumption_fr*100 + "%");
double totalElectricitySelfConsumption_fr = 0;
if ( electricityProduced_MWh > 0 ){
	totalElectricitySelfConsumption_fr = 1 - v_totalElectricityExport_MWh/electricityProduced_MWh;
}

v_modelSelfSufficiency_fr = 1 - (v_totalElectricityImport_MWh + max(0,v_totalMethaneImport_MWh - v_totalMethaneExport_MWh) + 
max(0,v_totalHydrogenImport_MWh - v_totalHydrogenExport_MWh) + v_totalDieselImport_MWh - v_batteryStoredEnergyDeltaSinceStart_MWh - deltaThermalEnergySinceStart_MWh) / energyConsumed_MWh;
traceln("Energy selfsufficiency (via import calc): %s %%", v_modelSelfSufficiency_fr*100);
double totalSelfSufficiency_fr_check = (energyProduced_MWh - (v_totalElectricityExport_MWh + max(0,v_totalMethaneExport_MWh-v_totalMethaneImport_MWh) + 
max(0,v_totalHydrogenExport_MWh-v_totalHydrogenImport_MWh)))/energyConsumed_MWh;
traceln("Energy selfsufficiency (via export calc): %s %%", totalSelfSufficiency_fr_check*100);
// Remaining difference due to different temps of houses start vs end?

traceln( "import electricity: " + v_totalElectricityImport_MWh + " MWh");
traceln( "export electricity: " + v_totalElectricityExport_MWh + " MWh");
traceln( "nett import methane: " + (v_totalMethaneImport_MWh-v_totalMethaneExport_MWh) + " MWh");
traceln( "import diesel: " + v_totalDieselImport_MWh + " MWh");

traceln("MS node peak load: " + v_gridNodePeakLoadElectricityMSLS_kW + " kW at hour: " + c_timesOfNodePeakLoads_h);
*/
double nbcars = 0;
double nbevs = 0;
double shareElectricvehiclesInHouseholds;

for (GCHouse h : Houses){
	nbcars = nbcars + h.c_vehicleAssets.size(); //c_vehicleAssets has size 0 if it has an electric vehicles. So this is not double counting
	if (h.p_householdEV != null){
		nbevs++;
		nbcars++;
	}
}
if (nbcars != 0){
	shareElectricvehiclesInHouseholds = nbevs/nbcars;
}
else {
	shareElectricvehiclesInHouseholds = 0;
}
traceln("share EVs " + nbevs / nbcars);
traceln("nb EVs " + nbevs);

// add Total Cost KPI data:
j_simulationResults.updateData( roundToDecimal( v_gridNodePeakLoadElectricityHSMS_kW, 2 ),
							roundToDecimal( v_gridNodePeakLoadElectricityMSLS_kW, 2 ),
							v_cumulativeGridCapacityHSMS_kW,
							v_cumulativeGridCapacityMSLS_kW,
							v_netOverloadKPI_pct,
							c_timesOfNodePeakLoads_h,
							c_gridConnectionOverload_fr,
							v_MSLSnodePeakPositiveLoadElectricity_kW,
							v_MSLSnodePeakNegativeLoadElectricity_kW,
							v_totalElectricityImport_MWh,
							v_totalElectricityExport_MWh,
							v_totalMethaneImport_MWh,
							v_totalMethaneExport_MWh,
							v_totalHydrogenImport_MWh,
							v_totalHydrogenExport_MWh,
							v_totalDieselImport_MWh,
							c_totalBatteryUnitsInstalled,
							c_totalBatteryChargeAmount_MWh,
							c_totalBatteryDischargeAmount_MWh,
							c_totalBatteryInstalledCapacity_MWh,
							//c_globalElectricityImportProfile_MWhph,
							//c_globalElectricityExportProfile_MWhph,
							//c_globalEVChargingProfile_kWhph,
							//c_globalEHGVChargingProfile_kWhph,
							//c_globalBatteryChargingProfile_kWhph,
							v_modelSelfConsumption_fr,
							v_modelSelfSufficiency_fr,
							v_totalEnergyUsed_MWh,
							v_totalEnergyProduced_MWh,
							v_totalEnergyCurtailed_MWh,
							shareElectricvehiclesInHouseholds
							);

j_dataOut.simulationResults.add(j_simulationResults);

j_hourlyCurvesData.updateData( c_globalElectricityImportProfile_MW,
							c_globalElectricityExportProfile_MW,
							c_globalEVChargingProfile_kW,
							c_globalEHGVChargingProfile_kW,
							c_globalBatteryChargingProfile_kW);
							
j_dataOut.hourlyCurvesData.add(j_hourlyCurvesData);
double modelRunDuration_s = 0;
j_experimentSettingsData.updateData( p_timeStep_h+"",
									v_timeStepsElapsed+"",
									time(HOUR) + "",
									null + "",
									modelRunDuration_s + "",
									pop_gridNodes.size() + "",
									c_gridConnections.size() + "",
									c_energyAssets.size() + "",
									pop_connectionOwners.size() + "",
									pop_energySuppliers.size() + "",
									pop_energyCoops.size() + "",
									pop_gridOperators.size() + "",
									1 + "", 
									shareElectricvehiclesInHouseholds  );
									
j_dataOut.runSettingsData.add(j_experimentSettingsData);

//traceln("Netload " + v_gridNodePeakLoadElectricityMSLS_kW/pop_gridNodes.get(0).p_capacity_kW * 100 + " %" );
traceln("Model run duration: " + modelRunDuration_s + " seconds");

    //System.out.println(json);

String agentDataJson = "";
String settingsJson = "";
String simulationResultsJson = "";
String hourlyCurvesDataJson = "";
String contractDataJson = "";

try {
	agentDataJson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString( j_dataOut.actorData );
	settingsJson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString( j_dataOut.runSettingsData );
	simulationResultsJson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString( j_dataOut.simulationResults );
	hourlyCurvesDataJson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString( j_dataOut.hourlyCurvesData );
	contractDataJson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString( j_dataOut.contractData );
	update_o_outputActorData( agentDataJson );
	update_o_outputSettings( settingsJson );
	update_o_simulationResults( simulationResultsJson );
	update_o_hourlyCurvesData ( hourlyCurvesDataJson );
	update_o_contractData ( contractDataJson );
} catch(IOException e) {
	e.printStackTrace();
}

traceln("");
traceln("");
try {
    if(writeToDisk) {
    	//traceln("Succes.... YES!");
    	mapper.writerWithDefaultPrettyPrinter().writeValue(
		new File(".\\OutputAgentData.json"), j_dataOut.actorData );

	   	mapper.writerWithDefaultPrettyPrinter().writeValue(
		new File(".\\OutputRunSettingsData.json"), j_dataOut.runSettingsData );
//		traceln("file succes");

		mapper.writerWithDefaultPrettyPrinter().writeValue(
		new File(".\\OutputSimulationResults.json"), j_dataOut.simulationResults );

		mapper.writerWithDefaultPrettyPrinter().writeValue(
		new File(".\\ContractData.json"), j_dataOut.contractData );
		
		mapper.writerWithDefaultPrettyPrinter().writeValue(
		new File(".\\HourlyCurves.json"), j_dataOut.hourlyCurvesData );

	}
} catch (IOException e) {
//   traceln("exception generating output");
    e.printStackTrace();
}

return 1;
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664894248130</Id>
					<Name><![CDATA[f_updatePricesForNextTimestep]]></Name>
					<X>557</X><Y>212</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[t_h]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[// Update the dayaheadprice
nationalEnergyMarket.f_updateEnergyPrice();

//
for (EnergySupplier e : pop_energySuppliers) {
	e.f_updateEnergyPrice();
}
for (GridOperator g : pop_gridOperators) {
	if( g.p_hasCongestionPricing ){
		g.f_updateCongestionTariff();
	}
}
for (EnergyCoop e : pop_energyCoops) {
	//e.f_updateEnergyPrice();
	//e.f_updateOtherIncentives();
	//e.f_setPriceBandsExperiment();
	e.f_updateIncentives();
}


/*if (p_parallelize) {
	c_connectionOwners.parallelStream().forEach(co -> co.f_updateIncentives());	
} else {*/
	for (ConnectionOwner c : pop_connectionOwners) {
		c.f_updateIncentives();
	}
//}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664952601107</Id>
					<Name><![CDATA[f_updateTimeseries]]></Name>
					<X>557</X><Y>132</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[t_h]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[
v_currentHouseHoldOtherElectricityDemand_fr = tf_p_house_e_demand_other(t_h);
v_currentBuildingOtherElectricityDemand_fr = tf_p_building_e_demand_other(t_h);
v_currentBuildingHeatDemand_fr = tf_p_building_h_demand(t_h);
v_currentHouseHoldHotWaterDemand_fr = tf_p_house_h_demand_hot_water(t_h);
v_currentWindPowerNormalized_r = tf_p_wind_e_normalized(t_h);
v_currentSolarPowerNormalized_r = tf_p_solar_e_normalized(t_h);
v_currentAmbientTemperature_degC = tf_ambientTemperature_degC(t_h);
v_currentIndustrySteelElectricityDemand_fr = tf_p_industry_steel_e_demand(t_h);
v_currentIndustrySteelHeatDemand_fr = tf_p_industry_steel_h_demand(t_h);
v_currentIndustryOtherElectricityDemand_fr = tf_p_industry_other_e_demand(t_h);
v_currentIndustryOtherHeatDemand_fr = tf_p_industry_other_h_demand(t_h);
v_currentLogisticsFleetEDemand_fr = tf_p_logistics_fleet_e_hgv(t_h);
//traceln("Time hour " + time(HOUR) + ", t_h " + t_h + ", fleet demand " + v_currentLogisticsFleetEDemand_fr);

// Update environmental conditions for relevant energy assets
for( J_EA e : c_ambientAirDependentAssets ) {
	if( e instanceof J_EAStorageHeat ) {
		//e.f_setLinkedVariable("AIR", null); // Why every timestep??
		((J_EAStorageHeat)e).updateAmbientTemperature( v_currentAmbientTemperature_degC );		
		//e.updateAmbientTemperature( e.p_baseTemperatureReference );
	} else if (e instanceof J_EAConversionHeatPump) {
		((J_EAConversionHeatPump)e).updateAmbientTemperature( v_currentAmbientTemperature_degC );		
	//e.updateAmbientTemperature( e.p_baseTemperatureReference );
	}else if( e instanceof J_EABuilding ) {
		((J_EABuilding)e).updateSolarRadiation(v_currentSolarPowerNormalized_r*1000);
		((J_EABuilding)e).updateAmbientTemperature(v_currentAmbientTemperature_degC);
	}
}

// Update weather forecast
v_SolarYieldForecast_fr += (tf_p_solar_e_normalized(t_h+p_forecastTime_h)-v_currentSolarPowerNormalized_r)/(p_forecastTime_h/p_timeStep_h);
v_WindYieldForecast_fr += (tf_p_wind_e_normalized(t_h+p_forecastTime_h)-v_currentWindPowerNormalized_r)/(p_forecastTime_h/p_timeStep_h);
v_epexForecast_eurpkWh += (nationalEnergyMarket.tf_dayAheadElectricityPricing_eurpMWh(t_h+p_forecastTime_h)-nationalEnergyMarket.tf_dayAheadElectricityPricing_eurpMWh(t_h))/(p_forecastTime_h/p_timeStep_h)/1000;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665051878402</Id>
					<Name><![CDATA[f_calculateGridnodeFlows]]></Name>
					<X>557</X><Y>172</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[t_h]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[v_currentElectricityImport_kW = 0;
v_currentElectricityExport_kW = 0;

for(GridNode n : c_gridNodesHeat) {
	n.f_calculateEnergyBalance();
}
for(GridNode n : c_gridNodesMSLS) {
	n.f_calculateEnergyBalance();
}
for(GridNode n : c_gridNodesHSMS) {
	n.f_calculateEnergyBalance();
	v_currentElectricityImport_kW += max(0, n.v_currentLoadElectricity_kW );
	v_currentElectricityExport_kW += - min(0, n.v_currentLoadElectricity_kW );
}

/*if (b_storeProfiles) {
	// Write data to 'signal' objects
	double p_signalResolution_h = 1.0; // For consistency of units, make signal resolution explicit!
	
	double currentImport_MW = v_currentElectricityImport_kW / 1000;
	double currentExport_MW = v_currentElectricityExport_kW / 1000;
	int timeIndex = (int)floor( time(HOUR) );
	
	c_globalElectricityImportProfile_MW.computeIfPresent( timeIndex, (key, val) -> val + currentImport_MW * p_timeStep_h / p_signalResolution_h);
	c_globalElectricityImportProfile_MW.computeIfAbsent( timeIndex, k -> currentImport_MW * p_timeStep_h / p_signalResolution_h );
	c_globalElectricityExportProfile_MW.computeIfPresent( timeIndex, (key, val) -> val + currentExport_MW * p_timeStep_h / p_signalResolution_h);
	c_globalElectricityExportProfile_MW.computeIfAbsent( timeIndex, k -> currentExport_MW * p_timeStep_h / p_signalResolution_h );
	
	// Average EV load over one hour
	
	double currentEVLoad_kW = 0;
	double currentEHGVLoad_kW = 0;
	for(J_EA e : c_energyAssets) {
		if( e.energyAssetType == OL_EnergyAssetType.ELECTRIC_VEHICLE && ! e.energyAssetName.equals("EHGV") ) {
			//traceln("EV power queried!!!");
			currentEVLoad_kW += (e.electricityProduction_kW - e.electricityConsumption_kW);
		}
		if( e.energyAssetName.equals("EHGV") ) {
			//traceln("EHGV power queried!!!");
			currentEHGVLoad_kW += (e.electricityProduction_kW - e.electricityConsumption_kW);
		}
	}
	double totalEVLoad_kW = currentEVLoad_kW;
	double totalEHGVLoad_kW = currentEHGVLoad_kW;
	//traceln("f_calculateGridNodeFlows check: totalEVLoad_kWhph "+totalEVLoad_kWhph);
	c_globalEVChargingProfile_kW.computeIfPresent( timeIndex, (key, val) -> val + totalEVLoad_kW * p_timeStep_h / p_signalResolution_h );
	c_globalEVChargingProfile_kW.computeIfAbsent( timeIndex, k -> totalEVLoad_kW * p_timeStep_h / p_signalResolution_h );
	
	c_globalEHGVChargingProfile_kW.computeIfPresent( timeIndex, (key, val) -> val + totalEHGVLoad_kW * p_timeStep_h / p_signalResolution_h );
	c_globalEHGVChargingProfile_kW.computeIfAbsent( timeIndex, k -> totalEHGVLoad_kW * p_timeStep_h / p_signalResolution_h);
	
	// Average battery load over one hour
	double currentBatteryLoad_kW = 0;
	for( J_EAStorage e : c_storageAssets ) {
		if(e.getClass().equals(J_EAStorageElectric.class)) {
			currentBatteryLoad_kW += e.electricityProduction_kW - e.electricityConsumption_kW;
		}
	}
	
	double totalBatteryLoad_kW = currentBatteryLoad_kW;
	c_globalBatteryChargingProfile_kW.computeIfPresent( timeIndex, (key, val) -> val + totalBatteryLoad_kW * p_timeStep_h / p_signalResolution_h );
	c_globalBatteryChargingProfile_kW.computeIfAbsent( timeIndex, k -> totalBatteryLoad_kW * p_timeStep_h / p_signalResolution_h );
}*/]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665051962956</Id>
					<Name><![CDATA[f_calculateFinancialFlows]]></Name>
					<X>557</X><Y>192</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[t_h]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[/*if (p_parallelize) {
	c_connectionOwners.parallelStream().forEach(co -> co.f_updateFinances());
} else {*/
	for (ConnectionOwner c : pop_connectionOwners) {
		c.f_updateFinances();
	}
//}

for (EnergyCoop h : pop_energyCoops) {
	h.f_updateFinances();
}
for (EnergySupplier e : pop_energySuppliers) {
	e.f_updateFinances();
}
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666879523873</Id>
					<Name><![CDATA[f_sumGridNodeLoads]]></Name>
					<Description><![CDATA[Bereken belasting per netvlak in het model (elektriciteit, absolute waarde) voor kosten-berekeningen gebied buiten het model.

@author: Jorrit
@since: 27-10-2022]]></Description>
					<X>-830</X><Y>560</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Bereken belasting per netvlak in het model (elektriciteit, absolute waarde) voor kosten-berekeningen gebied.

// Reset totals in case a full year simulation was already run before...
v_gridNodePeakLoadElectricityHSMS_kW = 0;
v_totalElectricityImport_MWh = 0;
v_totalElectricityExport_MWh = 0;
c_timesOfNodePeakLoads_h.clear();
v_cumulativeGridCapacityHSMS_kW = 0;
v_netOverloadDuration_h = 0;

v_totalElectricityConsumed_MWh = 0;
v_totalElectricityProduced_MWh = 0;

for(GridNode h : c_gridNodesHSMS ) {
//	v_gridNodePeakLoadElectricityHSMS_kW = max(v_gridNodePeakLoadElectricityHSMS_kW,abs(h.v_peakLoadFilteredElectricity_kW));
	v_gridNodePeakLoadElectricityHSMS_kW += abs(h.v_peakLoadFilteredElectricity_kW);
	
	v_totalElectricityImport_MWh += h.v_electricityDrawn_kWh / 1000.0;
	v_totalElectricityExport_MWh += h.v_electricityDelivered_kWh / 1000.0;
	c_timesOfNodePeakLoads_h.put(h.p_gridNodeID, h.v_timeOfPeakLoadFiltered_h);
	v_cumulativeGridCapacityHSMS_kW += h.p_capacity_kW;
	
	v_netOverloadDuration_h += h.v_totalTimeOverloaded_h;
}

v_gridNodePeakLoadElectricityMSLS_kW=0;
c_timesOfNodePeakLoads_h.clear();
v_cumulativeGridCapacityMSLS_kW=0;

for(GridNode m : c_gridNodesMSLS ) {
	v_gridNodePeakLoadElectricityMSLS_kW += abs(m.v_peakLoadFilteredElectricity_kW);
	
	v_MSLSnodePeakPositiveLoadElectricity_kW = max(v_MSLSnodePeakPositiveLoadElectricity_kW, m.v_peakPosLoadElectricity_kW);
	v_MSLSnodePeakNegativeLoadElectricity_kW = max(v_MSLSnodePeakNegativeLoadElectricity_kW, -m.v_peakNegLoadElectricity_kW);
	c_timesOfNodePeakLoads_h.put(m.p_gridNodeID, m.v_timeOfPeakLoadFiltered_h);
	v_cumulativeGridCapacityMSLS_kW += m.p_capacity_kW;
	
	if( c_gridNodesHSMS.size() == 0){
		v_totalElectricityImport_MWh += m.v_electricityDrawn_kWh / 1000.0;
		v_totalElectricityExport_MWh += m.v_electricityDelivered_kWh / 1000.0;
	}
	
	//traceln("MSLS node peak load unfiltered: " + m.v_peakLoadAbsoluteElectricity_kW + " kW");
	//traceln("Grid node " + m.p_gridNodeID);
	//traceln("MSLS peak positive load filtered: " + roundToDecimal(m.v_peakPosLoadElectricity_kW/m.p_capacity_kW*100,2) + " % at time: " + m.v_timeOfPeakPosLoadFiltered_h + " h");
	//traceln("MSLS peak negative load filtered: " + roundToDecimal(m.v_peakNegLoadElectricity_kW/m.p_capacity_kW*100,2) + " % at time: " + m.v_timeOfPeakNegLoadFiltered_h + " h");
}

for(GridConnection g: c_gridConnections){
    c_gridConnectionOverload_fr.put(g.p_gridConnectionID, g.v_maxConnectionLoad_fr);
    v_totalElectricityConsumed_MWh += g.v_totalElectricityConsumed_MWh;
    v_totalElectricityProduced_MWh += g.v_totalElectricityProduced_MWh;
}

// Electricity self consumption
v_totalElectricitySelfConsumed_MWh = max(0, v_totalElectricityConsumed_MWh - v_totalElectricityImport_MWh);


// If the energy system only has LS nodes, determine KPI on LS level, otherwise on HS
if (c_gridNodesHSMS.size() == 0){
	double cumulativeGridNodePeakLoadElectricityMSLS_kW=0;
	for(GridNode m : c_gridNodesMSLS ) {		
		cumulativeGridNodePeakLoadElectricityMSLS_kW += abs(m.v_peakLoadFilteredElectricity_kW);
	}

	v_netOverloadKPI_pct = 100 * (max (0, cumulativeGridNodePeakLoadElectricityMSLS_kW ) / v_cumulativeGridCapacityMSLS_kW);
}
else if (c_gridNodesHSMS.size() > 1) {
	double cumulativeGridNodePeakLoadElectricityHSMS_kW=0;
	if (c_gridNodesHSMS.size() == 1 & c_gridNodesMSLS.size() == 1) { // laat netload KPI negatief worden als er maar 1 node is!
		for(GridNode h : c_gridNodesHSMS ) {		
			cumulativeGridNodePeakLoadElectricityHSMS_kW += (h.v_peakLoadFilteredElectricity_kW);
		}	
		v_netOverloadKPI_pct = 100 * (cumulativeGridNodePeakLoadElectricityHSMS_kW / v_cumulativeGridCapacityHSMS_kW);	
	} else {
		for(GridNode h : c_gridNodesHSMS ) {		
			cumulativeGridNodePeakLoadElectricityHSMS_kW += abs(h.v_peakLoadFilteredElectricity_kW);
		}
		v_netOverloadKPI_pct = 100 * (max (0, cumulativeGridNodePeakLoadElectricityHSMS_kW ) / v_cumulativeGridCapacityHSMS_kW);	
	}

}
else {
	double HSMSPeakLoad_kW = c_gridNodesHSMS.get(0).v_peakLoadFilteredElectricity_kW;
	v_netOverloadKPI_pct = 100 * HSMSPeakLoad_kW / v_cumulativeGridCapacityHSMS_kW;
}

v_avgNetLoad_fr = c_gridNodesHSMS.get(0).v_averageAbsoluteLoadElectricity_kW/c_gridNodesHSMS.get(0).p_capacity_kW;
//traceln("Average load on HSMS node: %s %", v_avgNetLoad_fr*100);]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666945497935</Id>
					<Name><![CDATA[f_sumMolecularEnergyFlows]]></Name>
					<Description><![CDATA[Bereken invoer en uitvoer van energiedragers naast elektriciteit (methaan, waterstof) voor totale kostenberekening en model-verificatie. Aangeroepen in f_returnKPIData aan het einde van de modelrun.

@author: JorritvandenHouten
@since: 28-10-2022]]></Description>
					<X>-830</X><Y>580</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_totalMethaneImport_MWh = 0;
v_totalMethaneExport_MWh = 0;
v_totalHydrogenImport_MWh = 0;
v_totalHydrogenExport_MWh = 0;
v_totalDieselImport_MWh = 0;

for(GridConnection g : c_gridConnections ) {
	v_totalMethaneImport_MWh += g.v_methaneDrawn_kWh / 1000;
	v_totalMethaneExport_MWh += g.v_methaneDelivered_kWh / 1000;
	v_totalHydrogenImport_MWh += g.v_hydrogenDrawn_kWh / 1000;
	v_totalHydrogenExport_MWh += g.v_hydrogenDelivered_kWh / 1000;
	v_totalDieselImport_MWh += g.v_dieselDrawn_kWh / 1000;
}

// Assume 'infinite storage' of methane within model-scope; only nett total import/export counts.
if (v_totalMethaneImport_MWh > v_totalMethaneExport_MWh) {
	v_totalMethaneImport_MWh = v_totalMethaneImport_MWh - v_totalMethaneExport_MWh;
	v_totalMethaneExport_MWh = 0;
} else {
	v_totalMethaneExport_MWh = v_totalMethaneExport_MWh - v_totalMethaneImport_MWh;
	v_totalMethaneImport_MWh = 0;
}

// Assume 'infinite storage' of hydrogen within model-scope; only nett total import/export counts.
if (v_totalHydrogenImport_MWh > v_totalHydrogenExport_MWh) {
	v_totalHydrogenImport_MWh = v_totalHydrogenImport_MWh - v_totalHydrogenExport_MWh;
	v_totalHydrogenExport_MWh = 0;
} else {
	v_totalHydrogenExport_MWh = v_totalHydrogenExport_MWh - v_totalHydrogenImport_MWh;
	v_totalHydrogenImport_MWh = 0;
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666978595555</Id>
					<Name><![CDATA[f_sumBatteryUse]]></Name>
					<X>-830</X><Y>600</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_totalBatteryDischargeAmount_MWh = 0;
v_totalBatteryChargeAmount_MWh = 0;
v_totalBatteryInstalledCapacity_MWh = 0;
v_totalBatteryEnergyUsed_MWh = 0;

for(J_EAStorage es : c_storageAssets ) {
	if( es instanceof J_EAStorageElectric ) {
		J_EAStorageElectric e = (J_EAStorageElectric)es;
		//traceln("triggered!!"+e.j_ea.toString());

		/*c_totalBatteryUnitsInstalled.computeIfPresent( e.energyAssetName, (key, val) ->val + 1.0 );
		c_totalBatteryUnitsInstalled.computeIfAbsent( e.energyAssetName, k -> 1.0 );

		c_totalBatteryChargeAmount_MWh.computeIfPresent( e.energyAssetName, (key, val) -> roundToDecimal( val + e.getTotalChargeAmount_kWh() / 1000, 2 ));
		c_totalBatteryChargeAmount_MWh.computeIfAbsent( e.energyAssetName, k -> e.getTotalChargeAmount_kWh() / 1000 );
		c_totalBatteryDischargeAmount_MWh.computeIfPresent( e.energyAssetName, (key, val) -> roundToDecimal( val + e.getTotalDischargeAmount_kWh() / 1000, 2 ));
		c_totalBatteryDischargeAmount_MWh.computeIfAbsent( e.energyAssetName, k -> e.getTotalDischargeAmount_kWh() / 1000 );
		c_totalBatteryInstalledCapacity_MWh.computeIfPresent( e.energyAssetName, (key, val) -> roundToDecimal( val + e.getStorageCapacity_kWh() / 1000, 2 ));
		c_totalBatteryInstalledCapacity_MWh.computeIfAbsent( e.energyAssetName, k -> e.getStorageCapacity_kWh() / 1000 );
		*/
		
		v_totalBatteryDischargeAmount_MWh += e.getTotalDischargeAmount_kWh() / 1000;
		v_totalBatteryChargeAmount_MWh += e.getTotalChargeAmount_kWh() / 1000;
		v_totalBatteryInstalledCapacity_MWh += e.getStorageCapacity_kWh() / 1000;
		v_totalBatteryEnergyUsed_MWh += e.getEnergyUsed_kWh() / 1000;
		//traceln( ((J_EAStorageElectric)e.j_ea).getStorageCapacity() / 1000 );
	}
}
for(J_EAEV ev : c_EVs ) {

	//	J_EAStorageElectric e = (J_EAStorageElectric)es;
	//traceln("triggered!!"+e.j_ea.toString());

	/*c_totalBatteryUnitsInstalled.computeIfPresent( e.energyAssetName, (key, val) ->val + 1.0 );
	c_totalBatteryUnitsInstalled.computeIfAbsent( e.energyAssetName, k -> 1.0 );

	c_totalBatteryChargeAmount_MWh.computeIfPresent( e.energyAssetName, (key, val) -> roundToDecimal( val + e.getTotalChargeAmount_kWh() / 1000, 2 ));
	c_totalBatteryChargeAmount_MWh.computeIfAbsent( e.energyAssetName, k -> e.getTotalChargeAmount_kWh() / 1000 );
	c_totalBatteryDischargeAmount_MWh.computeIfPresent( e.energyAssetName, (key, val) -> roundToDecimal( val + e.getTotalDischargeAmount_kWh() / 1000, 2 ));
	c_totalBatteryDischargeAmount_MWh.computeIfAbsent( e.energyAssetName, k -> e.getTotalDischargeAmount_kWh() / 1000 );
	c_totalBatteryInstalledCapacity_MWh.computeIfPresent( e.energyAssetName, (key, val) -> roundToDecimal( val + e.getStorageCapacity_kWh() / 1000, 2 ));
	c_totalBatteryInstalledCapacity_MWh.computeIfAbsent( e.energyAssetName, k -> e.getStorageCapacity_kWh() / 1000 );
	*/
	
	//v_totalBatteryDischargeAmount_MWh += ev.getTotalDischargeAmount_kWh() / 1000;
	//v_totalBatteryChargeAmount_MWh += ev.getTotalChargeAmount_kWh() / 1000;
	//v_totalBatteryInstalledCapacity_MWh += ev.getStorageCapacity_kWh() / 1000;
	//v_totalBatteryEnergyUsed_MWh += ev.getEnergyUsed_kWh() / 1000;
	//traceln( ((J_EAStorageElectric)e.j_ea).getStorageCapacity() / 1000 );

}


double v_batteryStoredEnergyDeltaSinceStart_MWh = v_totalBatteryChargeAmount_MWh - v_totalBatteryDischargeAmount_MWh - v_totalBatteryEnergyUsed_MWh;
if (v_batteryStoredEnergyDeltaSinceStart_MWh == Double.NaN) {
	v_batteryStoredEnergyDeltaSinceStart_MWh = 0;
}
traceln("Electricity delta in batteries: "+ v_batteryStoredEnergyDeltaSinceStart_MWh + " MWh");]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668528129020</Id>
					<Name><![CDATA[f_calculateGridConnectionFlows]]></Name>
					<X>557</X><Y>152</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[t_h]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[double totalElectricPower_kW = 0, totalMethanePower_kW = 0, totalDieselPower_kW = 0, totalHydrogenPower_kW = 0;
v_currentEnergyConsumption_kW = 0;
v_currentEnergyProduction_kW = 0;
v_currentEnergyCurtailed_kW = 0;

if (p_parallelize) {
	c_gridConnections.parallelStream().forEach(gc -> gc.f_calculateEnergyBalance());
	for(GridConnection gc : c_gridConnections) { // Can't do this in parallel due to different threads writing to the same values!
		totalElectricPower_kW += gc.v_currentPowerElectricity_kW;
		totalMethanePower_kW += gc.v_currentPowerMethane_kW;
		totalHydrogenPower_kW += gc.v_currentPowerHydrogen_kW;
		totalDieselPower_kW += gc.v_currentPowerDiesel_kW;
		v_currentEnergyConsumption_kW += gc.v_currentEnergyConsumption_kW;
		v_currentEnergyProduction_kW += gc.v_currentEnergyProduction_kW;
		v_currentEnergyCurtailed_kW += gc.v_currentEnergyCurtailed_kW;
	}
} 
else {
	for(GridConnection gc : c_gridConnections) {
		gc.f_calculateEnergyBalance();
		totalElectricPower_kW += gc.v_currentPowerElectricity_kW;
		totalMethanePower_kW += gc.v_currentPowerMethane_kW;
		totalHydrogenPower_kW += gc.v_currentPowerHydrogen_kW;
		totalDieselPower_kW += gc.v_currentPowerDiesel_kW;		
		v_currentEnergyConsumption_kW += gc.v_currentEnergyConsumption_kW;
		v_currentEnergyProduction_kW += gc.v_currentEnergyProduction_kW;
		v_currentEnergyCurtailed_kW += gc.v_currentEnergyCurtailed_kW;
	}
}
v_currentEnergyImport_kW = max(0,totalElectricPower_kW) + max(0, totalMethanePower_kW) + max(0,totalHydrogenPower_kW) + totalDieselPower_kW; // Heat excluded as it is assumes it will not be imported/exported! Total heatbalance should be 0.
v_currentEnergyExport_kW = max(0,-totalElectricPower_kW) + max(0, -totalMethanePower_kW) + max(0,-totalHydrogenPower_kW);
		
// Current consumption and production

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1671636439933</Id>
					<Name><![CDATA[f_initializeForecasts]]></Name>
					<X>810</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_WindYieldForecast_fr = 0;
v_SolarYieldForecast_fr = 0;
v_epexForecast_eurpkWh = 0;
for (double ts_h = t_h; ts_h<t_h+p_forecastTime_h; ts_h += p_timeStep_h) {
	v_WindYieldForecast_fr += tf_p_wind_e_normalized(ts_h)/(p_forecastTime_h/p_timeStep_h);
	v_SolarYieldForecast_fr += tf_p_solar_e_normalized(ts_h)/(p_forecastTime_h/p_timeStep_h);
	//v_epexForecast_eurpkWh += nationalEnergyMarket.tf_dayAheadElectricityPricing_eurpMWh(ts_h)/(p_forecastTime_h/p_timeStep_h)/1000;
}
//v_epexForecast_eurpkWh += 0.17;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1682943799138</Id>
					<Name><![CDATA[f_calculateContractCosts]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-819</X><Y>689</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[a]]></Name>
						<Type><![CDATA[Actor]]></Type>
					</Parameter>
					<Body><![CDATA[double v_totalMethaneUsed_kWh = 0;
double v_totalDieselUsed_kWh = 0;
double v_totalHydrogenUsed_kWh = 0;
double v_totalHeatUsed_kWh = 0;

double v_balanceElectricityDelivery_eur = 0;
double v_balanceElectricityTransport_eur = 0;
double v_balanceElectricityTax_eur = 0;

String p_actorID = "";
ArrayList<J_Contract> c_actorContracts = null;

if (a instanceof ConnectionOwner) {
	ConnectionOwner c = (ConnectionOwner)a;
	p_actorID = c.p_actorID;
	c_actorContracts = c.c_actorContracts;
	v_totalMethaneUsed_kWh = c.v_totalMethaneUsed_kWh;
	v_totalDieselUsed_kWh = c.v_totalDieselUsed_kWh;
	v_totalHydrogenUsed_kWh = c.v_totalHydrogenUsed_kWh;
	v_totalHeatUsed_kWh = c.v_totalHeatUsed_kWh;
	v_balanceElectricityDelivery_eur = c.v_balanceElectricityDelivery_eur;
	v_balanceElectricityTransport_eur = c.v_balanceElectricityTransport_eur;
	v_balanceElectricityTax_eur = c.v_balanceElectricityTax_eur;
} else {
	EnergyCoop c = (EnergyCoop)a;
	p_actorID = c.p_actorID;
	c_actorContracts = c.c_actorContracts;
	v_totalMethaneUsed_kWh = c.v_methaneImported_kWh - c.v_methaneExported_kWh;
	v_totalDieselUsed_kWh = c.v_dieselImported_kWh;
	v_totalHydrogenUsed_kWh = c.v_hydrogenImported_kWh - c.v_hydrogenExported_kWh;
	v_totalHeatUsed_kWh = c.v_heatImported_kWh - c.v_heatExported_kWh;
	v_balanceElectricityDelivery_eur = c.v_balanceElectricityDelivery_eur;
	v_balanceElectricityTransport_eur = c.v_balanceElectricityTransport_eur;
	v_balanceElectricityTax_eur = c.v_balanceElectricityTax_eur;
}

J_DeliveryContract methaneDeliveryContract = null;
J_DeliveryContract hydrogenDeliveryContract = null;
J_DeliveryContract dieselDeliveryContract = null;
J_DeliveryContract heatDeliveryContract = null;

J_TaxContract methaneTaxContract = null;
J_TaxContract hydrogenTaxContract = null;
J_TaxContract dieselTaxContract = null;
J_TaxContract heatTaxContract = null;

J_TransportContract methaneTransportContract = null;
J_TransportContract hydrogenTransportContract = null;
J_TransportContract dieselTransportContract = null;
J_TransportContract heatTransportContract = null;

J_ConnectionContract methaneConnectionContract = null;
J_ConnectionContract hydrogenConnectionContract = null;
J_ConnectionContract dieselConnectionContract = null;
J_ConnectionContract heatConnectionContract = null;


//for(J_Contract co: c.c_actorContracts) {
for( int idx = 0 ; idx<c_actorContracts.size() ; idx++) {
	J_Contract co = c_actorContracts.get(idx);
	co.contractHolder = p_actorID;	
	
	if(co.energyCarrier == OL_EnergyCarrierType.ELECTRICITY) {
		if(co.contractType.equals(OL_ContractType.DELIVERY)) {
			co.FinancialTransactionVolume_eur = -v_balanceElectricityDelivery_eur;
		} else if(co.contractType.equals(OL_ContractType.TRANSPORT)) {
			co.FinancialTransactionVolume_eur = -v_balanceElectricityTransport_eur;			
		} else if(co.contractType.equals(OL_ContractType.TAX)) {
			co.FinancialTransactionVolume_eur = -v_balanceElectricityTax_eur;			
		}
		co.FinancialTransactionVolume_eur += co.annualFee_eur;
		j_dataOut.contractData.add(co);
	} else if (co.energyCarrier == OL_EnergyCarrierType.METHANE) {
		if(co.contractType.equals(OL_ContractType.DELIVERY)) {
				methaneDeliveryContract = (J_DeliveryContract)co;
				methaneDeliveryContract.idx = idx;
			} else if(co.contractType.equals(OL_ContractType.TRANSPORT)) {
				methaneTransportContract = (J_TransportContract) co;
				methaneTransportContract.idx = idx;
			} else if(co.contractType.equals(OL_ContractType.TAX)) {
				methaneTaxContract = (J_TaxContract)co;
				methaneTaxContract.idx = idx;
			} else if(co.contractType.equals(OL_ContractType.CONNECTION)) {
				methaneConnectionContract = (J_ConnectionContract)co;
				methaneConnectionContract.idx = idx;
			}
			//co.EnergyTransactionVolume_kWh = -c.v_totalMethaneUsed_kWh;
	} else if (co.energyCarrier == OL_EnergyCarrierType.HYDROGEN) {
		if(co.contractType.equals(OL_ContractType.DELIVERY)) {
				hydrogenDeliveryContract = (J_DeliveryContract)co;
				hydrogenDeliveryContract.idx = idx;
			} else if(co.contractType.equals(OL_ContractType.TRANSPORT)) {
				hydrogenTransportContract = (J_TransportContract)co;
				hydrogenTransportContract.idx = idx;
			} else if(co.contractType.equals(OL_ContractType.TAX)) {
				hydrogenTaxContract = (J_TaxContract)co;
				hydrogenTaxContract.idx = idx;
			} else if(co.contractType.equals(OL_ContractType.CONNECTION)) {
				hydrogenConnectionContract = (J_ConnectionContract)co;
				hydrogenConnectionContract.idx = idx;
			}
		//co.EnergyTransactionVolume_kWh = -c.v_totalHydrogenUsed_kWh;
	} else if (co.energyCarrier == OL_EnergyCarrierType.HEAT) {
		if(co.contractType.equals(OL_ContractType.DELIVERY)) {
				heatDeliveryContract = (J_DeliveryContract)co;
				heatDeliveryContract.idx = idx;
			} else if(co.contractType.equals(OL_ContractType.TRANSPORT)) {
				heatTransportContract = (J_TransportContract)co;
				heatTransportContract.idx = idx;
			} else if(co.contractType.equals(OL_ContractType.TAX)) {
				heatTaxContract = (J_TaxContract)co;
				heatTaxContract.idx = idx;
			} else if(co.contractType.equals(OL_ContractType.CONNECTION)) {
				heatConnectionContract = (J_ConnectionContract)co;
				heatConnectionContract.idx = idx;
			}
		//co.EnergyTransactionVolume_kWh = -c.v_totalHeatUsed_kWh;
	} else if (co.energyCarrier == OL_EnergyCarrierType.DIESEL) {
		if(co.contractType.equals(OL_ContractType.DELIVERY)) {
				dieselDeliveryContract = (J_DeliveryContract)co;
				dieselDeliveryContract.idx = idx;
			} else if(co.contractType.equals(OL_ContractType.TRANSPORT)) {
				dieselTransportContract = (J_TransportContract)co;
				dieselTransportContract.idx = idx;
			} else if(co.contractType.equals(OL_ContractType.TAX)) {
				dieselTaxContract = (J_TaxContract)co;
				dieselTaxContract.idx = idx;
			} else if(co.contractType.equals(OL_ContractType.CONNECTION)) {
				dieselConnectionContract = (J_ConnectionContract)co;
				dieselConnectionContract.idx = idx;
			}
		//co.EnergyTransactionVolume_kWh = -c.v_totalDieselUsed_kWh;
	}		
}

f_contractCostsPerEnergyCarrier(v_totalMethaneUsed_kWh, methaneDeliveryContract, methaneConnectionContract, methaneTransportContract, methaneTaxContract);
f_contractCostsPerEnergyCarrier(v_totalDieselUsed_kWh, dieselDeliveryContract, dieselConnectionContract, dieselTransportContract, dieselTaxContract);
f_contractCostsPerEnergyCarrier(v_totalHydrogenUsed_kWh, hydrogenDeliveryContract, hydrogenConnectionContract, hydrogenTransportContract, hydrogenTaxContract);
f_contractCostsPerEnergyCarrier(v_totalHeatUsed_kWh, heatDeliveryContract, heatConnectionContract, heatTransportContract, heatTaxContract);

/*
//// Handle all methane costs
double methaneTotalCostsForVAT_eur = 0;
if (methaneDeliveryContract!= null) {
	if (v_totalMethaneUsed_kWh > 0) {
		methaneDeliveryContract.FinancialTransactionVolume_eur = v_totalMethaneUsed_kWh * methaneDeliveryContract.deliveryPrice_eurpkWh;
	} else {
		methaneDeliveryContract.FinancialTransactionVolume_eur = v_totalMethaneUsed_kWh * methaneDeliveryContract.feedinPrice_eurpkWh;
	}
	methaneDeliveryContract.FinancialTransactionVolume_eur += methaneDeliveryContract.annualFee_eur;
	methaneTotalCostsForVAT_eur += methaneDeliveryContract.FinancialTransactionVolume_eur;

	j_dataOut.contractData.add((J_Contract)methaneDeliveryContract);
}
if (methaneTransportContract!= null) {
	// Transport tariffs don't apply for methane
	methaneTransportContract.FinancialTransactionVolume_eur += methaneTransportContract.annualFee_eur;
	methaneTotalCostsForVAT_eur += methaneTransportContract.FinancialTransactionVolume_eur;
	j_dataOut.contractData.add((J_Contract)methaneTransportContract);
}
if (methaneConnectionContract!= null) {	
	// Connection contracts only have annualFee, no volume-dependent costs
	methaneConnectionContract.FinancialTransactionVolume_eur += methaneConnectionContract.annualFee_eur;
	methaneTotalCostsForVAT_eur += methaneConnectionContract.FinancialTransactionVolume_eur;
	j_dataOut.contractData.add((J_Contract)methaneTransportContract);
}
if (methaneTaxContract != null) {
	if (v_totalMethaneUsed_kWh > 0) {
		methaneTaxContract.FinancialTransactionVolume_eur = v_totalMethaneUsed_kWh * methaneTaxContract.deliveryTax_eurpkWh;
	} else {
		methaneTaxContract.FinancialTransactionVolume_eur = v_totalMethaneUsed_kWh * methaneTaxContract.feedinTax_eurpkWh;
	}
	methaneTaxContract.FinancialTransactionVolume_eur += methaneTaxContract.annualFee_eur;
	methaneTotalCostsForVAT_eur += methaneTaxContract.FinancialTransactionVolume_eur;
	// Apply VAT to everything (effectively saldering of everything! Not really correct for methane...)
	methaneTaxContract.FinancialTransactionVolume_eur += methaneTotalCostsForVAT_eur * methaneTaxContract.proportionalTax_pct + methaneTaxContract.annualFee_eur;
	j_dataOut.contractData.add((J_Contract)methaneTaxContract);
}

//// Handle all diesel costs
double dieselTotalCostsForVAT_eur = 0;
if (dieselDeliveryContract!= null) {
	if (v_totalDieselUsed_kWh > 0) {
		dieselDeliveryContract.FinancialTransactionVolume_eur = v_totalDieselUsed_kWh * dieselDeliveryContract.deliveryPrice_eurpkWh;
	} else {
		dieselDeliveryContract.FinancialTransactionVolume_eur = v_totalDieselUsed_kWh * dieselDeliveryContract.feedinPrice_eurpkWh;
	}
	dieselDeliveryContract.FinancialTransactionVolume_eur += dieselDeliveryContract.annualFee_eur;
	dieselTotalCostsForVAT_eur += dieselDeliveryContract.FinancialTransactionVolume_eur;

	j_dataOut.contractData.add((J_Contract)dieselDeliveryContract);
}
if (dieselTransportContract!= null) {
	// Transport tariffs don't apply for diesel
	dieselTransportContract.FinancialTransactionVolume_eur += dieselTransportContract.annualFee_eur;
	dieselTotalCostsForVAT_eur += dieselTransportContract.FinancialTransactionVolume_eur;

	j_dataOut.contractData.add((J_Contract)dieselTransportContract);
}
if (dieselConnectionContract!= null) {	
	// Connection contracts only have annualFee, no volume-dependent costs
	dieselConnectionContract.FinancialTransactionVolume_eur += dieselConnectionContract.annualFee_eur;
	dieselTotalCostsForVAT_eur += dieselConnectionContract.FinancialTransactionVolume_eur;

	j_dataOut.contractData.add((J_Contract)dieselTransportContract);
}
if (dieselTaxContract != null) {
	if (v_totalDieselUsed_kWh > 0) {
		dieselTaxContract.FinancialTransactionVolume_eur = v_totalDieselUsed_kWh * dieselTaxContract.deliveryTax_eurpkWh;
	} else {
		dieselTaxContract.FinancialTransactionVolume_eur = v_totalDieselUsed_kWh * dieselTaxContract.feedinTax_eurpkWh;
	}
	dieselTaxContract.FinancialTransactionVolume_eur += dieselTaxContract.annualFee_eur;
	dieselTotalCostsForVAT_eur += dieselTaxContract.FinancialTransactionVolume_eur;

	// Apply VAT to everything (effectively saldering of everything! Not really correct for diesel...)
	dieselTaxContract.FinancialTransactionVolume_eur += dieselTotalCostsForVAT_eur * dieselTaxContract.proportionalTax_pct + dieselTaxContract.annualFee_eur;
	j_dataOut.contractData.add((J_Contract)dieselTaxContract);
}

//// Handle all hydrogen costs
double hydrogenTotalCostsForVAT_eur = 0;
if (hydrogenDeliveryContract!= null) {
	if (v_totalHydrogenUsed_kWh > 0) {
		hydrogenDeliveryContract.FinancialTransactionVolume_eur = v_totalHydrogenUsed_kWh * hydrogenDeliveryContract.deliveryPrice_eurpkWh;
	} else {
		hydrogenDeliveryContract.FinancialTransactionVolume_eur = v_totalHydrogenUsed_kWh * hydrogenDeliveryContract.feedinPrice_eurpkWh;
	}
	hydrogenDeliveryContract.FinancialTransactionVolume_eur += hydrogenDeliveryContract.annualFee_eur;
	hydrogenTotalCostsForVAT_eur += hydrogenDeliveryContract.FinancialTransactionVolume_eur;

	j_dataOut.contractData.add((J_Contract)hydrogenDeliveryContract);
}
if (hydrogenTransportContract!= null) {
	// Transport tariffs don't apply for hydrogen
	hydrogenTransportContract.FinancialTransactionVolume_eur += hydrogenTransportContract.annualFee_eur;
	hydrogenTotalCostsForVAT_eur += hydrogenTransportContract.FinancialTransactionVolume_eur;

	j_dataOut.contractData.add((J_Contract)hydrogenTransportContract);
}
if (hydrogenConnectionContract!= null) {	
	// Connection contracts only have annualFee, no volume-dependent costs
	hydrogenConnectionContract.FinancialTransactionVolume_eur += hydrogenConnectionContract.annualFee_eur;
	hydrogenTotalCostsForVAT_eur += hydrogenConnectionContract.FinancialTransactionVolume_eur;

	j_dataOut.contractData.add((J_Contract)hydrogenTransportContract);
}
if (hydrogenTaxContract != null) {
	if (v_totalHydrogenUsed_kWh > 0) {
		hydrogenTaxContract.FinancialTransactionVolume_eur = v_totalHydrogenUsed_kWh * hydrogenTaxContract.deliveryTax_eurpkWh;
	} else {
		hydrogenTaxContract.FinancialTransactionVolume_eur = v_totalHydrogenUsed_kWh * hydrogenTaxContract.feedinTax_eurpkWh;
	}
	hydrogenTaxContract.FinancialTransactionVolume_eur += hydrogenTaxContract.annualFee_eur ;
	hydrogenTotalCostsForVAT_eur += hydrogenTaxContract.FinancialTransactionVolume_eur
	
	// Apply VAT to everything (effectively saldering of everything! Not really correct for hydrogen...)
	hydrogenTaxContract.FinancialTransactionVolume_eur += hydrogenTotalCostsForVAT_eur * hydrogenTaxContract.proportionalTax_pct + hydrogenTaxContract.annualFee_eur;
	j_dataOut.contractData.add((J_Contract)hydrogenTaxContract);
}

//// Handle all heat costs
double heatTotalCostsForVAT_eur = 0;
if (heatDeliveryContract!= null) {
	if (v_totalHeatUsed_kWh > 0) {
		heatDeliveryContract.FinancialTransactionVolume_eur = v_totalHeatUsed_kWh * heatDeliveryContract.deliveryPrice_eurpkWh;
	} else {
		heatDeliveryContract.FinancialTransactionVolume_eur = v_totalHeatUsed_kWh * heatDeliveryContract.feedinPrice_eurpkWh;
	}
	heatDeliveryContract.FinancialTransactionVolume_eur += heatDeliveryContract.annualFee_eur;
	heatTotalCostsForVAT_eur += heatDeliveryContract.FinancialTransactionVolume_eur;
	j_dataOut.contractData.add((J_Contract)heatDeliveryContract);
}
if (heatTransportContract!= null) {
	// Transport tariffs don't apply for heat
	heatTransportContract.FinancialTransactionVolume_eur += heatTransportContract.annualFee_eur;
	heatTotalCostsForVAT_eur += heatTransportContract.FinancialTransactionVolume_eur;
	j_dataOut.contractData.add((J_Contract)heatTransportContract);
}
if (heatConnectionContract!= null) {	
	// Connection contracts only have annualFee, no volume-dependent costs
	heatConnectionContract.FinancialTransactionVolume_eur += heatConnectionContract.annualFee_eur;
	heatTotalCostsForVAT_eur += heatConnectionContract.FinancialTransactionVolume_eur;
	j_dataOut.contractData.add((J_Contract)heatTransportContract);
}
if (heatTaxContract != null) {
	if (v_totalHeatUsed_kWh > 0) {
		heatTaxContract.FinancialTransactionVolume_eur = v_totalHeatUsed_kWh * heatTaxContract.deliveryTax_eurpkWh;
	} else {
		heatTaxContract.FinancialTransactionVolume_eur = v_totalHeatUsed_kWh * heatTaxContract.feedinTax_eurpkWh;
	}
	heatTotalCostsForVAT_eur += heatTaxContract.FinancialTransactionVolume_eur + heatTaxContract.annualFee_eur ;
	// Apply VAT to everything (effectively saldering of everything! Not really correct for heat...)
	heatTaxContract.FinancialTransactionVolume_eur += heatTotalCostsForVAT_eur * heatTaxContract.proportionalTax_pct + heatTaxContract.annualFee_eur;
	j_dataOut.contractData.add((J_Contract)heatTaxContract);
}
//j_dataOut.contractData.add(co);
*/]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1683018740227</Id>
					<Name><![CDATA[f_contractCostsPerEnergyCarrier]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-819</X><Y>709</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[energyUsed_kWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[deliveryContract]]></Name>
						<Type><![CDATA[J_DeliveryContract]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[connectionContract]]></Name>
						<Type><![CDATA[J_ConnectionContract]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[transportContract]]></Name>
						<Type><![CDATA[J_TransportContract]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[taxContract]]></Name>
						<Type><![CDATA[J_TaxContract]]></Type>
					</Parameter>
					<Body><![CDATA[double totalCostsForVAT_eur = 0;
if (deliveryContract!= null) {
	if (energyUsed_kWh > 0) {
		deliveryContract.FinancialTransactionVolume_eur = energyUsed_kWh * deliveryContract.deliveryPrice_eurpkWh;
	} else {
		deliveryContract.FinancialTransactionVolume_eur = energyUsed_kWh * deliveryContract.feedinPrice_eurpkWh;
	}
	deliveryContract.FinancialTransactionVolume_eur += deliveryContract.annualFee_eur;
	totalCostsForVAT_eur += deliveryContract.FinancialTransactionVolume_eur;

	j_dataOut.contractData.add((J_Contract)deliveryContract);
}
if (transportContract!= null) {
	// Transport tariffs don't apply for energy
	transportContract.FinancialTransactionVolume_eur += transportContract.annualFee_eur;
	totalCostsForVAT_eur += transportContract.FinancialTransactionVolume_eur;
	j_dataOut.contractData.add((J_Contract)transportContract);
	
}
if (connectionContract!= null) {	
	// Connection contracts only have annualFee, no volume-dependent costs
	connectionContract.FinancialTransactionVolume_eur += connectionContract.annualFee_eur;
	totalCostsForVAT_eur += connectionContract.FinancialTransactionVolume_eur;
	j_dataOut.contractData.add((J_Contract)connectionContract);

}
if (taxContract != null) {
	if (energyUsed_kWh > 0) {
		taxContract.FinancialTransactionVolume_eur = energyUsed_kWh * taxContract.deliveryTax_eurpkWh;
	} else {
		taxContract.FinancialTransactionVolume_eur = energyUsed_kWh * taxContract.feedinTax_eurpkWh;
	}
	taxContract.FinancialTransactionVolume_eur += taxContract.annualFee_eur;
	totalCostsForVAT_eur += taxContract.FinancialTransactionVolume_eur;
	// Apply VAT to everything
	taxContract.FinancialTransactionVolume_eur += totalCostsForVAT_eur * taxContract.proportionalTax_pct;
	j_dataOut.contractData.add((J_Contract)taxContract);
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1696521316832</Id>
					<Name><![CDATA[f_runRapidSimulation]]></Name>
					<X>790</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[pauseSimulation();
b_addKpiVisuals = false;

traceln(" ");
traceln("*** Running headless simulation *** ");
traceln(" ");

double startTime = System.currentTimeMillis();

// Store and reset model states...

for (J_EA EA : c_energyAssets) {
	EA.storeStatesAndReset();		
}

for (GridConnection GC : c_gridConnections) {
	GC.f_resetStates();
	GC.c_tripTrackers.forEach(tt->tt.storeAndResetState());
	GC.c_tripTrackers.forEach(tt->tt.prepareNextActivity(0));
	
}

for (GridNode GN : pop_gridNodes) {
	GN.f_resetStates();
}

for (ConnectionOwner CO : pop_connectionOwners) {
	CO.f_resetStates();
}

for (EnergyCoop EC : pop_energyCoops) {
	EC.f_resetStates();
}


t_h=0;
f_initializeForecasts();
// When adding actors, also reset their states! Not used yet for Drechtsteden...

v_isRapidRun = true;
f_resetAnnualValues();

//Run energy calculations loop
for(t_h = 0; t_h < 8760 ; t_h += p_timeStep_h){
	// Update time-series for model-wide variables (such as temps, wind, etc.)
	f_updateTimeseries(t_h);
	
	// Operate assets on each gridConnection
	f_calculateGridConnectionFlows(t_h);
	
	// Calculate grid node flows
	f_calculateGridnodeFlows(t_h);
	
	// Financial accounting of energy flows
	f_calculateFinancialFlows(t_h);
	
	// Update elektriciteitsprijzen
	f_updatePricesForNextTimestep(t_h);
	
	f_updateDatasets(t_h);
}	
traceln("HSMS overloaded hours: %s", c_gridNodesHSMS.get(0).v_totalTimeOverloaded_h);
f_calculateKPIs();
traceln("---FINISHED YEAR MODEL RUN----");

//numberOfRuns++;

//Return model to previous state to continue simulation run

for (J_EA EA : c_energyAssets) {
	EA.restoreStates();		
}
for (GridNode GN : pop_gridNodes) {
	//GN.f_resetStates();
}
for (GridConnection GC : c_gridConnections) {
	//GC.f_resetStates();
	GC.c_tripTrackers.forEach(tt->tt.restoreState());	
	GC.c_tripTrackers.forEach(tt->tt.prepareNextActivity(time(MINUTE)));
}

v_isRapidRun = false;
b_addKpiVisuals = true;

double duration = System.currentTimeMillis() - startTime;

traceln("*** headless run duration: "+ duration/1000 + " s ***");

t_h = time(HOUR);
f_initializeForecasts();
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1696865756419</Id>
					<Name><![CDATA[f_setEnergyPrice]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>2480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[/*
//Electricity
List< Tuple > electricityPrices = selectFrom( energy_costs )
	.where( energy_costs.jaar.eq(p_simulationYear))
	.where( energy_costs.energiedrager.eq("electricity") ) 
	.list();
	

for (Tuple tup : electricityPrices){
	double p_elecNetbeheerkosten = tup.get(energy_costs.netbeheerkosten_eur_jaar);
	double p_elecVasteLeveringskosten = tup.get(energy_costs.vaste_leveringskosten_eur_jaar);
	double p_elecBelastingvermindering = tup.get(energy_costs.belastingvermindering);
	double p_elecVariabeleLeveringskosten = tup.get(energy_costs.variabele_leveringskosten);
	double p_elecEnergiebelasting = tup.get(energy_costs.energiebelasting);
	double p_elecODE = tup.get(energy_costs.ode);
	p_electricityVariableCosts_EurPerkWh = p_elecVariabeleLeveringskosten + p_elecEnergiebelasting + p_elecODE;
	p_electricityFixedCosts_EurPerYear = p_elecNetbeheerkosten + p_elecVasteLeveringskosten;
	p_CO2EmissionsGridElectricity_kgperkWh = tup.get(energy_costs.co2_emissiefactor_kg_k_wh);
}


//Natural Gas
List< Tuple > NaturalGasPrices = selectFrom( energy_costs )
	.where( energy_costs.jaar.eq(p_simulationYear))
	.where( energy_costs.energiedrager.eq("natural gas") ) 
	.list();
for (Tuple tup : NaturalGasPrices){
	double p_naturalGasNetbeheerkosten = tup.get(energy_costs.netbeheerkosten_eur_jaar);
	double p_naturalGasVasteLeveringskosten = tup.get(energy_costs.vaste_leveringskosten_eur_jaar);
	double p_naturalGasVariabeleLeveringskosten = tup.get(energy_costs.variabele_leveringskosten);
	double p_naturalGasEnergiebelasting = tup.get(energy_costs.energiebelasting);
	double p_naturalGasODE = tup.get(energy_costs.ode);
	p_naturalGasVariableCosts_EurPerM3 = (p_naturalGasVariabeleLeveringskosten + p_naturalGasEnergiebelasting + p_naturalGasODE) ;
	p_naturalGasVariableCosts_EurPerkWh = p_naturalGasVariableCosts_EurPerM3 / p_energyDensityGas_kWhpm3;
	p_naturalGasFixedCosts_EurPerYear = p_naturalGasNetbeheerkosten + p_naturalGasVasteLeveringskosten ;	
	p_CO2EmissionsNaturalGas_kgperkWh = tup.get(energy_costs.co2_emissiefactor_kg_k_wh); 
}


//Green Gas
List< Tuple > GreenGasPrices = selectFrom( energy_costs )
	.where( energy_costs.jaar.eq(p_simulationYear))
	.where( energy_costs.energiedrager.eq("green gas") ) 
	.list();

for (Tuple tup : GreenGasPrices){
	double p_greenGasNetbeheerkosten = tup.get(energy_costs.netbeheerkosten_eur_jaar);
	double p_greenGasVasteLeveringskosten = tup.get(energy_costs.vaste_leveringskosten_eur_jaar);
	double p_greenGasVariabeleLeveringskosten = tup.get(energy_costs.variabele_leveringskosten);
	double p_greenGasEnergiebelasting = tup.get(energy_costs.energiebelasting);
	double p_greenGasODE = tup.get(energy_costs.ode);
	p_greenGasVariableCosts_EurPerM3 = (p_greenGasVariabeleLeveringskosten + p_greenGasEnergiebelasting + p_greenGasODE) ;
	p_greenGasVariableCosts_EurPerkWh = p_greenGasVariableCosts_EurPerM3 / p_energyDensityGas_kWhpm3;
	p_greenGasFixedCosts_EurPerYear = p_greenGasNetbeheerkosten + p_greenGasVasteLeveringskosten ;
	p_CO2EmissionsGreenGas_kgperkWh = tup.get(energy_costs.co2_emissiefactor_kg_k_wh); 
}

//HTHeat

p_CO2EmissionsHighTempHeat_kgperkWh = selectFrom( energy_costs )
	.where( energy_costs.jaar.eq(p_simulationYear))
	.where( energy_costs.energiedrager.eq("HT-warmte")) 
	.firstResult(energy_costs.co2_emissiefactor_kg_k_wh);
		
//MTHeat
p_CO2EmissionsMediumTempHeat_kgperkWh = selectFrom( energy_costs )
	.where( energy_costs.jaar.eq(p_simulationYear))
	.where( energy_costs.energiedrager.eq("MT-warmte")) 
	.firstResult(energy_costs.co2_emissiefactor_kg_k_wh);		
	
//LTHeat
p_CO2EmissionsLowTempHeat_kgperkWh =  selectFrom( energy_costs )
	.where( energy_costs.jaar.eq(p_simulationYear))
	.where( energy_costs.energiedrager.eq("LT-warmte")) 
	.firstResult(energy_costs.co2_emissiefactor_kg_k_wh);

//Benzine
p_CO2EmissionsICE_kgperkm=  selectFrom( energy_costs )
	.where( energy_costs.jaar.eq(p_simulationYear))
	.where( energy_costs.energiedrager.eq("Benzine autokilometer")) 
	.firstResult(energy_costs.co2_emissiefactor);
*/

traceln("f_setEnergyPrice is awaiting new implementation after model merge! Currently not functional");



]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1697556251375</Id>
					<Name><![CDATA[f_getEnergyCosts]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1750</X><Y>1140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_elecHPCapex = 0;
v_greenGasHRCapex = 0;
v_hybridHPCapex = 0;
v_LTCapex = 0;
v_MTCapex = 0;
	
v_elecHPFixedOpex = 0;
v_greenGasHRFixedOpex = 0;
v_hybridHPFixedOpex = 0;
v_LTDistrictHeatingFixedOpex = 0;
v_MTDistrictHeatingFixedOpex = 0;

for (EA_Household h : pop_EA_Households){
	h.f_heatSystemCosts();
	h.f_LCOEHeat();
	h.f_LCOEElectricity();
	h.f_LCOEInsulation();
	h.f_totalCosts();
}

f_DistrictHeatingLCOE();


//-----NEIGHBORHOOD TOTALS------


double totalNonDHEnergyConsumption = sumWhere(pop_EA_Households, x->x.v_heatingSystemAnnualEnergyConsumption, x->x.p_householdHeatSupplyMethod != MTDistrictHeating && x.p_householdHeatSupplyMethod != LTDistrictHeating && x.p_householdHeatSupplyMethod != HTDistrictHeating); 
double totalNonDHNPVOfCosts = sumWhere(pop_EA_Households, x->x.v_NPVOfCostsOverLifetime, x->x.p_householdHeatSupplyMethod != MTDistrictHeating && x.p_householdHeatSupplyMethod != LTDistrictHeating && x.p_householdHeatSupplyMethod != HTDistrictHeating); 
double totalNonDHNPVOfEnergy = sumWhere(pop_EA_Households, x->x.v_NPVOfEnergyOverLifetime, x->x.p_householdHeatSupplyMethod != MTDistrictHeating && x.p_householdHeatSupplyMethod != LTDistrictHeating && x.p_householdHeatSupplyMethod != HTDistrictHeating); 

double totalNPVOfCosts = v_DHNPVOfCostsOverLifetime + totalNonDHNPVOfCosts;
double totalNPVOfEnergy = v_DHNPVOfEnergyOverLifetime + totalNonDHNPVOfEnergy;

v_heatingSystemLCOE = totalNPVOfCosts / totalNPVOfEnergy;
v_heatingSystemAnnualCosts = v_heatingSystemLCOE * v_annualHeatDemand_kWh;
v_heatingSystemAnnualEnergyConsumption = v_annualHeatDemand_kWh;
v_heatingSystemLifetimeCosts = sum(pop_EA_Households, x->x.v_heatingSystemLifetimeCosts) + v_districtHeatingSystemLifetimeCosts;
//v_heatingSystemAnnualCosts = 
/*
//Heating system
//v_heatingSystemLCOE = average(pop_EA_Households, x->x.v_heatingSystemLCOE);
v_heatingSystemAnnualCosts = sum(pop_EA_Households, x->x.v_heatingSystemAnnualCosts);
v_heatingSystemAnnualEnergyConsumption = sum(pop_EA_Households, x->x.v_heatingSystemAnnualEnergyConsumption);
v_heatingSystemLifetimeCosts = sum(pop_EA_Households, x->x.v_heatingSystemLifetimeCosts);
v_heatingSystemInvestmentCosts = sum(pop_EA_Households, x->x.v_heatingSystemInvestmentCosts);
v_heatingSystemOperationalCostsFixed = sum(pop_EA_Households, x->x.v_heatingSystemOperationalCostsFixed);
v_heatingSystemOperationalCostsVariable = sum(pop_EA_Households, x->x.v_heatingSystemOperationalCostsVariable);
*/
//Insulation
v_insulationLCOE = average(pop_EA_Households, x->x.v_insulationLCOE);
v_insulationAnnualCosts = sum(pop_EA_Households, x->x.v_insulationAnnualCosts);
v_insulationAnnualEnergySavings = sum(pop_EA_Households, x->x.v_insulationAnnualEnergySavings);
v_insulationLifetimeCosts = sum(pop_EA_Households, x->x.v_insulationLifetimeCosts);
v_insulationInvestmentCosts = sum(pop_EA_Households, x->x.v_insulationInvestmentCosts);
v_insulationOperationalCostsFixed = sum(pop_EA_Households, x->x.v_insulationOperationalCostsFixed);
v_insulationOperationalCostsVariable = sum(pop_EA_Households, x->x.v_insulationOperationalCostsVariable);

//Electricity
v_electricityLCOE = average(pop_EA_Households, x->x.v_electricityLCOE);
v_electricityAnnualCosts = sum(pop_EA_Households, x->x.v_electricityAnnualCosts);
v_electricityAnnualEnergyConsumption = sum(pop_EA_Households, x->x.v_electricityAnnualEnergyConsumption);
v_electricityLifetimeCosts = sum(pop_EA_Households, x->x.v_electricityLifetimeCosts);
v_electricityInvestmentCosts = sum(pop_EA_Households, x->x.v_electricityInvestmentCosts);
v_electricityOperationalCostsFixed = sum(pop_EA_Households, x->x.v_electricityOperationalCostsFixed);
v_electricityOperationalCostsVariable = sum(pop_EA_Households, x->x.v_electricityOperationalCostsVariable);

//Total
v_totalLCOE = (v_electricityLCOE * v_annualHouseholdElectricityDemand_kWh + v_heatingSystemLCOE * v_annualHeatDemand_kWh) / (v_annualHouseholdElectricityDemand_kWh + v_annualHeatDemand_kWh);
v_totalAnnualCosts = v_electricityAnnualCosts + v_insulationAnnualCosts + v_heatingSystemAnnualCosts;
v_totalAnnualEnergyConsumption = v_heatingSystemAnnualEnergyConsumption + v_electricityAnnualEnergyConsumption;
v_totalLifetimeCosts = v_electricityLifetimeCosts + v_insulationLifetimeCosts + v_heatingSystemLifetimeCosts;

/*
v_totalInvestmentCosts = sum(pop_EA_Households, x->x.v_totalInvestmentCosts);
v_totalOperationalCostsFixed = sum(pop_EA_Households, x->x.v_totalOperationalCostsFixed);
v_totalOperationalCostsVariable = sum(pop_EA_Households, x->x.v_totalOperationalCostsFixed);
*/

//----PER HOUSEHOLD AVERAGES------

//ElectricityGeneration
v_annualPVGeneration_kWhAveragePerHousehold = average(pop_EA_Households, x->x.v_annualPVGeneration_kWh);

//Mobility
v_annualEVPrivateCharging_kWhAveragePerCar = v_annualEVPrivateCharging_kWh / sumWhere(pop_EA_Households, x->x.v_EVs, x->x.v_hasHomeCharger == true);
v_annualEVPublicCharging_kWhAveragePerCar = v_annualEVPublicCharging_kWh / sumWhere(pop_EA_Households, x->x.v_EVs, x->x.v_hasHomeCharger == false);

//Heating system
v_heatingSystemLCOEPerHousehold = v_heatingSystemLCOE / pop_EA_Households.size();
v_heatingSystemAnnualCostsPerHousehold = v_heatingSystemAnnualCosts / pop_EA_Households.size();
v_heatingSystemAnnualEnergyConsumptionPerHousehold = v_heatingSystemAnnualEnergyConsumption / pop_EA_Households.size();
v_heatingSystemLifetimeCostsPerHousehold = v_heatingSystemLifetimeCosts / pop_EA_Households.size();
/*
v_heatingSystemInvestmentCostsPerHousehold = average(pop_EA_Households, x->x.v_heatingSystemInvestmentCosts);
v_heatingSystemOperationalCostsFixedPerHousehold = average(pop_EA_Households, x->x.v_heatingSystemOperationalCostsFixed);
v_heatingSystemOperationalCostsVariablePerHousehold = average(pop_EA_Households, x->x.v_heatingSystemOperationalCostsVariable);
*/
//Insulation
v_insulationLCOEPerHousehold = average(pop_EA_Households, x->x.v_insulationLCOE);
v_insulationAnnualCostsPerHousehold = average(pop_EA_Households, x->x.v_insulationAnnualCosts);
v_insulationAnnualEnergySavingsPerHousehold = average(pop_EA_Households, x->x.v_insulationAnnualEnergySavings);
v_insulationLifetimeCostsPerHousehold = average(pop_EA_Households, x->x.v_insulationLifetimeCosts);
v_insulationInvestmentCostsPerHousehold = average(pop_EA_Households, x->x.v_insulationInvestmentCosts);
v_insulationOperationalCostsFixedPerHousehold = average(pop_EA_Households, x->x.v_insulationOperationalCostsFixed);
v_insulationOperationalCostsVariablePerHousehold = average(pop_EA_Households, x->x.v_insulationOperationalCostsVariable);

//Electricity
v_electricityLCOEPerHousehold = average(pop_EA_Households, x->x.v_electricityLCOE);
v_electricityAnnualCostsPerHousehold = average(pop_EA_Households, x->x.v_electricityAnnualCosts);
v_electricityAnnualEnergyConsumptionPerHousehold = average(pop_EA_Households, x->x.v_electricityAnnualEnergyConsumption);
v_electricityLifetimeCostsPerHousehold = average(pop_EA_Households, x->x.v_electricityLifetimeCosts);
v_electricityInvestmentCostsPerHousehold = average(pop_EA_Households, x->x.v_electricityInvestmentCosts);
v_electricityOperationalCostsFixedPerHousehold = average(pop_EA_Households, x->x.v_electricityOperationalCostsFixed);
v_electricityOperationalCostsVariablePerHousehold = average(pop_EA_Households, x->x.v_electricityOperationalCostsVariable);

//Total
v_totalLCOEPerHousehold = v_totalLCOE;
v_totalAnnualCostsPerHousehold = v_totalAnnualCosts / pop_EA_Households.size();
v_totalAnnualEnergyConsumptionPerHousehold = v_totalAnnualEnergyConsumption / pop_EA_Households.size();
v_totalLifetimeCostsPerHousehold = v_totalLifetimeCosts / pop_EA_Households.size();

/*
v_totalInvestmentCostsPerHousehold = average(pop_EA_Households, x->x.v_totalInvestmentCosts);
v_totalOperationalCostsFixedPerHousehold = average(pop_EA_Households, x->x.v_totalOperationalCostsFixed);
v_totalOperationalCostsVariablePerHousehold = average(pop_EA_Households, x->x.v_totalOperationalCostsFixed);
*/]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1698922757486</Id>
					<Name><![CDATA[f_calculateKPIs]]></Name>
					<Description><![CDATA[Executed on simulation end to export data.

@author: JorritvandenHouten
@since: Sprint 6]]></Description>
					<X>-840</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[f_sumMolecularEnergyFlows();
f_sumGridNodeLoads();
f_sumBatteryUse();
f_duurkrommes();
c_gridConnections.forEach(gc -> gc.f_calculateKPIs());
pop_energyCoops.forEach(ec -> ec.f_calculateKPIs());
//traceln("Electricity imported: "+ v_totalElectricityImport_MWh + " MWh");
//traceln("Electricity exported: "+ v_totalElectricityExport_MWh + " MWh");
//traceln("Electricity delta in batteries: "+ batteryStoredEnergyDeltaSinceStart_MWh + " MWh");
// Peak model-wide electricity grid loads
v_peakElecExport_kW=-data_annualBusinessParkNetLoad_kW.getYMin();
v_peakElecImport_kW=data_annualBusinessParkNetLoad_kW.getYMax();
v_summerWeekPeakElecImport_kW=data_summerWeekBusinessParkNetLoad_kW.getYMax();
v_summerWeekPeakElecExport_kW=-data_summerWeekBusinessParkNetLoad_kW.getYMin();
v_winterWeekPeakElecImport_kW=data_winterWeekBusinessParkNetLoad_kW.getYMax();
v_winterWeekPeakElecExport_kW=-data_winterWeekBusinessParkNetLoad_kW.getYMin();

double totalDistanceTrucks_km = 0;
double deltaThermalEnergySinceStart_MWh = 0;
double totalAmbientHeating_MWh = 0;

//Total energy balance
double electricityProduced_MWh = 0;
v_totalEnergyCurtailed_MWh = 0;
v_totalEnergyProduced_MWh = 0;
v_totalEnergyUsed_MWh = 0;

v_totalImportedEnergy_MWh = 0;
v_totalExportedEnergy_MWh = 0;

for (J_EA e : c_energyAssets) {
	double EnergyUsed_kWh = e.getEnergyUsed_kWh();
	double electricityProduced_kWh = 0;
	
	//energyConsumed_MWh += max(0,EnergyUsed_kWh)/1000;
	//energyProduced_MWh +=max(0,-EnergyUsed_kWh)/1000;
	if (EnergyUsed_kWh > 0) {
	
		if (e instanceof J_EAConversionCurtailer || e instanceof J_EAConversionCurtailerHeat) {
			v_totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
			v_totalEnergyCurtailed_MWh += EnergyUsed_kWh/1000;
		} else if( e instanceof J_EAConversionGasCHP ) {
			v_totalEnergyUsed_MWh += EnergyUsed_kWh/1000;
			electricityProduced_kWh = ((J_EAConversionGasCHP)e).getElectricityProduced_kWh();
			electricityProduced_MWh += electricityProduced_kWh/1000;
		}
		else {
			v_totalEnergyUsed_MWh += EnergyUsed_kWh/1000;
		}		
		if ( e instanceof J_EABuilding ) {
			v_totalEnergyProduced_MWh += ((J_EABuilding)e).energyAbsorbed_kWh/1000;
			deltaThermalEnergySinceStart_MWh += (((J_EABuilding)e).getCurrentTemperature()-18)*((J_EABuilding)e).getHeatCapacity_JpK()/3.6e9;
		}
	} else {
		if( e.energyAssetType == OL_EnergyAssetType.PHOTOVOLTAIC ||  e.energyAssetType == OL_EnergyAssetType.WINDMILL){
			electricityProduced_MWh -= EnergyUsed_kWh/1000;
		}
		v_totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
	}
	if (e instanceof J_EABuilding) {
		totalAmbientHeating_MWh += ((J_EABuilding)e).energyAbsorbed_kWh/1000;
	}
	if (e instanceof J_EAEV) {
		v_totalEnergyChargedOutsideModel_MWh += ((J_EAEV)e).energyChargedOutsideModelArea_kWh/1000;
	}
}

traceln("Total energy absorbed from environment by buildings: %s MWh", totalAmbientHeating_MWh);
traceln("Delta thermal stored energy since start: %s MWh", deltaThermalEnergySinceStart_MWh);
//traceln("Trucks have traveled " + totalDistanceTrucks_km + " km");

traceln("");
traceln("__--** Totals **--__");
traceln("Energy consumed: "+ v_totalEnergyUsed_MWh + " MWh");
traceln("Energy produced: "+ v_totalEnergyProduced_MWh + " MWh");
//traceln("Electricity produced: "+ electricityProduced_MWh + " MWh (only by solar and wind");

traceln("");
//Total selfconsumption, selfsufficiency

v_totalImportedEnergy_MWh = v_totalElectricityImport_MWh + max(0,v_totalMethaneImport_MWh-v_totalMethaneExport_MWh) + max(0,v_totalHydrogenImport_MWh-v_totalHydrogenExport_MWh) + v_totalDieselImport_MWh;
v_totalExportedEnergy_MWh = v_totalElectricityExport_MWh + max(0,v_totalMethaneExport_MWh-v_totalMethaneImport_MWh) + max(0,v_totalHydrogenExport_MWh-v_totalHydrogenImport_MWh);
double v_totalDeltaStoredEnergy_MWh = v_batteryStoredEnergyDeltaSinceStart_MWh + deltaThermalEnergySinceStart_MWh; // Positive number means more energy stored at the end of the simulation. 

v_totalSelfConsumedEnergy_MWh = v_totalEnergyUsed_MWh - (v_totalImportedEnergy_MWh + max(0,-v_totalDeltaStoredEnergy_MWh)); // Putting positive delta-stored energy here assumes this energy was imported as opposed to self-produced. Putting negative delta-stored energy here assumes this energy was self-consumed, as opposed to exported.
double v_totalSelfConsumedEnergyCheck_MWh = v_totalEnergyProduced_MWh - (v_totalExportedEnergy_MWh + max(0,v_totalDeltaStoredEnergy_MWh)); // Putting positive delta-stored energy here assumes that this energy was self-produced, as opposed to imported! Putting negative delta-stored here assumes that this energy was exported, as opposed to self-consumed!
// Cap selfConsumedEnergy to >=0
v_totalSelfConsumedEnergy_MWh=max(0,v_totalSelfConsumedEnergy_MWh);
v_totalSelfConsumedEnergyCheck_MWh=max(0,v_totalSelfConsumedEnergyCheck_MWh);
traceln("Check self consumed energy based on import, export, consumption and production: " + (v_totalSelfConsumedEnergy_MWh - v_totalSelfConsumedEnergyCheck_MWh) );

// Selfconsumption for daytime, nighttime, weekday and weekend
v_daytimeSelfConsumedEnergy_MWh = v_daytimeEnergyProduced_MWh - v_daytimeTotalExport_MWh;
v_nighttimeSelfConsumedEnergy_MWh = v_nighttimeEnergyProduced_MWh - v_nighttimeTotalExport_MWh;
v_weekdaySelfConsumedEnergy_MWh = v_weekdayEnergyProduced_MWh - v_weekdayTotalExport_MWh;
v_weekendSelfConsumedEnergy_MWh = v_weekendEnergyProduced_MWh - v_weekendTotalExport_MWh;

// Export and production-based selfconsumption
if ( v_totalEnergyProduced_MWh > 0 ){
	//v_modelSelfConsumption_fr = 1 - (v_totalElectricityExport_MWh + max(0,v_totalMethaneExport_MWh-v_totalMethaneImport_MWh) + max(0,v_totalHydrogenExport_MWh-v_totalHydrogenImport_MWh))/v_totalEnergyProduced_MWh;
	v_modelSelfConsumption_fr = v_totalSelfConsumedEnergy_MWh / v_totalEnergyProduced_MWh;
}

traceln("Energy selfconsumption: " + v_modelSelfConsumption_fr*100 + "%");
double totalElectricitySelfConsumption_fr = 0;

if ( electricityProduced_MWh > 0 ){
	totalElectricitySelfConsumption_fr = 1 - v_totalElectricityExport_MWh/electricityProduced_MWh;
}

//v_modelSelfSufficiency_fr = 1 - (v_totalElectricityImport_MWh + max(0,v_totalMethaneImport_MWh - v_totalMethaneExport_MWh) + max(0,v_totalHydrogenImport_MWh - v_totalHydrogenExport_MWh) + v_totalDieselImport_MWh - v_batteryStoredEnergyDeltaSinceStart_MWh - deltaThermalEnergySinceStart_MWh) / v_totalEnergyUsed_MWh;
v_modelSelfSufficiency_fr = v_totalSelfConsumedEnergy_MWh / v_totalEnergyUsed_MWh; // Calculation based on (total_consumption - total_import) / total_consumption. Positive delta-stored energy is contained in v_totalSelfConsumedEnergy_MWh. 

traceln("Energy selfsufficiency (via import calc): %s %%", v_modelSelfSufficiency_fr*100);
//double totalSelfSufficiency_fr_check = (v_totalEnergyProduced_MWh - (v_totalElectricityExport_MWh + max(0,v_totalMethaneExport_MWh-v_totalMethaneImport_MWh) + max(0,v_totalHydrogenExport_MWh-v_totalHydrogenImport_MWh)))/v_totalEnergyUsed_MWh; // Calculation based on (total_production - total_export) / total_consumption
double totalSelfSufficiency_fr_check = v_totalSelfConsumedEnergyCheck_MWh / v_totalEnergyUsed_MWh; // Calculation based on (total_production - total_export) / total_consumption. Negative delta-stored energy is contained in v_totalSelfConsumedEnergy_MWh. 

traceln("Energy selfsufficiency (via export calc): %s %%", totalSelfSufficiency_fr_check*100);
// Remaining difference due to different temps of houses start vs end?

traceln( "import electricity: " + v_totalElectricityImport_MWh + " MWh");
traceln( "export electricity: " + v_totalElectricityExport_MWh + " MWh");
traceln( "nett import methane: " + (v_totalMethaneImport_MWh-v_totalMethaneExport_MWh) + " MWh");
traceln( "import diesel: " + v_totalDieselImport_MWh + " MWh");

//traceln("MS node peak load: " + v_gridNodePeakLoadElectricityMSLS_kW + " kW at hour: " + c_timesOfNodePeakLoads_h);]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1699275323325</Id>
					<Name><![CDATA[f_updateDatasets]]></Name>
					<X>557</X><Y>234</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[t_h]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[if (v_isRapidRun == false){
	data_baseloadElectricityDemand_kW.update();
	data_heatPumpElectricityDemand_kW.update();
	//data_electricCarsDemand_kW.update();
	data_electricTrucksDemand_kW.update();
	data_neighborhoodBatteryDemand_kW.update();	
	
	data_PVGeneration_kW.update();	
	data_windGeneration_kW.update();	
	data_neighborhoodBatterySupply_kW.update();	
	data_V2GSupply_kW.update();
	
	data_businessParkDemand_kW.update();
	data_businessParkSupply_kW.update();
	data_businessParkNetLoad_kW.update();
		
	if (b_addKpiVisuals) {
		UI_EnergyAsset.f_updateData();
	}
} else {
	//v_peakElecImport_kW = max(v_peakElecImport_kW,v_currentElectricityImport_kW);
	//v_peakElecExport_kW = max(v_peakElecExport_kW,v_currentElectricityExport_kW);
	
	// Daytime
	if (t_h % 24 > 6 && t_h % 24 < 18) {
		v_daytimeTotalImport_MWh += v_currentEnergyImport_kW / 1000 * p_timeStep_h;
		v_daytimeTotalExport_MWh += v_currentEnergyExport_kW / 1000 * p_timeStep_h;
		v_daytimeEnergyUsed_MWh += v_currentEnergyConsumption_kW / 1000 * p_timeStep_h;
		v_daytimeEnergyProduced_MWh += ( v_currentEnergyProduction_kW/1000 - v_currentEnergyCurtailed_kW/1000 ) * p_timeStep_h;
		v_daytimePeakElecImport_kW = max(v_daytimePeakElecImport_kW,v_currentElectricityImport_kW);
		v_daytimePeakElecExport_kW = max(v_daytimePeakElecExport_kW,v_currentElectricityExport_kW);
	} else { // Nighttime
		v_nighttimeTotalImport_MWh += v_currentEnergyImport_kW / 1000 * p_timeStep_h;
		v_nighttimeTotalExport_MWh += v_currentEnergyExport_kW / 1000 * p_timeStep_h;
		v_nighttimeEnergyUsed_MWh += v_currentEnergyConsumption_kW / 1000 * p_timeStep_h;
		v_nighttimeEnergyProduced_MWh += ( v_currentEnergyProduction_kW/1000 - v_currentEnergyCurtailed_kW/1000 ) * p_timeStep_h;
		v_nighttimePeakElecImport_kW = max(v_nighttimePeakElecImport_kW,v_currentElectricityImport_kW);
		v_nighttimePeakElecExport_kW = max(v_nighttimePeakElecExport_kW,v_currentElectricityExport_kW);
	}
	
	// Weekday
	if ((t_h+3*24) % (24*7) < (24*5)) { // Simulation starts on a Thursday, hence the +3 day offset on t_h
		v_weekdayTotalImport_MWh += v_currentEnergyImport_kW / 1000 * p_timeStep_h;
		v_weekdayTotalExport_MWh += v_currentEnergyExport_kW / 1000 * p_timeStep_h;
		v_weekdayEnergyUsed_MWh += v_currentEnergyConsumption_kW / 1000 * p_timeStep_h;
		v_weekdayEnergyProduced_MWh += ( v_currentEnergyProduction_kW/1000 - v_currentEnergyCurtailed_kW/1000 ) * p_timeStep_h;
		v_weekdayPeakElecImport_kW = max(v_weekdayPeakElecImport_kW,v_currentElectricityImport_kW);
		v_weekdayPeakElecExport_kW = max(v_weekdayPeakElecExport_kW,v_currentElectricityExport_kW);
	} else { // Weekend
		v_weekendTotalImport_MWh += v_currentEnergyImport_kW / 1000 * p_timeStep_h;
		v_weekendTotalExport_MWh += v_currentEnergyExport_kW / 1000 * p_timeStep_h;
		v_weekendEnergyUsed_MWh += v_currentEnergyConsumption_kW / 1000 * p_timeStep_h;
		v_weekendEnergyProduced_MWh += ( v_currentEnergyProduction_kW/1000 - v_currentEnergyCurtailed_kW/1000 ) * p_timeStep_h;
		v_weekendPeakElecImport_kW = max(v_weekendPeakElecImport_kW,v_currentElectricityImport_kW);
		v_weekendPeakElecExport_kW = max(v_weekendPeakElecExport_kW,v_currentElectricityExport_kW);
	}
	
	//Summer week
	if (t_h >= p_startHourSummerWeek && t_h < p_startHourSummerWeek + 24*7+1){
		data_summerWeekBaseloadElectricityDemand_kW.add(t_h, sum(c_gridConnections, x->x.v_fixedConsumptionElectric_kW));
		data_summerWeekHeatPumpElectricityDemand_kW.add(t_h, sum(c_gridConnections, x->x.v_conversionPowerElectric_kW));
		//data_summerWeekElectricCarsDemand_kW.add(t_h, sum(c_gridConnections, x->x.v_electricCarsDemand_kW));
		data_summerWeekElectricTrucksDemand_kW.add(t_h, sum(c_gridConnections, x->max(0,x.v_evChargingPowerElectric_kW)));
		data_summerWeekNeighborhoodBatteryDemand_kW.add(t_h, sum(GridBatteries, x->max(0,x.v_batteryPowerElectric_kW)));
		
		data_summerWeekPVGeneration_kW.add(t_h, sum(c_gridConnections, x->x.v_pvProductionElectric_kW));
		data_summerWeekWindGeneration_kW.add(t_h, sum(EnergyProductionSites, x->x.v_windProductionElectric_kW));
		data_summerWeekNeighborhoodBatterySupply_kW.add(t_h, sum(GridBatteries, x->max(0,-x.v_batteryPowerElectric_kW)));
		data_summerWeekV2GSupply_kW.add(t_h, sum(c_gridConnections, x->-min(0,x.v_evChargingPowerElectric_kW)));
		
		data_summerWeekBusinessParkDemand_kW.add(t_h, sum(c_energyAssets, x->x.electricityConsumption_kW));
		data_summerWeekBusinessParkSupply_kW.add(t_h, -sum(c_energyAssets, x->x.electricityProduction_kW)); 
		data_summerWeekBusinessParkNetLoad_kW.add(t_h, sum(c_gridNodesHSMS, x->x.v_currentLoadElectricity_kW));
		v_summerWeekHour++;
		//v_summerWeekPeakElecImport_kW = max(v_summerWeekPeakElecImport_kW,v_currentElectricityImport_kW);
		//v_summerWeekPeakElecExport_kW = max(v_summerWeekPeakElecExport_kW,v_currentElectricityExport_kW);
		if (t_h == p_startHourSummerWeek) {
			v_deltaThermalEnergySinceStart_MWh=0;
			f_sumMolecularEnergyFlows();
			f_sumGridNodeLoads();	
			v_summerWeekTotalImport_MWh=v_totalElectricityImport_MWh + max(0,v_totalMethaneImport_MWh-v_totalMethaneExport_MWh) + max(0,v_totalHydrogenImport_MWh-v_totalHydrogenExport_MWh) + v_totalDieselImport_MWh;
			v_summerWeekTotalExport_MWh=v_totalElectricityExport_MWh + max(0,v_totalMethaneExport_MWh-v_totalMethaneImport_MWh) + max(0,v_totalHydrogenExport_MWh-v_totalHydrogenImport_MWh);
			double totalEnergyProduced_MWh=0;
			double totalEnergyUsed_MWh=0;
			double totalEnergyCurtailed_MWh=0;
			double deltaThermalEnergySinceStart_MWh=0;
			for (J_EA e : c_energyAssets) {
				double EnergyUsed_kWh = e.getEnergyUsed_kWh();			
				if (EnergyUsed_kWh > 0) {			
					if (e instanceof J_EAConversionCurtailer || e instanceof J_EAConversionCurtailerHeat) {
						totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
						totalEnergyCurtailed_MWh += EnergyUsed_kWh/1000;
					} else {
						totalEnergyUsed_MWh += EnergyUsed_kWh/1000;
					}		
					if ( e instanceof J_EABuilding ) {
						totalEnergyProduced_MWh += ((J_EABuilding)e).energyAbsorbed_kWh/1000;
						//traceln("Building asset temp: %s, energyUsed_kWh: %s, energyAbsorbed_kWh: %s: ",((J_EABuilding)e).getCurrentTemperature(), ((J_EABuilding)e).getEnergyUsed_kWh(), ((J_EABuilding)e).energyAbsorbed_kWh );
						v_deltaThermalEnergySinceStart_MWh -= ((J_EABuilding)e).getCurrentTemperature()*((J_EABuilding)e).getHeatCapacity_JpK()/3.6e9;
					}
				} else {				
					totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
				}
			}
			v_summerWeekEnergyUsed_MWh = totalEnergyUsed_MWh;
			v_summerWeekEnergyProduced_MWh = totalEnergyProduced_MWh-totalEnergyCurtailed_MWh;		
		}
		if (t_h == p_startHourSummerWeek + 24*7) {
			f_sumMolecularEnergyFlows();
			f_sumGridNodeLoads();	
			v_summerWeekTotalImport_MWh=v_totalElectricityImport_MWh + max(0,v_totalMethaneImport_MWh-v_totalMethaneExport_MWh) + max(0,v_totalHydrogenImport_MWh-v_totalHydrogenExport_MWh) + v_totalDieselImport_MWh-v_summerWeekTotalImport_MWh;
			v_summerWeekTotalExport_MWh=v_totalElectricityExport_MWh + max(0,v_totalMethaneExport_MWh-v_totalMethaneImport_MWh) + max(0,v_totalHydrogenExport_MWh-v_totalHydrogenImport_MWh) - v_summerWeekTotalExport_MWh;
			double totalEnergyProduced_MWh=0;
			double totalEnergyUsed_MWh=0;
			double totalEnergyCurtailed_MWh=0;
			for (J_EA e : c_energyAssets) {
				double EnergyUsed_kWh = e.getEnergyUsed_kWh();			
				if (EnergyUsed_kWh > 0) {			
					if (e instanceof J_EAConversionCurtailer || e instanceof J_EAConversionCurtailerHeat) {
						totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
						totalEnergyCurtailed_MWh += EnergyUsed_kWh/1000;
					} else {
						totalEnergyUsed_MWh += EnergyUsed_kWh/1000;
					}		
					if ( e instanceof J_EABuilding ) {
						totalEnergyProduced_MWh += ((J_EABuilding)e).energyAbsorbed_kWh/1000;
						//traceln("Building asset temp: %s, energyUsed_kWh: %s, energyAbsorbed_kWh: %s: ",((J_EABuilding)e).getCurrentTemperature(), ((J_EABuilding)e).getEnergyUsed_kWh(), ((J_EABuilding)e).energyAbsorbed_kWh );
						v_deltaThermalEnergySinceStart_MWh += ((J_EABuilding)e).getCurrentTemperature()*((J_EABuilding)e).getHeatCapacity_JpK()/3.6e9; 
					}
				} else {				
					totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
				}
			}
			v_summerWeekEnergyUsed_MWh = totalEnergyUsed_MWh-v_summerWeekEnergyUsed_MWh;
			v_summerWeekEnergyProduced_MWh = totalEnergyProduced_MWh-totalEnergyCurtailed_MWh-v_summerWeekEnergyProduced_MWh;	
			
			// Calc selfConsumedEnergy for summerweek

			v_summerWeekSelfConsumedEnergy_MWh = v_summerWeekEnergyUsed_MWh - (v_summerWeekTotalImport_MWh + max(0,-v_deltaThermalEnergySinceStart_MWh)); // Putting positive delta-stored energy here assumes this energy was imported as opposed to self-produced. Putting negative delta-stored energy here assumes this energy was self-consumed, as opposed to exported.	
			double v_summerWeekSelfConsumedEnergyCheck_MWh = v_summerWeekEnergyProduced_MWh -( v_summerWeekTotalExport_MWh + max(0,v_deltaThermalEnergySinceStart_MWh));
			// Cap selfConsumedEnergy to >=0
			v_summerWeekSelfConsumedEnergy_MWh=max(0,v_summerWeekSelfConsumedEnergy_MWh);
			v_summerWeekSelfConsumedEnergyCheck_MWh=max(0,v_summerWeekSelfConsumedEnergyCheck_MWh);
			traceln("Summerweek selfconsumed use/import based: %s, production/export based: %s", v_summerWeekSelfConsumedEnergy_MWh, v_summerWeekSelfConsumedEnergyCheck_MWh);
		}
		
	}
	
	//Winter week
	if (t_h >= p_startHourWinterWeek && t_h < p_startHourWinterWeek + 24*7+1){
		data_winterWeekBaseloadElectricityDemand_kW.add(t_h, sum(c_gridConnections, x->x.v_fixedConsumptionElectric_kW));
		data_winterWeekHeatPumpElectricityDemand_kW.add(t_h, sum(c_gridConnections, x->x.v_conversionPowerElectric_kW));
		//data_winterWeekElectricCarsDemand_kW.add(t_h, sum(c_gridConnections, x->x.v_electricCarsDemand_kW));
		data_winterWeekElectricTrucksDemand_kW.add(t_h, sum(c_gridConnections, x->max(0,x.v_evChargingPowerElectric_kW)));
		data_winterWeekNeighborhoodBatteryDemand_kW.add(t_h, sum(GridBatteries, x->max(0,x.v_batteryPowerElectric_kW)));
		
		data_winterWeekPVGeneration_kW.add(t_h, sum(c_gridConnections, x->x.v_pvProductionElectric_kW));
		data_winterWeekWindGeneration_kW.add(t_h, sum(EnergyProductionSites, x->x.v_windProductionElectric_kW));
		data_winterWeekNeighborhoodBatterySupply_kW.add(t_h, sum(GridBatteries, x->max(0,-x.v_batteryPowerElectric_kW)));
		data_winterWeekV2GSupply_kW.add(t_h, sum(c_gridConnections, x->-min(0,x.v_evChargingPowerElectric_kW)));
		
		data_winterWeekBusinessParkDemand_kW.add(t_h, sum(c_energyAssets, x->x.electricityConsumption_kW));
		data_winterWeekBusinessParkSupply_kW.add(t_h, -sum(c_energyAssets, x->x.electricityProduction_kW)); 
		data_winterWeekBusinessParkNetLoad_kW.add(t_h, sum(c_gridNodesHSMS, x->x.v_currentLoadElectricity_kW));
		v_winterWeekHour++;
		//v_winterWeekPeakElecImport_kW = max(v_winterWeekPeakElecImport_kW,v_currentElectricityImport_kW);
		//v_winterWeekPeakElecExport_kW = max(v_winterWeekPeakElecExport_kW,v_currentElectricityExport_kW);
		if (t_h == p_startHourWinterWeek) {
			f_sumMolecularEnergyFlows();
			f_sumGridNodeLoads();	
			v_winterWeekTotalImport_MWh=v_totalElectricityImport_MWh + max(0,v_totalMethaneImport_MWh-v_totalMethaneExport_MWh) + max(0,v_totalHydrogenImport_MWh-v_totalHydrogenExport_MWh) + v_totalDieselImport_MWh;
			v_winterWeekTotalExport_MWh=v_totalElectricityExport_MWh + max(0,v_totalMethaneExport_MWh-v_totalMethaneImport_MWh) + max(0,v_totalHydrogenExport_MWh-v_totalHydrogenImport_MWh);
			double totalEnergyProduced_MWh=0;
			double totalEnergyUsed_MWh=0;
			double totalEnergyCurtailed_MWh=0;
			double deltaThermalEnergySinceStart_MWh=0;
			for (J_EA e : c_energyAssets) {
				double EnergyUsed_kWh = e.getEnergyUsed_kWh();			
				if (EnergyUsed_kWh > 0) {			
					if (e instanceof J_EAConversionCurtailer || e instanceof J_EAConversionCurtailerHeat) {
						totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
						totalEnergyCurtailed_MWh += EnergyUsed_kWh/1000;
					} else {
						totalEnergyUsed_MWh += EnergyUsed_kWh/1000;
					}		
					if ( e instanceof J_EABuilding ) {
						totalEnergyProduced_MWh += ((J_EABuilding)e).energyAbsorbed_kWh/1000;
						v_deltaThermalEnergySinceStart_MWh -= (((J_EABuilding)e).getCurrentTemperature())*((J_EABuilding)e).getHeatCapacity_JpK()/3.6e9;
					}
				} else {				
					totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
				}
			}
			v_winterWeekEnergyUsed_MWh = totalEnergyUsed_MWh;
			v_winterWeekEnergyProduced_MWh = totalEnergyProduced_MWh-totalEnergyCurtailed_MWh;		
		}
		if (t_h == p_startHourWinterWeek + 24*7) {
			f_sumMolecularEnergyFlows();
			f_sumGridNodeLoads();	
			v_winterWeekTotalImport_MWh=v_totalElectricityImport_MWh + max(0,v_totalMethaneImport_MWh-v_totalMethaneExport_MWh) + max(0,v_totalHydrogenImport_MWh-v_totalHydrogenExport_MWh) + v_totalDieselImport_MWh-v_winterWeekTotalImport_MWh;
			v_winterWeekTotalExport_MWh=v_totalElectricityExport_MWh + max(0,v_totalMethaneExport_MWh-v_totalMethaneImport_MWh) + max(0,v_totalHydrogenExport_MWh-v_totalHydrogenImport_MWh) - v_winterWeekTotalExport_MWh;
			double totalEnergyProduced_MWh=0;
			double totalEnergyUsed_MWh=0;
			double totalEnergyCurtailed_MWh=0;
			for (J_EA e : c_energyAssets) {
				double EnergyUsed_kWh = e.getEnergyUsed_kWh();			
				if (EnergyUsed_kWh > 0) {			
					if (e instanceof J_EAConversionCurtailer || e instanceof J_EAConversionCurtailerHeat) {
						totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
						totalEnergyCurtailed_MWh += EnergyUsed_kWh/1000;
					} else {
						totalEnergyUsed_MWh += EnergyUsed_kWh/1000;
					}		
					if ( e instanceof J_EABuilding ) {
						totalEnergyProduced_MWh += ((J_EABuilding)e).energyAbsorbed_kWh/1000;
						v_deltaThermalEnergySinceStart_MWh += (((J_EABuilding)e).getCurrentTemperature())*((J_EABuilding)e).getHeatCapacity_JpK()/3.6e9;
					}
				} else {				
					totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
				}
			}
			v_winterWeekEnergyUsed_MWh = totalEnergyUsed_MWh-v_winterWeekEnergyUsed_MWh;
			v_winterWeekEnergyProduced_MWh = totalEnergyProduced_MWh-totalEnergyCurtailed_MWh-v_winterWeekEnergyProduced_MWh;	
			
			// Calc selfConsumedEnergy for winterweek
			v_winterWeekSelfConsumedEnergy_MWh = v_winterWeekEnergyUsed_MWh - (v_winterWeekTotalImport_MWh + max(0,-v_deltaThermalEnergySinceStart_MWh)); // Putting positive delta-stored energy here assumes this energy was imported as opposed to self-produced. Putting negative delta-stored energy here assumes this energy was self-consumed, as opposed to exported.	
			double v_winterWeekSelfConsumedEnergyCheck_MWh = v_winterWeekEnergyProduced_MWh - (v_winterWeekTotalExport_MWh + max(0,v_deltaThermalEnergySinceStart_MWh));
			// Cap selfConsumedEnergy to >=0
			v_winterWeekSelfConsumedEnergy_MWh=max(0,v_winterWeekSelfConsumedEnergy_MWh);
			v_winterWeekSelfConsumedEnergyCheck_MWh=max(0,v_winterWeekSelfConsumedEnergyCheck_MWh);
			traceln("winterweek selfconsumed use/import based: %s, production/export based: %s", v_winterWeekSelfConsumedEnergy_MWh, v_winterWeekSelfConsumedEnergyCheck_MWh);
			
		}
	}
	double v_dailyBaseloadElectricityDemand_kW = sum(c_gridConnections, x->x.v_fixedConsumptionElectric_kW);
	double v_dailyHeatPumpElectricityDemand_kW = sum(c_gridConnections, x->x.v_conversionPowerElectric_kW);
	double v_dailyElectricTrucksDemand_kW = sum(c_gridConnections, x->max(0,x.v_evChargingPowerElectric_kW));
	double v_dailyNeighborhoodBatteryDemand_kW = sum(GridBatteries, x->max(0,x.v_batteryPowerElectric_kW));
	v_dailyBaseloadElectricityDemand_kWh += v_dailyBaseloadElectricityDemand_kW * p_timeStep_h;
	v_dailyHeatPumpElectricityDemand_kWh += v_dailyHeatPumpElectricityDemand_kW * p_timeStep_h;
	//v_dailyElectricCarsDemand_kWh += sum(c_gridConnections, x->x.v_electricCarsDemand_kW)*p_timeStep_h;
	v_dailyElectricTrucksDemand_kWh += v_dailyElectricTrucksDemand_kW * p_timeStep_h;
	v_dailyNeighborhoodBatteryDemand_kWh += v_dailyNeighborhoodBatteryDemand_kW * p_timeStep_h;
	data_annualBusinessParkDemand_kW.add(t_h,v_dailyBaseloadElectricityDemand_kW+v_dailyHeatPumpElectricityDemand_kW+v_dailyElectricTrucksDemand_kW+v_dailyNeighborhoodBatteryDemand_kW); // Not robust when adding other types of assets!!
	
	double v_dailyPVGeneration_kW = sum(c_gridConnections, x->x.v_pvProductionElectric_kW);
	double v_dailyWindGeneration_kW = sum(EnergyProductionSites, x->x.v_windProductionElectric_kW);
	double v_dailyNeighborhoodBatterySupply_kW = sum(GridBatteries, x->max(0,-x.v_batteryPowerElectric_kW));
	double v_dailyV2GSupply_kWh = sum(c_gridConnections, x->-min(0,x.v_evChargingPowerElectric_kW));
	v_dailyPVGeneration_kWh += v_dailyPVGeneration_kW * p_timeStep_h;
	v_dailyWindGeneration_kWh += v_dailyWindGeneration_kW * p_timeStep_h;
	v_dailyNeighborhoodBatterySupply_kWh += v_dailyNeighborhoodBatterySupply_kW * p_timeStep_h;
	v_dailyV2GSupply_kWh += v_dailyV2GSupply_kWh * p_timeStep_h;
	data_annualBusinessParkSupply_kW.add(t_h,v_dailyPVGeneration_kW+v_dailyWindGeneration_kW+v_dailyNeighborhoodBatterySupply_kW+v_dailyV2GSupply_kWh); // Not robust when adding other types of assets!!
	
	v_dailyBusinessParkDemand_kWh += v_currentEnergyConsumption_kW*p_timeStep_h; // Not only electricity! Also other energy carriers!!
	v_dailyBusinessParkSupply_kWh += v_currentEnergyProduction_kW*p_timeStep_h; // Not only electricity! Also other energy carriers!!
	//v_dailyBusinessParkNetLoad_kWh += sum(c_gridNodesHSMS, x->x.v_currentLoadElectricity_kW)*p_timeStep_h;
	
	if (t_h % 24 == 23){
		data_annualBaseloadElectricityDemand_kWh.add(t_h, v_dailyBaseloadElectricityDemand_kWh);
		data_annualHeatPumpElectricityDemand_kWh.add(t_h, v_dailyHeatPumpElectricityDemand_kWh);
		data_annualElectricCarsDemand_kWh.add(t_h, v_dailyElectricCarsDemand_kWh);
		data_annualElectricTrucksDemand_kWh.add(t_h, v_dailyElectricTrucksDemand_kWh);
		data_annualNeighborhoodBatteryDemand_kWh.add(t_h, v_dailyNeighborhoodBatteryDemand_kWh);
		
		data_annualPVGeneration_kWh.add(t_h, v_dailyPVGeneration_kWh);
		data_annualWindGeneration_kWh.add(t_h, v_dailyWindGeneration_kWh);
		data_annualNeighborhoodBatterySupply_kWh.add(t_h, v_dailyNeighborhoodBatterySupply_kWh);
		data_annualV2GSupply_kWh.add(t_h, v_dailyV2GSupply_kWh);
		
		data_annualBusinessParkDemand_kWh.add(t_h, v_dailyBusinessParkDemand_kWh);
		data_annualBusinessParkSupply_kWh.add(t_h, v_dailyBusinessParkSupply_kWh); 
		//data_annualBusinessParkNetLoad_kWh.add(t_h, v_dailyBusinessParkNetLoad_kWh);
			
		v_dailyBaseloadElectricityDemand_kWh = 0;
		v_dailyHeatPumpElectricityDemand_kWh = 0;
		v_dailyElectricCarsDemand_kWh = 0;
		v_dailyElectricTrucksDemand_kWh = 0;
		v_dailyNeighborhoodBatteryDemand_kWh = 0;
		
		v_dailyPVGeneration_kWh = 0;
		v_dailyWindGeneration_kWh = 0;
		v_dailyNeighborhoodBatterySupply_kWh = 0;
		v_dailyV2GSupply_kWh = 0;
		
		v_dailyBusinessParkDemand_kWh = 0;
		v_dailyBusinessParkSupply_kWh = 0;
		//v_dailyBusinessParkNetLoad_kWh = 0;
	}
	data_annualBusinessParkNetLoad_kW.add(t_h,sum(c_gridNodesHSMS, x->x.v_currentLoadElectricity_kW));

}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1699958741073</Id>
					<Name><![CDATA[f_resetAnnualValues]]></Name>
					<X>790</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[data_annualBaseloadElectricityDemand_kWh.reset();
data_annualHeatPumpElectricityDemand_kWh.reset();
data_annualElectricCarsDemand_kWh.reset();
data_annualElectricTrucksDemand_kWh.reset();
data_annualNeighborhoodBatteryDemand_kWh.reset();

data_annualPVGeneration_kWh.reset();
data_annualWindGeneration_kWh.reset();
data_annualNeighborhoodBatterySupply_kWh.reset();
data_annualV2GSupply_kWh.reset();

data_annualBusinessParkDemand_kWh.reset();
data_annualBusinessParkSupply_kWh.reset();
//data_annualBusinessParkNetLoad_kWh.reset();
data_annualBusinessParkNetLoad_kW.reset();

v_daytimeTotalImport_MWh = 0;
v_daytimeTotalExport_MWh = 0;
v_daytimeSelfConsumedEnergy_MWh = 0;
v_daytimeEnergyUsed_MWh = 0;
v_daytimeEnergyProduced_MWh = 0;

v_nighttimeTotalImport_MWh = 0;
v_nighttimeTotalExport_MWh = 0;
v_nighttimeSelfConsumedEnergy_MWh = 0;
v_nighttimeEnergyUsed_MWh = 0;
v_nighttimeEnergyProduced_MWh = 0;

v_weekdayTotalImport_MWh = 0;
v_weekdayTotalExport_MWh = 0;
v_weekdaySelfConsumedEnergy_MWh = 0;
v_weekdayEnergyUsed_MWh = 0;
v_weekdayEnergyProduced_MWh = 0;

v_weekendTotalImport_MWh = 0;
v_weekendTotalExport_MWh = 0;
v_weekendSelfConsumedEnergy_MWh = 0;
v_weekendEnergyUsed_MWh = 0;
v_weekendEnergyProduced_MWh = 0;

v_peakElecExport_kW = 0;
v_peakElecImport_kW = 0;
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1700560766579</Id>
					<Name><![CDATA[f_duurkrommes]]></Name>
					<X>-830</X><Y>620</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Sorting netload values for belastingsduurkromme
data_netbelastingDuurkrommeVorige_kW.reset();
//data_netbelastingshistogram_kW.reset();
boolean notFirstRun = data_netbelastingDuurkromme_kW.size()>0? true : false;
int arraySize = data_annualBusinessParkNetLoad_kW.size();

double[] netLoadArray_kW = new double[arraySize];
double[] netLoadArrayWinter_kW = new double[data_winterWeekBusinessParkNetLoad_kW.size()];
double[] netLoadArraySummer_kW = new double[data_winterWeekBusinessParkNetLoad_kW.size()];
double[] netLoadArrayDay_kW = new double[arraySize/2];
double[] netLoadArrayNight_kW = new double[arraySize/2];

int i_winter=0;
int i_summer=0;
int i_day=0;
int i_night=0;
int i_weekday=0;
int i_weekend=0;
for(int i=0; i<arraySize ; i++) {
	netLoadArray_kW[i]=-data_annualBusinessParkNetLoad_kW.getY(i);
	if (notFirstRun) {
		data_netbelastingDuurkrommeVorige_kW.add(i*p_timeStep_h,data_netbelastingDuurkromme_kW.getY(i));
	}
	// summer/winter
	if (i*p_timeStep_h > p_startHourSummerWeek && i*p_timeStep_h<= p_startHourSummerWeek+24*7) {
		netLoadArraySummer_kW[i_summer]=-data_annualBusinessParkNetLoad_kW.getY(i);
		i_summer++;
	}
	if (i*p_timeStep_h > p_startHourWinterWeek && i*p_timeStep_h<= p_startHourWinterWeek+24*7) {
		netLoadArrayWinter_kW[i_winter]=-data_annualBusinessParkNetLoad_kW.getY(i);
		i_winter++;
	}
	// day/night
	if (i*p_timeStep_h % 24 > 6 && i*p_timeStep_h % 24 <= 18) { //daytime
		netLoadArrayDay_kW[i_day]=-data_annualBusinessParkNetLoad_kW.getY(i);
		i_day++;
	} else {
		netLoadArrayNight_kW[i_night]=-data_annualBusinessParkNetLoad_kW.getY(i);
		i_night++;
	}

	//data_netbelastingshistogram_kW.add(data_annualBusinessParkNetLoad_kW.getY(i));
}
//Arrays.sort(data_annualBusinessParkNetLoad_kW); Sort is not a thing for datasets...
// Sort all arrays
Arrays.parallelSort(netLoadArray_kW);
Arrays.parallelSort(netLoadArraySummer_kW);
Arrays.parallelSort(netLoadArrayWinter_kW);
Arrays.parallelSort(netLoadArrayDay_kW);
Arrays.parallelSort(netLoadArrayNight_kW);

// Write results to datasets
data_netbelastingDuurkromme_kW.reset();
for(int i=0; i< arraySize; i++) {
	data_netbelastingDuurkromme_kW.add(i*p_timeStep_h, -netLoadArray_kW[i]);
}
data_HSMScapacity_kW.add(0, c_gridNodesHSMS.get(0).p_capacity_kW);
data_HSMScapacity_kW.add(data_netbelastingDuurkromme_kW.getX(arraySize-1), c_gridNodesHSMS.get(0).p_capacity_kW);
data_HSMScapacitySupply_kW.add(0, -c_gridNodesHSMS.get(0).p_capacity_kW);
data_HSMScapacitySupply_kW.add(data_netbelastingDuurkromme_kW.getX(arraySize-1), -c_gridNodesHSMS.get(0).p_capacity_kW);

//Netbelastingduurkromme winter
data_winterWeekBusinessParkNetbelastingDuurkromme_kW.reset();
arraySize = data_winterWeekBusinessParkNetLoad_kW.size();
for(int i=0; i< arraySize; i++) {
	data_winterWeekBusinessParkNetbelastingDuurkromme_kW.add(i*p_timeStep_h, -netLoadArrayWinter_kW[i]);
}

//Netbelastingduurkromme summer
arraySize = data_summerWeekBusinessParkNetLoad_kW.size();
data_summerWeekBusinessParkNetbelastingDuurkromme_kW.reset();
for(int i=0; i< arraySize; i++) {
	data_summerWeekBusinessParkNetbelastingDuurkromme_kW.add(i*p_timeStep_h, -netLoadArraySummer_kW[i]);
}

//Netbelastingduurkromme dag
arraySize = roundToInt(8760/2/p_timeStep_h);
data_daytimeNetbelastingDuurkromme_kW.reset();
for(int i=0; i< arraySize; i++) {
	data_daytimeNetbelastingDuurkromme_kW.add(i*p_timeStep_h, -netLoadArrayDay_kW[i]);
}

//Netbelastingduurkromme nacht
data_nighttimeNetbelastingDuurkromme_kW.reset();
for(int i=0; i< arraySize; i++) {
	data_nighttimeNetbelastingDuurkromme_kW.add(i*p_timeStep_h, -netLoadArrayNight_kW[i]);
}
// Only calculate here, update graphs elsewhere!
/*
pl_belastingsduurkromme.removeAll();
pl_belastingsduurkromme.addDataSet(data_netbelastingDuurkromme_kW,"Onbalansduurkromme");
//Chart2DPlot.Appearance appearance = new Chart2DPlot.Appearance();
pl_belastingsduurkromme.addDataSet(data_netbelastingDuurkrommeVorige_kW,"Vorige onbalansduurkromme");
pl_belastingsduurkromme.setColor(1,red);
pl_belastingsduurkromme.setVisible(true);
pl_belastingsduurkromme.setFixedVerticalScale(data_netbelastingDuurkromme_kW.getYMin(), data_netbelastingDuurkromme_kW.getYMax());
pl_belastingsduurkromme.setFixedHorizontalScale(data_netbelastingDuurkromme_kW.getXMin(), data_netbelastingDuurkromme_kW.getXMax());
pl_netbelastingshistogram.updateData();
//pl_belastingsduurkromme.addDataSet(data_HSMScapacity_kW,"Netcapaciteit op HSMS-niveau");
*/
//Netbelastingduurkromme winter
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1701162826549</Id>
					<Name><![CDATA[f_runTimestep]]></Name>
					<X>790</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Update tijdreeksen in leesbare variabelen
t_h = (v_timeStepsElapsed * p_timeStep_h + v_hourOfYearStart);// % 8760;

double startTime = System.currentTimeMillis();
f_updateTimeseries(t_h);
v_timeSeriesRuntime_ms += (System.currentTimeMillis()-startTime);

// Operate assets on each gridConnection
startTime = System.currentTimeMillis();
f_calculateGridConnectionFlows(t_h);
v_gridConnectionsRuntime_ms += (System.currentTimeMillis()-startTime);

// Calculate grid node flows
startTime = System.currentTimeMillis();
f_calculateGridnodeFlows(t_h);
v_gridNodesRuntime_ms += (System.currentTimeMillis()-startTime);

// Financial accounting of energy flows
startTime = System.currentTimeMillis();
f_calculateFinancialFlows(t_h);
v_financialsRuntime_ms += (System.currentTimeMillis()-startTime);

// Update elektriciteitsprijzen
startTime = System.currentTimeMillis();
f_updatePricesForNextTimestep(t_h);
v_incentivesRuntime_ms += (System.currentTimeMillis()-startTime);

f_updateDatasets(t_h);

v_timeStepsElapsed ++;
]]></Body>
				</Function>
			</Functions>
			<TableFunctions>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1659337870276</Id>
					<Name><![CDATA[tf_p_house_e_demand_other]]></Name>
					<Description><![CDATA[Genormaliseerde tijdreeksdata per uur voor household other electricity demand (koeling, verlichting etc.), ingelezen vanuit externe (aanpasbare) database.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-671</X><Y>149</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[house_e_demand_other]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1659337941636</Id>
					<Name><![CDATA[tf_p_wind_e_normalized]]></Name>
					<Description><![CDATA[Genormaliseerde tijdreeksdata per uur voor productie van wind-energie, ingelezen vanuit externe (aanpasbare) database.

@source: ETM-curves genormaliseerd met opgesteld vermogen
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-671</X><Y>89</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>NEAREST</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[wind_e_prod_normalized]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1659337995740</Id>
					<Name><![CDATA[tf_p_solar_e_normalized]]></Name>
					<Description><![CDATA[Genormaliseerde tijdreeksdata per uur voor productie van zonne-energie (pv en thermisch), ingelezen vanuit externe (aanpasbare) database.

@source: ETM-curves genormaliseerd met opgesteld vermogen
@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-671</X><Y>109</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>NEAREST</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[solar_e_prod_normalized]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1659364114491</Id>
					<Name><![CDATA[tf_ambientTemperature_degC]]></Name>
					<Description><![CDATA[Genormaliseerde tijdreeksdata per uur voor buitentemperatuur.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>-671</X><Y>129</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>NEAREST</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[ambienttemperature_degc]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1664529919197</Id>
					<Name><![CDATA[tf_p_building_e_demand_other]]></Name>
					<X>-671</X><Y>189</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[building_e_demand_other]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1664533224315</Id>
					<Name><![CDATA[tf_p_house_h_demand_hot_water]]></Name>
					<X>-671</X><Y>169</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[house_h_demand_hot_water]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1665499046358</Id>
					<Name><![CDATA[tf_p_building_h_demand]]></Name>
					<X>-671</X><Y>209</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[building_h_demand]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1665499121634</Id>
					<Name><![CDATA[tf_p_industry_steel_e_demand]]></Name>
					<X>-671</X><Y>229</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[industry_steel_e_demand]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1665499133914</Id>
					<Name><![CDATA[tf_p_industry_steel_h_demand]]></Name>
					<X>-671</X><Y>249</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[industry_steel_h_demand]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1665499150900</Id>
					<Name><![CDATA[tf_p_industry_other_e_demand]]></Name>
					<X>-671</X><Y>269</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[industry_other_e_demand]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1665499166838</Id>
					<Name><![CDATA[tf_p_industry_other_h_demand]]></Name>
					<X>-671</X><Y>289</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[industry_other_h_demand]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1667396912514</Id>
					<Name><![CDATA[tf_p_logistics_fleet_e_hgv]]></Name>
					<X>-671</X><Y>309</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>NEAREST</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[logistics_fleet_e_hgv]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
			</TableFunctions>
			<AnalysisData>
    			<DataSet>
					<Id>1699275048264</Id>
					<Name><![CDATA[data_naturalGasDemand_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>80</X><Y>1220</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<VerticalAxisExpression><![CDATA[naturalGasDemand]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048281</Id>
					<Name><![CDATA[data_heatPumpElectricityDemand_kW]]></Name>
					<X>80</X><Y>1260</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(c_gridConnections, x->x.v_conversionPowerElectric_kW)]]></VerticalAxisExpression>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048295</Id>
					<Name><![CDATA[data_windGeneration_kW]]></Name>
					<X>80</X><Y>1380</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(c_gridConnections,x->x.v_windProductionElectric_kW)]]></VerticalAxisExpression>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048309</Id>
					<Name><![CDATA[data_V2GSupply_kW]]></Name>
					<X>80</X><Y>1420</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(c_gridConnections,x->-min(0,x.v_evChargingPowerElectric_kW))]]></VerticalAxisExpression>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048324</Id>
					<Name><![CDATA[data_PVGeneration_kW]]></Name>
					<X>80</X><Y>1360</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(c_gridConnections, x->x.v_pvProductionElectric_kW)]]></VerticalAxisExpression>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048339</Id>
					<Name><![CDATA[data_neighborhoodBatteryDemand_kW]]></Name>
					<X>80</X><Y>1320</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(GridBatteries, x->max(0,x.v_batteryPowerElectric_kW))]]></VerticalAxisExpression>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048354</Id>
					<Name><![CDATA[data_baseloadElectricityDemand_kW]]></Name>
					<X>80</X><Y>1240</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(c_gridConnections, x->x.v_fixedConsumptionElectric_kW)]]></VerticalAxisExpression>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048369</Id>
					<Name><![CDATA[data_businessParkDemand_kW]]></Name>
					<X>80</X><Y>1460</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[v_currentEnergyConsumption_kW]]></VerticalAxisExpression>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048383</Id>
					<Name><![CDATA[data_electricCarsDemand_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>80</X><Y>1280</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(c_gridConnections, x->x.v_electricCarsDemand_kW)]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048398</Id>
					<Name><![CDATA[data_electricTrucksDemand_kW]]></Name>
					<X>80</X><Y>1300</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(c_gridConnections, x->max(0,x.v_evChargingPowerElectric_kW))]]></VerticalAxisExpression>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048412</Id>
					<Name><![CDATA[data_neighborhoodBatterySupply_kW]]></Name>
					<X>80</X><Y>1400</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(GridBatteries, x->-min(0,x.v_batteryPowerElectric_kW))]]></VerticalAxisExpression>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048425</Id>
					<Name><![CDATA[data_businessParkSupply_kW]]></Name>
					<X>80</X><Y>1480</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[v_currentEnergyProduction_kW]]></VerticalAxisExpression>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048440</Id>
					<Name><![CDATA[data_businessParkNetLoad_kW]]></Name>
					<X>80</X><Y>1500</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(c_gridNodesHSMS, x->x.v_currentLoadElectricity_kW)]]></VerticalAxisExpression>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048453</Id>
					<Name><![CDATA[data_naturalGasDemand_kW1]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>80</X><Y>1530</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<VerticalAxisExpression><![CDATA[naturalGasDemand]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048467</Id>
					<Name><![CDATA[data_summerWeekHeatPumpElectricityDemand_kW]]></Name>
					<X>80</X><Y>1570</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048481</Id>
					<Name><![CDATA[data_summerWeekWindGeneration_kW]]></Name>
					<X>80</X><Y>1690</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048495</Id>
					<Name><![CDATA[data_summerWeekV2GSupply_kW]]></Name>
					<X>80</X><Y>1730</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048509</Id>
					<Name><![CDATA[data_summerWeekPVGeneration_kW]]></Name>
					<X>80</X><Y>1670</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048523</Id>
					<Name><![CDATA[data_summerWeekNeighborhoodBatteryDemand_kW]]></Name>
					<X>80</X><Y>1630</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048537</Id>
					<Name><![CDATA[data_summerWeekBaseloadElectricityDemand_kW]]></Name>
					<X>80</X><Y>1550</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048551</Id>
					<Name><![CDATA[data_summerWeekBusinessParkDemand_kW]]></Name>
					<X>80</X><Y>1759</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048564</Id>
					<Name><![CDATA[data_summerWeekElectricCarsDemand_kW]]></Name>
					<X>80</X><Y>1590</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048578</Id>
					<Name><![CDATA[data_summerWeekElectricTrucksDemand_kW]]></Name>
					<X>80</X><Y>1610</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048591</Id>
					<Name><![CDATA[data_summerWeekNeighborhoodBatterySupply_kW]]></Name>
					<X>80</X><Y>1710</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048605</Id>
					<Name><![CDATA[data_summerWeekBusinessParkSupply_kW]]></Name>
					<X>80</X><Y>1779</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048618</Id>
					<Name><![CDATA[data_summerWeekBusinessParkNetLoad_kW]]></Name>
					<X>80</X><Y>1799</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048632</Id>
					<Name><![CDATA[data_winterWeekHeatPumpElectricityDemand_kW]]></Name>
					<X>80</X><Y>1865</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048645</Id>
					<Name><![CDATA[data_winterWeekWindGeneration_kW]]></Name>
					<X>80</X><Y>1985</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048659</Id>
					<Name><![CDATA[data_winterWeekV2GSupply_kW]]></Name>
					<X>80</X><Y>2025</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048672</Id>
					<Name><![CDATA[data_winterWeekPVGeneration_kW]]></Name>
					<X>80</X><Y>1965</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048686</Id>
					<Name><![CDATA[data_winterWeekNeighborhoodBatteryDemand_kW]]></Name>
					<X>80</X><Y>1925</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048700</Id>
					<Name><![CDATA[data_winterWeekBaseloadElectricityDemand_kW]]></Name>
					<X>80</X><Y>1845</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048713</Id>
					<Name><![CDATA[data_winterWeekBusinessParkDemand_kW]]></Name>
					<X>80</X><Y>2055</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048726</Id>
					<Name><![CDATA[data_winterWeekElectricCarsDemand_kW]]></Name>
					<X>80</X><Y>1885</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048740</Id>
					<Name><![CDATA[data_winterWeekElectricTrucksDemand_kW]]></Name>
					<X>80</X><Y>1905</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048753</Id>
					<Name><![CDATA[data_winterWeekNeighborhoodBatterySupply_kW]]></Name>
					<X>80</X><Y>2005</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048768</Id>
					<Name><![CDATA[data_winterWeekBusinessParkSupply_kW]]></Name>
					<X>80</X><Y>2075</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048782</Id>
					<Name><![CDATA[data_winterWeekBusinessParkNetLoad_kW]]></Name>
					<X>80</X><Y>2095</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048795</Id>
					<Name><![CDATA[data_annualHeatPumpElectricityDemand_kWh]]></Name>
					<X>80</X><Y>2170</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048809</Id>
					<Name><![CDATA[data_annualWindGeneration_kWh]]></Name>
					<X>80</X><Y>2290</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048823</Id>
					<Name><![CDATA[data_annualV2GSupply_kWh]]></Name>
					<X>80</X><Y>2330</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048837</Id>
					<Name><![CDATA[data_annualPVGeneration_kWh]]></Name>
					<X>80</X><Y>2270</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048850</Id>
					<Name><![CDATA[data_annualNeighborhoodBatteryDemand_kWh]]></Name>
					<X>80</X><Y>2230</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048864</Id>
					<Name><![CDATA[data_annualBaseloadElectricityDemand_kWh]]></Name>
					<X>80</X><Y>2150</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048878</Id>
					<Name><![CDATA[data_annualBusinessParkDemand_kWh]]></Name>
					<X>80</X><Y>2370</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048891</Id>
					<Name><![CDATA[data_annualElectricCarsDemand_kWh]]></Name>
					<X>80</X><Y>2190</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048905</Id>
					<Name><![CDATA[data_annualElectricTrucksDemand_kWh]]></Name>
					<X>80</X><Y>2210</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048918</Id>
					<Name><![CDATA[data_annualNeighborhoodBatterySupply_kWh]]></Name>
					<X>80</X><Y>2310</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048932</Id>
					<Name><![CDATA[data_annualBusinessParkSupply_kWh]]></Name>
					<X>80</X><Y>2390</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048946</Id>
					<Name><![CDATA[data_annualBusinessParkNetLoad_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>80</X><Y>2410</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048960</Id>
					<Name><![CDATA[data_naturalGasDemand_kW2]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1220</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<VerticalAxisExpression><![CDATA[naturalGasDemand]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048973</Id>
					<Name><![CDATA[data_heatPumpElectricityDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1260</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(c_UtilityObjectsInCollective, x->x.v_heatPumpElectricityDemand_kW)]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275048987</Id>
					<Name><![CDATA[data_windGenerationCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1380</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[v_windGeneration_kW]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049000</Id>
					<Name><![CDATA[data_V2GSupplyCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1420</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[v_EVDischargePower_kW]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049014</Id>
					<Name><![CDATA[data_PVGenerationCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1360</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(c_UtilityObjectsInCollective, x->x.v_rooftopSolarGeneration_kW)]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049028</Id>
					<Name><![CDATA[data_neighborhoodBatteryDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1320</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(GridBatteries, x->x.v_requiredChargePower_kW)]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049042</Id>
					<Name><![CDATA[data_baseloadElectricityDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1240</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(c_UtilityObjectsInCollective, x->x.v_baseloadElectricityDemand_kW)]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049055</Id>
					<Name><![CDATA[data_businessParkDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1460</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[v_businessCollectiveTotalDemand_kW]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049069</Id>
					<Name><![CDATA[data_electricCarsDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1280</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(c_UtilityObjectsInCollective, x->x.v_electricCarsDemand_kW)]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049083</Id>
					<Name><![CDATA[data_electricTrucksDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1300</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(c_UtilityObjectsInCollective, x->x.v_electricTrucksDemand_kW)]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049097</Id>
					<Name><![CDATA[data_neighborhoodBatterySupplyCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1400</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[sum(GridBatteries, x->-min(0,x.v_batteryPowerElectric_kW))]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049110</Id>
					<Name><![CDATA[data_businessParkSupplyCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1480</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[v_businessCollectiveTotalSupply_kW]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049124</Id>
					<Name><![CDATA[data_businessParkNetLoadCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1500</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[v_businessCollectiveNetLoad_kW]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049138</Id>
					<Name><![CDATA[data_naturalGasDemand_kW3]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1530</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<VerticalAxisExpression><![CDATA[naturalGasDemand]]></VerticalAxisExpression>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049152</Id>
					<Name><![CDATA[data_summerWeekHeatPumpElectricityDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1570</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049166</Id>
					<Name><![CDATA[data_summerWeekWindGenerationCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1690</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049179</Id>
					<Name><![CDATA[data_summerWeekV2GSupplyCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1730</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049193</Id>
					<Name><![CDATA[data_summerWeekPVGenerationCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1670</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049206</Id>
					<Name><![CDATA[data_summerWeekNeighborhoodBatteryDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1630</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049221</Id>
					<Name><![CDATA[data_summerWeekBaseloadElectricityDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1550</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049234</Id>
					<Name><![CDATA[data_summerWeekBusinessParkDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1770</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049248</Id>
					<Name><![CDATA[data_summerWeekElectricCarsDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1590</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049262</Id>
					<Name><![CDATA[data_summerWeekElectricTrucksDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1610</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049277</Id>
					<Name><![CDATA[data_summerWeekNeighborhoodBatterySupplyCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1710</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049291</Id>
					<Name><![CDATA[data_summerWeekBusinessParkSupplyCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1790</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049304</Id>
					<Name><![CDATA[data_summerWeekBusinessParkNetLoadCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1810</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049318</Id>
					<Name><![CDATA[data_winterWeekHeatPumpElectricityDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1865</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049331</Id>
					<Name><![CDATA[data_winterWeekWindGenerationCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1985</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049345</Id>
					<Name><![CDATA[data_winterWeekV2GSupplyCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2025</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049359</Id>
					<Name><![CDATA[data_winterWeekPVGenerationCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1965</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049373</Id>
					<Name><![CDATA[data_winterWeekNeighborhoodBatteryDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1925</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049386</Id>
					<Name><![CDATA[data_winterWeekBaseloadElectricityDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1845</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049400</Id>
					<Name><![CDATA[data_winterWeekBusinessParkDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2065</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049414</Id>
					<Name><![CDATA[data_winterWeekElectricCarsDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1885</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049428</Id>
					<Name><![CDATA[data_winterWeekElectricTrucksDemandCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>1905</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049442</Id>
					<Name><![CDATA[data_winterWeekNeighborhoodBatterySupplyCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2005</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049455</Id>
					<Name><![CDATA[data_winterWeekBusinessParkSupplyCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2085</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049470</Id>
					<Name><![CDATA[data_winterWeekBusinessParkNetLoadCollective_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2105</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049483</Id>
					<Name><![CDATA[data_annualHeatPumpElectricityDemandCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2170</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049497</Id>
					<Name><![CDATA[data_annualWindGenerationCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2290</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049511</Id>
					<Name><![CDATA[data_annualV2GSupplyCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2330</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049525</Id>
					<Name><![CDATA[data_annualPVGenerationCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2270</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049549</Id>
					<Name><![CDATA[data_annualNeighborhoodBatteryDemandCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2230</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049563</Id>
					<Name><![CDATA[data_annualBaseloadElectricityDemandCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2150</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049577</Id>
					<Name><![CDATA[data_annualBusinessParkDemandCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2370</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049591</Id>
					<Name><![CDATA[data_annualElectricCarsDemandCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2190</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>168</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049605</Id>
					<Name><![CDATA[data_annualElectricTrucksDemandCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2210</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049618</Id>
					<Name><![CDATA[data_annualNeighborhoodBatterySupplyCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2310</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049632</Id>
					<Name><![CDATA[data_annualBusinessParkSupplyCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2390</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699275049645</Id>
					<Name><![CDATA[data_annualBusinessParkNetLoadCollective_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>2410</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>365</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699524082116</Id>
					<Name><![CDATA[data_annualBusinessParkNetLoad_kW]]></Name>
					<X>80</X><Y>2470</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>35040</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699893956845</Id>
					<Name><![CDATA[data_netbelastingDuurkromme_kW]]></Name>
					<X>80</X><Y>2492</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>35040</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1699894632947</Id>
					<Name><![CDATA[data_netbelastingDuurkrommeVorige_kW]]></Name>
					<X>80</X><Y>2510</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>35040</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1700147597435</Id>
					<Name><![CDATA[data_summerWeekBusinessParkNetbelastingDuurkromme_kW]]></Name>
					<X>80</X><Y>1820</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1700147657392</Id>
					<Name><![CDATA[data_winterWeekBusinessParkNetbelastingDuurkromme_kW]]></Name>
					<X>80</X><Y>2116</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1700478038239</Id>
					<Name><![CDATA[data_HSMScapacity_kW]]></Name>
					<X>80</X><Y>2530</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>2</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1700579037693</Id>
					<Name><![CDATA[data_annualBusinessParkDemand_kW]]></Name>
					<X>80</X><Y>2430</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[v_currentEnergyConsumption_kW]]></VerticalAxisExpression>
					<SamplesToKeep>35040</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1700579040385</Id>
					<Name><![CDATA[data_annualBusinessParkSupply_kW]]></Name>
					<X>80</X><Y>2450</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<HorizontalAxisExpression><![CDATA[t_h]]></HorizontalAxisExpression>
					<VerticalAxisExpression><![CDATA[v_currentEnergyProduction_kW]]></VerticalAxisExpression>
					<SamplesToKeep>35040</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1702465065845</Id>
					<Name><![CDATA[data_daytimeNetbelastingDuurkromme_kW]]></Name>
					<X>430</X><Y>1380</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>17520</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1702465090680</Id>
					<Name><![CDATA[data_nighttimeNetbelastingDuurkromme_kW]]></Name>
					<X>430</X><Y>1400</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>17520</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1702465099793</Id>
					<Name><![CDATA[data_weekdayNetbelastingDuurkromme_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>430</X><Y>1420</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1702465110233</Id>
					<Name><![CDATA[data_weekendNetbelastingDuurkromme_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>430</X><Y>1440</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>672</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1702537713723</Id>
					<Name><![CDATA[data_HSMScapacitySupply_kW]]></Name>
					<X>260</X><Y>2530</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>2</SamplesToKeep>
				</DataSet>
			</AnalysisData>
			<AgentLinks>
				<AgentLink>
					<Id>1658477103135</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1696520909218</Id>
					<Name><![CDATA[connections1]]></Name>
					<X>40</X><Y>-180</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<EmbeddedObjects>
				<EmbeddedObject>
					<Id>1658477403183</Id>
					<Name><![CDATA[pop_gridNodes]]></Name>
					<X>300</X><Y>80</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[GridNode]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[GridNode]]></ClassName>
							<ItemName><![CDATA[1658477288306]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridNodeID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nodeType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_transportBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerGridOperator]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridNodeOwnerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[b_transportBufferValid]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_longitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_latitude]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[p_latitude]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[p_longitude]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1658477403184</Id>
					<Name><![CDATA[pop_gridConnections]]></Name>
					<X>90</X><Y>73</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[GridConnection]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[GridConnection]]></ClassName>
							<ItemName><![CDATA[1658499438201]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_BuildingThermalAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_curtailer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gasBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_cookingTracker]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyLabel]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_DHWAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISbuilding]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_longitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_latitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_name]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisnummer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_openbareR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_connection_id]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyProfile]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISPoint]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_woonplaats]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisletter]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_toevoeging]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_postcode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_pandIdentiteit]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1658499722957</Id>
					<Name><![CDATA[UI_EnergyAsset]]></Name>
					<X>296</X><Y>362</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[UI_EnergyAsset]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[UI_EnergyAsset]]></ClassName>
							<ItemName><![CDATA[1658499506318]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[j_ea]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentAgent]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_assetName]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>false</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1658752704931</Id>
					<Name><![CDATA[pop_subTenants]]></Name>
					<Description><![CDATA[Optionele visualisatie-agent met eenvoudige visuals voor model inspectie, monitoring en debugging. Kan aangezet worden met de parameter b_addKpiVisuals, maar model draait ook zonder.

@since: Sprint 6
@author: Jorrit]]></Description>
					<X>90</X><Y>400</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[A_SubTenant]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[A_SubTenant]]></ClassName>
							<ItemName><![CDATA[1658752695709]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_mainTenantID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorGroup]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorSubgroup]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisnummer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_openbareR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_woonplaats]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisletter]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_toevoeging]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_postcode]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660730126216</Id>
					<Name><![CDATA[pop_connectionOwners]]></Name>
					<X>90</X><Y>300</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[ConnectionOwner]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[ConnectionOwner]]></ClassName>
							<ItemName><![CDATA[1660224852392]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_CoopParent]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorContractList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacityTariffApplicable]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacityPrice_eur]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacityLevel_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_congestionTariffApplicable]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_electricitySupplier]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridOperator]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_methaneSupplier]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_hydrogenSupplier]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatSupplier]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorSubgroup]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorGroup]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionOwnerType]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731786332</Id>
					<Name><![CDATA[pop_energySuppliers]]></Name>
					<X>90</X><Y>320</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergySupplier]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[EnergySupplier]]></ClassName>
							<ItemName><![CDATA[1660731377982]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActor]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_fixedElectricityPrice_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_fixedHeatPrice_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_fixedMethanePrice_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_fixedHydrogenPrice_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_variableElectricityPriceOverNational_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_fixedFeedinTariff_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_salderenActive]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorSubgroup]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorGroup]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731820965</Id>
					<Name><![CDATA[pop_energyCoops]]></Name>
					<X>90</X><Y>340</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyCoop]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[EnergyCoop]]></ClassName>
							<ItemName><![CDATA[1660731375014]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorContractList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridNodeUnderResponsibility]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_electricitySupplier]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_CoopParent]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridOperator]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_methaneSupplier]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_hydrogenSupplier]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatSupplier]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_yearlyOperationalCosts_eur]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_applyKostprijsPlus]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorSubgroup]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorGroup]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731850501</Id>
					<Name><![CDATA[pop_gridOperators]]></Name>
					<X>90</X><Y>380</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[GridOperator]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[GridOperator]]></ClassName>
							<ItemName><![CDATA[1660731380913]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentActor]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacitypricing_households_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_capacitypricing_households_eur]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_hasCapacityPricing]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_hasCongestionPricing]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorSubgroup]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorGroup]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[1]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731876775</Id>
					<Name><![CDATA[nationalEnergyMarket]]></Name>
					<X>87</X><Y>532</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[NationalEnergyMarket]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[NationalEnergyMarket]]></ClassName>
							<ItemName><![CDATA[1660731384413]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorSubgroup]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorGroup]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>false</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InitialSpeedCode Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
					</InitialSpeedCode>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>SPECIFIED_NUMBER</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1660731999276</Id>
					<Name><![CDATA[pop_governmentLayer]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>90</X><Y>360</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[GovernmentLayer]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[GovernmentLayer]]></ClassName>
							<ItemName><![CDATA[1660731364523]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_actorID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorSubgroup]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_actorGroup]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663772677806</Id>
					<Name><![CDATA[Houses]]></Name>
					<X>90</X><Y>96</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[GCHouse]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[GCHouse]]></ClassName>
							<ItemName><![CDATA[1663772408665]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_BuildingThermalAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_minEVChargeTarget_fr]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_householdEV]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_minChargingPower_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_curtailer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_smartChargingPowerAttenuation_fr]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gasBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_cookingTracker]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyLabel]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_DHWAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISbuilding]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_longitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_latitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_name]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisnummer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_openbareR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_connection_id]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyProfile]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISPoint]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_hasElectricHob]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_smartHeatingEnabled]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_pricelevelLowDifFromAvg_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_pricelevelHighDifFromAvg_eurpkWh]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingKickinTreshold_degC]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_woonplaats]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisletter]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_toevoeging]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_postcode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_pandIdentiteit]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663774441970</Id>
					<Name><![CDATA[DistrictHeatingSystems]]></Name>
					<X>90</X><Y>141</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[GCDistrictHeating]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[GCDistrictHeating]]></ClassName>
							<ItemName><![CDATA[1663773810343]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_BuildingThermalAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_curtailer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_residualHeatLTSource]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gasBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_cookingTracker]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyLabel]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_DHWAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISbuilding]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_longitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_latitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_name]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisnummer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_openbareR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_connection_id]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyProfile]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISPoint]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_woonplaats]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisletter]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_toevoeging]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_postcode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_pandIdentiteit]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663774461816</Id>
					<Name><![CDATA[EnergyProductionSites]]></Name>
					<X>90</X><Y>181</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[GCEnergyProduction]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[GCEnergyProduction]]></ClassName>
							<ItemName><![CDATA[1663773842877]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_BuildingThermalAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_curtailer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gasBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_cookingTracker]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyLabel]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_DHWAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISbuilding]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_longitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_latitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_name]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisnummer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_openbareR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_connection_id]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyProfile]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISPoint]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_woonplaats]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisletter]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_toevoeging]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_postcode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_pandIdentiteit]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663774484695</Id>
					<Name><![CDATA[Solarfarms]]></Name>
					<X>90</X><Y>201</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[GCSolarfarm]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[GCSolarfarm]]></ClassName>
							<ItemName><![CDATA[1663773857866]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_BuildingThermalAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_curtailer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gasBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_cookingTracker]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyLabel]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_DHWAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISbuilding]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_longitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_latitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_name]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisnummer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_openbareR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_connection_id]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyProfile]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISPoint]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_woonplaats]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisletter]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_toevoeging]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_postcode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_pandIdentiteit]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1663774484696</Id>
					<Name><![CDATA[UtilityConnections]]></Name>
					<X>90</X><Y>222</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[GCUtility]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[GCUtility]]></ClassName>
							<ItemName><![CDATA[1672138285225]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_BuildingThermalAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_curtailer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gasBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_cookingTracker]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyLabel]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_DHWAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISbuilding]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_longitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_latitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_name]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisnummer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_openbareR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_connection_id]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyProfile]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISPoint]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_woonplaats]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisletter]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_toevoeging]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_postcode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_pandIdentiteit]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1665480562790</Id>
					<Name><![CDATA[Industries]]></Name>
					<X>90</X><Y>118</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[GCIndustry]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[GCIndustry]]></ClassName>
							<ItemName><![CDATA[1665480522862]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_BuildingThermalAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_curtailer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gasBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_cookingTracker]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyLabel]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_DHWAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISbuilding]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_longitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_latitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_name]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisnummer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_openbareR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_connection_id]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyProfile]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISPoint]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_woonplaats]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisletter]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_toevoeging]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_postcode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_pandIdentiteit]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1666957373353</Id>
					<Name><![CDATA[GridBatteries]]></Name>
					<X>90</X><Y>161</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[GCGridBattery]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[GCGridBattery]]></ClassName>
							<ItemName><![CDATA[1666956363817]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[p_connectionCapacity_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionCategory]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeElectricID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_parentNodeHeatID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_BuildingThermalAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_primaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_ownerID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyAssetList]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_batteryAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoStart_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoEnd_h]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_nfatoLvl_kW]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_curtailer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_heatBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gasBuffer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_cookingTracker]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyLabel]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_DHWAsset]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISbuilding]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_longitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_latitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_name]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisnummer]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_openbareR]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_company_connection_id]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_gridConnectionID]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_energyProfile]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISPoint]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_woonplaats]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_huisletter]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_toevoeging]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_postcode]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_pandIdentiteit]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1676382641979</Id>
					<Name><![CDATA[pop_GIS_Buildings]]></Name>
					<X>297</X><Y>382</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<PresentationId>1676382645155</PresentationId>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[GIS_Building]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[GIS_Building]]></ClassName>
							<ItemName><![CDATA[1676382560900]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[gisRegion]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_longitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_latitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_status]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_useType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_buildingType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_buildingYear]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_surfaceArea]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_floors]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_id]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISRegion_coords]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_buildingAdress]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_buildingName]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_detailedCompany]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
				<EmbeddedObject>
					<Id>1676382641980</Id>
					<Name><![CDATA[pop_GIS_Area]]></Name>
					<X>297</X><Y>402</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[GIS_Area]]></ClassName>
					</ActiveObjectClass>
					<GenericParameterSubstitute>
						<GenericParameterSubstituteReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[GIS_Area]]></ClassName>
							<ItemName><![CDATA[1667726338855]]></ItemName>
						</GenericParameterSubstituteReference>
					</GenericParameterSubstitute>
					<Parameters>
						<Parameter>
							<Name><![CDATA[gisRegion]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_longitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_latitude]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_AreaType]]></Name>
						</Parameter>
						<Parameter>
							<Name><![CDATA[p_GISRegionAreacoords]]></Name>
						</Parameter>
					</Parameters>
					<ReplicationFlag>true</ReplicationFlag>
					<Replication Class="CodeValue">
						<Code><![CDATA[100]]></Code>
					</Replication>
					<CollectionType>ARRAY_LIST_BASED</CollectionType>
					<InEnvironment>true</InEnvironment>	
					<InitialLocationType>AT_ANIMATION_POSITION</InitialLocationType>
					<XCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</XCode>
					<YCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</YCode>
					<ZCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ZCode>
					<ColumnCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</ColumnCode>
					<RowCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</RowCode>
					<LatitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LatitudeCode>
					<LongitudeCode Class="CodeValue">
						<Code><![CDATA[0]]></Code>
					</LongitudeCode>
					<LocationNameCode Class="CodeValue">
						<Code><![CDATA[""]]></Code>
					</LocationNameCode>
					<InitializationType>EMPTY</InitializationType>
					<InitializationDatabaseTableQuery>
						<TableReference>
						</TableReference>
					</InitializationDatabaseTableQuery>
					<InitializationDatabaseType>ONE_AGENT_PER_DATABASE_RECORD</InitializationDatabaseType>
					<QuantityColumn>
					</QuantityColumn>
				</EmbeddedObject>
			</EmbeddedObjects>

			<Presentation>
				<Level>
					<Id>1658477103139</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Rectangle>
					<Id>1665052211228</Id>
					<Name><![CDATA[rectangle]]></Name>
					<X>-700</X><Y>0</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Lock>true</Lock>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>3</LineWidth>
					<LineColor>-16744448</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>540</Width>
					<Height>340</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1659709739366</Id>
					<Name><![CDATA[text]]></Name>
					<X>-681</X><Y>55</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Tijdreeksdata:]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>14</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1659709765242</Id>
					<Name><![CDATA[text1]]></Name>
					<X>-441</X><Y>59</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Parameters:]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>14</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Rectangle>
					<Id>1665052264314</Id>
					<Name><![CDATA[rectangle1]]></Name>
					<X>-880</X><Y>480</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>3</LineWidth>
					<LineColor>-3308225</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>720</Width>
					<Height>660</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1665052603927</Id>
					<Name><![CDATA[rectangle2]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-700</X><Y>0</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16744448</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>359</Width>
					<Height>39</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1665052191319</Id>
					<Name><![CDATA[text3]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-665</X><Y>7</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16744448</Color>
					<Text><![CDATA[Parameters and generic profiles/data]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>18</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Rectangle>
					<Id>1665052678662</Id>
					<Name><![CDATA[rectangle3]]></Name>
					<X>-880</X><Y>480</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-3308225</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>149</Width>
					<Height>40</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1665052678664</Id>
					<Name><![CDATA[text5]]></Name>
					<X>-845</X><Y>487</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-3308225</Color>
					<Text><![CDATA[Output
]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>18</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1668602188368</Id>
					<Name><![CDATA[text4]]></Name>
					<X>80</X><Y>40</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Neighborhood gridconnections]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1668602188372</Id>
					<Name><![CDATA[line2]]></Name>
					<X>60</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>190</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1668602207232</Id>
					<Name><![CDATA[text6]]></Name>
					<X>340</X><Y>40</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Infra & assets]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1668602207235</Id>
					<Name><![CDATA[line3]]></Name>
					<X>280</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>180</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1668602284894</Id>
					<Name><![CDATA[line4]]></Name>
					<X>60</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>190</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1668602284900</Id>
					<Name><![CDATA[text7]]></Name>
					<X>130</X><Y>260</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Actors]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1668602384222</Id>
					<Name><![CDATA[line5]]></Name>
					<X>60</X><Y>510</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>190</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1668602384225</Id>
					<Name><![CDATA[text8]]></Name>
					<X>150</X><Y>490</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Other populations]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Line>
					<Id>1668602513058</Id>
					<Name><![CDATA[line6]]></Name>
					<X>1104</X><Y>64</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>460</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1668602513060</Id>
					<Name><![CDATA[text9]]></Name>
					<X>1344</X><Y>44</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Variables]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1671703651139</Id>
					<Name><![CDATA[line7]]></Name>
					<X>777</X><Y>242</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>190</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1671703651141</Id>
					<Name><![CDATA[text10]]></Name>
					<X>867</X><Y>222</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Forecasts]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<EmbeddedObjectPresentation>
					<Id>1676382645155</Id>
					<Name><![CDATA[pop_GIS_Buildings_presentation]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<DrawingMode>AGENT_CURRENT_POSITION</DrawingMode>
					<ScaleType>AUTOMATICALLY_CALCULATED</ScaleType>
					<GISScaleForRealEmbeddedObjectPresentationSize>1000</GISScaleForRealEmbeddedObjectPresentationSize>
					<GISScaleForFixedEmbeddedObjectPresentationSize>1000000000</GISScaleForFixedEmbeddedObjectPresentationSize>
					<Latitude>0.0</Latitude>
					<Longitude>0.0</Longitude>
				</EmbeddedObjectPresentation>
				<Line>
					<Id>1690205003572</Id>
					<Name><![CDATA[line8]]></Name>
					<X>557</X><Y>62</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>430</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1690205003577</Id>
					<Name><![CDATA[text11]]></Name>
					<X>767</X><Y>42</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Simulation engine]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Line>
					<Id>1693309354364</Id>
					<Name><![CDATA[line9]]></Name>
					<X>281</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>180</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1693309354506</Id>
					<Name><![CDATA[text13]]></Name>
					<X>307</X><Y>322</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[UI & Visualisation agents]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1696838439192</Id>
					<Name><![CDATA[text31]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1740</X><Y>1100</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Energy costs]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>18</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1696865756414</Id>
					<Name><![CDATA[text56]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1740</X><Y>2440</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Costs and totals]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>18</Size>
						<Style>1</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Control Type="Button">
				 	<EmbeddedIcon>false</EmbeddedIcon>				
					<Id>1697557019965</Id>
					<Name><![CDATA[rapidSimButton]]></Name>
					<X>787</X><Y>162</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<BasicProperties Width="100" Height="30">
                        <EmbeddedIcon>false</EmbeddedIcon>	
						<TextColor/>
						<Enabled>true</Enabled>
						<ActionCode><![CDATA[f_runRapidSimulation();]]></ActionCode>
					</BasicProperties>
					<ExtendedProperties>
						<Font Name="Dialog" Size="11" Style="0"/>
						<LabelText><![CDATA[Run Rapid Simulation]]></LabelText>
					</ExtendedProperties>
				</Control>
			</Presentation>

				</Level>
				<Level>
					<Id>1699290897134</Id>
					<Name><![CDATA[level1]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>
			<Areas>
				<Area>
					<Id>1696520909213</Id>
					<Name><![CDATA[va_main]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Title><![CDATA[]]></Title>
					<Width>1920</Width>
					<Height>980</Height>
				</Area>
			</Areas>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658477288308</Id>
			<Name><![CDATA[GridNode]]></Name>
			<Import><![CDATA[import com.fasterxml.jackson.databind.JsonNode;]]></Import>
			<StartupCode><![CDATA[/*
if (p_energyType.equals(OL_EnergyCarrierType.HEAT)) {
	double capacityHeat_kW = 1000;
	double lossFactor_WpK = 100;
	double InitialStateOfCharge_degC = 60;
	double heatCapacity_JpK = 1e7;
	double soilTemperature_degC = main.p_undergroundTemperature_degC;
	p_transportBuffer = new J_EAStorageHeat(null, capacityHeat_kW, lossFactor_WpK, energyModel.p_timeStep_h, InitialStateOfCharge_degC, 10, 90, heatCapacity_JpK);
	p_transportBuffer.updateAmbientTemperature(soilTemperature_degC);
}*/]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658477288306</Id>
				<Name><![CDATA[1658477288306]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658563200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658477288304</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658477288307</CurrentLevel>
			<ConnectionsId>1658477288303</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1658497430333</Id>
					<Name><![CDATA[v_currentLoadElectricity_kW]]></Name>
					<X>50</X><Y>430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1658497443523</Id>
					<Name><![CDATA[v_currentPowerLost_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1260</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660122738711</Id>
					<Name><![CDATA[v_currentLoadMethane_kW]]></Name>
					<X>50</X><Y>450</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660122738713</Id>
					<Name><![CDATA[v_currentLoadHeat_kW]]></Name>
					<X>50</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660122738715</Id>
					<Name><![CDATA[v_currentLoadHydrogen_kW]]></Name>
					<X>50</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693601</Id>
					<Name><![CDATA[v_electricityDrawn_kWh]]></Name>
					<X>640</X><Y>500</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693603</Id>
					<Name><![CDATA[v_methaneDrawn_kWh]]></Name>
					<X>640</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693605</Id>
					<Name><![CDATA[v_heatDrawn_kWh]]></Name>
					<X>640</X><Y>560</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693607</Id>
					<Name><![CDATA[v_hydrogenDrawn_kWh]]></Name>
					<X>640</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693609</Id>
					<Name><![CDATA[v_electricityDelivered_kWh]]></Name>
					<X>820</X><Y>499</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693611</Id>
					<Name><![CDATA[v_methaneDelivered_kWh]]></Name>
					<X>820</X><Y>519</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693613</Id>
					<Name><![CDATA[v_heatDelivered_kWh]]></Name>
					<X>820</X><Y>559</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660216693615</Id>
					<Name><![CDATA[v_hydrogenDelivered_kWh]]></Name>
					<X>820</X><Y>539</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665061187538</Id>
					<Name><![CDATA[v_congested]]></Name>
					<X>50</X><Y>610</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666594510176</Id>
					<Name><![CDATA[v_congestionMode]]></Name>
					<X>50</X><Y>630</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[String]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA["No congestion atm"]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666878219776</Id>
					<Name><![CDATA[v_peakLoadAbsoluteElectricity_kW]]></Name>
					<Description><![CDATA[Houdt de piekbelasting in kW over de modelrun bij (absolute waarde) voor kostenberekeningen netverzwaringen (totale gebiedskosten). Geupdate in f_calculateEnergyBalance.

@author: Jorrit
@since: 27-10-2022]]></Description>
					<X>400</X><Y>500</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666878695816</Id>
					<Name><![CDATA[v_loadFactor_fr]]></Name>
					<Description><![CDATA[In electrical engineering the load factor is defined as the average load divided by the peak load in a specified time period.[1] It is a measure of the utilization rate, or efficiency.
geupdate vanuit

@author: Jorrit
@since: 27-10-2022]]></Description>
					<X>400</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666878761221</Id>
					<Name><![CDATA[v_averageAbsoluteLoadElectricity_kW]]></Name>
					<Description><![CDATA[Average load over model runtime in kW.

@author: Jorrit
@since: 27-10-2022]]></Description>
					<X>400</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667553127377</Id>
					<Name><![CDATA[v_timeOfPeakPosLoadFiltered_h]]></Name>
					<X>400</X><Y>560</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668600984923</Id>
					<Name><![CDATA[v_currentLoadElectricityLowPassed_kW]]></Name>
					<X>50</X><Y>541</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[10]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668603168061</Id>
					<Name><![CDATA[v_lowPassFactor_fr]]></Name>
					<X>50</X><Y>521</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[min(1, 0.8*1.2 * energyModel.p_timeStep_h) //0.2 ]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1670404847922</Id>
					<Name><![CDATA[v_peakLoadFilteredElectricity_kW]]></Name>
					<Description><![CDATA[Houdt de piekbelasting in kW over de modelrun bij (absolute waarde) voor kostenberekeningen netverzwaringen (totale gebiedskosten). Geupdate in f_calculateEnergyBalance.

@author: Jorrit
@since: 27-10-2022]]></Description>
					<X>400</X><Y>660</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1670405904360</Id>
					<Name><![CDATA[v_timeOfPeakLoadFiltered_h]]></Name>
					<X>400</X><Y>680</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1672304003577</Id>
					<Name><![CDATA[v_peakPosLoadElectricity_kW]]></Name>
					<Description><![CDATA[Houdt de piekbelasting in kW over de modelrun bij (absolute waarde) voor kostenberekeningen netverzwaringen (totale gebiedskosten). Geupdate in f_calculateEnergyBalance.

@author: Jorrit
@since: 27-10-2022]]></Description>
					<X>400</X><Y>600</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1672304030993</Id>
					<Name><![CDATA[v_peakNegLoadElectricity_kW]]></Name>
					<Description><![CDATA[Houdt de piekbelasting in kW over de modelrun bij (absolute waarde) voor kostenberekeningen netverzwaringen (totale gebiedskosten). Geupdate in f_calculateEnergyBalance.

@author: Jorrit
@since: 27-10-2022]]></Description>
					<X>400</X><Y>620</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1672304151508</Id>
					<Name><![CDATA[v_timeOfPeakNegLoadFiltered_h]]></Name>
					<X>400</X><Y>580</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1675683578599</Id>
					<Name><![CDATA[v_currentCongestionPrice_eurpkWh]]></Name>
					<X>50</X><Y>650</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1688375257135</Id>
					<Name><![CDATA[v_electricLoadRatioExclBattery]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>830</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1689233711411</Id>
					<Name><![CDATA[v_filteredLoadCongestionPricing_kW]]></Name>
					<X>50</X><Y>690</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1689234315318</Id>
					<Name><![CDATA[v_lowPassFactorCongestionPricing_fr]]></Name>
					<X>50</X><Y>670</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[min(1, 0.5 * energyModel.p_timeStep_h) // smaller value results in more filtering]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696857656646</Id>
					<Name><![CDATA[v_totalTimeOverloaded_h]]></Name>
					<X>400</X><Y>700</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701945941397</Id>
					<Name><![CDATA[v_totalExcessExport_kWh]]></Name>
					<X>400</X><Y>730</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701945961810</Id>
					<Name><![CDATA[v_totalExcessImport_kWh]]></Name>
					<X>400</X><Y>750</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1658477613290</Id>
					<Name><![CDATA[p_gridNodeID]]></Name>
					<X>50</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658477613288</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658480610309</Id>
					<Name><![CDATA[p_parentNodeID]]></Name>
					<X>50</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658480610307</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658492575878</Id>
					<Name><![CDATA[p_nodeType]]></Name>
					<X>50</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridNodeType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658492575876</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658492864101</Id>
					<Name><![CDATA[p_energyType]]></Name>
					<X>50</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_EnergyCarrierType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658492864099</Id>
							<Label><![CDATA[p_energyType]]></Label>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658493496878</Id>
					<Name><![CDATA[p_capacity_kW]]></Name>
					<X>50</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1658493496876</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660635056957</Id>
					<Name><![CDATA[p_transportBuffer]]></Name>
					<X>50</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EAStorageHeat]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1660635056955</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1664465663237</Id>
					<Name><![CDATA[p_ownerGridOperator]]></Name>
					<X>50</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[GridOperator]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1664465663235</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1664466130593</Id>
					<Name><![CDATA[p_gridNodeOwnerID]]></Name>
					<X>50</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1664466130591</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1676386542136</Id>
					<Name><![CDATA[p_energyAssetList]]></Name>
					<X>50</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[com.fasterxml.jackson.databind.node.ArrayNode]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1676386542134</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1683816606479</Id>
					<Name><![CDATA[b_transportBufferValid]]></Name>
					<X>50</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1683816606477</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1698752314374</Id>
					<Name><![CDATA[p_longitude]]></Name>
					<X>50</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1698752314372</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1698752314385</Id>
					<Name><![CDATA[p_latitude]]></Name>
					<X>50</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1698752314383</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1658751320739</Id>
					<Name><![CDATA[c_electricityFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1100</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1660122738701</Id>
					<Name><![CDATA[c_heatFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1100</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1660122738703</Id>
					<Name><![CDATA[c_methaneFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1100</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1660122738705</Id>
					<Name><![CDATA[c_hydrogenFlows]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1100</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[Double]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960213</Id>
					<Name><![CDATA[c_connectedEnergyAssets]]></Name>
					<X>290</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EA]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960219</Id>
					<Name><![CDATA[c_connectedStorageAssets]]></Name>
					<X>300</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EAStorage]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960221</Id>
					<Name><![CDATA[c_connectedConsumptionAssets]]></Name>
					<X>300</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EAConsumption]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960223</Id>
					<Name><![CDATA[c_connectedProductionAssets]]></Name>
					<X>300</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EAProduction]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1664536960226</Id>
					<Name><![CDATA[c_connectedConversionAssets]]></Name>
					<X>300</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EAConversion]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666560357503</Id>
					<Name><![CDATA[c_electricityGridConnections]]></Name>
					<X>290</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridConnection]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1676567375230</Id>
					<Name><![CDATA[c_energyCoops]]></Name>
					<X>290</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[EnergyCoop]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658495336616</Id>
					<Name><![CDATA[f_connectToParentNode]]></Name>
					<X>780</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[GridNode myParentNode = findFirst(energyModel.pop_gridNodes, p->p.p_gridNodeID.equals(p_parentNodeID));
if( myParentNode instanceof GridNode ) {
	superConnection.connectTo(myParentNode);
	myParentNode.f_connectToChild(this);
}

GridOperator myParentGridOperator = findFirst(energyModel.pop_gridOperators, p->p.p_actorID.equals(p_gridNodeOwnerID)) ;
if( myParentGridOperator instanceof GridOperator) {
	p_ownerGridOperator = myParentGridOperator;
//superConnection.connectTo(myParentGridOperator);
	myParentGridOperator.f_connectToChild(this, p_energyType);
}
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658495630251</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>780</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingChildNode);

if ( ConnectingChildNode instanceof GridConnection) {
	 c_electricityGridConnections.add( (GridConnection)ConnectingChildNode );
}

if ( ConnectingChildNode instanceof EnergyCoop) {
	 c_energyCoops.add( (EnergyCoop)ConnectingChildNode );
}

/*if( ConnectingChildNode instanceof EnergyAsset ) {
	J_EA j_ea = (J_EA) ConnectingChildNode;
	c_connectedEnergyAssets.add(j_ea);
	if (j_ea instanceof J_EAConsumption) {
		c_connectedConsumptionAssets.add((J_EAConsumption)j_ea);
	} else if (j_ea instanceof J_EAProduction ) {
		c_connectedProductionAssets.add((J_EAProduction)j_ea);
	} else if (j_ea instanceof J_EAStorage ) {
		c_connectedStorageAssets.add((J_EAStorage)j_ea);
		if (j_ea instanceof J_EAStorageHeat) {
			p_transportBuffer = (J_EAStorageHeat)j_ea;
		}
	} else if (j_ea instanceof J_EAConversion) {
		c_connectedConversionAssets.add((J_EAConversion)j_ea);
//	if (EA.j_ea instanceof J_EAConversionGasBurner || EA.j_ea instanceof J_EAConversionHeatPump || EA.j_ea instanceof J_EAConversionHeatDeliverySet ) {
	//	p_HeatingAsset = EA;
//		//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
//	}
	} else {
		traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingChildNode.getId() + " is of unknown type or null! ");
	}
}*/
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658751236578</Id>
					<Name><![CDATA[f_calculateEnergyBalance]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1260</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// clear energy-balance for the next timestep
c_electricityFlows.clear();
v_currentLoadElectricity_kW = 0;

// determine the net electricity flow from all subconnections
for( Agent a : subConnections.getConnections() )
{
	if( a instanceof NetConnection )
	{
		//traceln("NetConnection!");
		a = (NetConnection)a;
		c_electricityFlows.put(a, ((NetConnection) a).v_currentPowerElectricity_kW);
		v_currentLoadElectricity_kW += ((NetConnection) a).v_currentPowerElectricity_kW;
	}
	else if( a instanceof EnergyAsset )
	{
		//traceln("EnergyAsset!");
		a = (EnergyAsset)a;
		c_electricityFlows.put(a, ((EnergyAsset) a).v_currentProductionElectricity_kW);
		v_currentLoadElectricity_kW += ((EnergyAsset) a).v_currentProductionElectricity_kW;
	}
	else if( a instanceof NetNode )
	{
		//traceln("NetNode!");
		a = (NetNode)a;
		c_electricityFlows.put(a,((NetNode) a).v_currentLoadElectricity_kW);
		v_currentLoadElectricity_kW += ((NetNode) a).v_currentLoadElectricity_kW;
	}
}

//traceln( "total load: "+v_currentPower_kW );]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660122738707</Id>
					<Name><![CDATA[f_sumLoads]]></Name>
					<X>780</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_currentLoadElectricity_kW = 0;
v_currentLoadMethane_kW = 0;
v_currentLoadHydrogen_kW = 0;
v_currentLoadHeat_kW = 0;

// determine the net energy flows from all subconnections by nodetype

for( Agent a : subConnections.getConnections() )
{
	if( a instanceof GridNode ) {
		switch(p_energyType) {
			case ELECTRICITY:
				v_currentLoadElectricity_kW += ((GridNode) a).v_currentLoadElectricity_kW;
			break;
			case METHANE:
				v_currentLoadMethane_kW += ((GridNode) a).v_currentLoadMethane_kW;
			break;
			case HYDROGEN:
				v_currentLoadHydrogen_kW += ((GridNode) a).v_currentLoadHydrogen_kW;
			break;
			case HEAT:
				v_currentLoadHeat_kW += ((GridNode) a).v_currentLoadHeat_kW;
			break;
			default:
				//
			break;
		}
	}

	if( a instanceof GridConnection ) {
		switch(p_energyType) {
			case ELECTRICITY:
				//if (((GridConnection) a).p_gridConnectionCategory != OL_GridConnectionCategory.GRIDBATTERY){
					v_currentLoadElectricity_kW += ((GridConnection) a).v_currentPowerElectricity_kW;
				//}
			break;
			case METHANE:
				v_currentLoadMethane_kW += ((GridConnection) a).v_currentPowerMethane_kW;
			break;
			case HYDROGEN:
				v_currentLoadHydrogen_kW += ((GridConnection) a).v_currentPowerHydrogen_kW;
			break;
			case HEAT:
				v_currentLoadHeat_kW += ((GridConnection) a).v_currentPowerHeat_kW;
			break;
			default:
			break;
		}
	}
}

/*if( p_energyType == OL_EnergyCarrierType.ELECTRICITY ){
	v_electricLoadRatioExclBattery = v_currentLoadElectricity_kW / p_capacity_kW;
}*/]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660216693598</Id>
					<Name><![CDATA[f_nodeMetering]]></Name>
					<X>780</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_electricityDrawn_kWh += max(v_currentLoadElectricity_kW, 0)*energyModel.p_timeStep_h;
v_electricityDelivered_kWh += max(-v_currentLoadElectricity_kW, 0)*energyModel.p_timeStep_h;

v_methaneDrawn_kWh += max(v_currentLoadMethane_kW, 0)*energyModel.p_timeStep_h;
v_methaneDelivered_kWh += max(-v_currentLoadMethane_kW, 0)*energyModel.p_timeStep_h;

v_hydrogenDrawn_kWh += max(v_currentLoadHydrogen_kW, 0)*energyModel.p_timeStep_h;
v_hydrogenDelivered_kWh += max(-v_currentLoadHydrogen_kW, 0)*energyModel.p_timeStep_h;

v_heatDrawn_kWh += max(v_currentLoadHeat_kW, 0)*energyModel.p_timeStep_h;
v_heatDelivered_kWh += max(-v_currentLoadHeat_kW, 0)*energyModel.p_timeStep_h;

v_averageAbsoluteLoadElectricity_kW = ( v_electricityDrawn_kWh + v_electricityDelivered_kWh ) / energyModel.t_h;
v_loadFactor_fr = v_averageAbsoluteLoadElectricity_kW / abs(v_peakLoadAbsoluteElectricity_kW);]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666556555538</Id>
					<Name><![CDATA[f_setCongestionTariff]]></Name>
					<X>780</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[price_eurpkWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[for (GridConnection gc: c_electricityGridConnections){
	//traceln("Gc "+ gc.toString() + ", price "+ price_eurpkWh + ", allowance "+ allowance_kW +".");
	ConnectionOwner owner = ((ConnectionOwner)gc.l_ownerActor.getConnectedAgent());
	owner.v_currentNodalPrice_eurpkWh = price_eurpkWh;
}
for (EnergyCoop e: c_energyCoops){
	e.v_currentNodalPrice_eurpkWh = price_eurpkWh;
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666556578433</Id>
					<Name><![CDATA[f_setProductionCongestionTariff]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1100</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[price_eurpkWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[allowance_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[for (GridConnection gc: c_electricityGridConnections){
	// we gaan nu nog even uit van vaste congestietarieven en limiten
	ConnectionOwner owner = ((ConnectionOwner)gc.l_ownerActor.getConnectedAgent());
	//if( !owner.v_congestionTariff_b ) {
		owner.v_currentCongestionTariffWhenSelling_eurpkWh = price_eurpkWh;
		owner.v_congestionTariffAllowance_kW = -allowance_kW;
		//owner.v_congestionTariff_b = true; // This is controlled by the contract between connectionOwner and GridOperator! Do not overwrite from here!
		//owner.v_updatePriceBands_b = true;
		owner.v_currentCongestionType = v_congestionMode;
	//}
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666560316436</Id>
					<Name><![CDATA[f_resetCongestionTariffs]]></Name>
					<Description><![CDATA[Gridoperator roept deze functie alleen aan als deze node vorige tijdstap congested was maar nu niet meer.]]></Description>
					<X>780</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for (GridConnection gc: c_electricityGridConnections){
	ConnectionOwner owner = ((ConnectionOwner)gc.l_ownerActor.getConnectedAgent());
	owner.v_currentNodalPrice_eurpkWh = 0;
}
for (EnergyCoop e: c_energyCoops){
	e.v_currentNodalPrice_eurpkWh = 0;
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1676387466304</Id>
					<Name><![CDATA[f_instantiateEnergyAssets]]></Name>
					<X>780</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//traceln("asset " + p_energyAssetList);

if( p_energyAssetList != null) {
	for( JsonNode l : p_energyAssetList ) {
		OL_EACategories assetCategory = OL_EACategories.valueOf(l.required( "category" ).textValue());
		switch( assetCategory )  {		
			case STORAGE:
				//EnergyAsset storageAsset = main.add_pop_energyAssets();
				//storageAsset.set_p_parentAgentID( this.p_gridNodeID );
				OL_EnergyAssetType assetType = ( OL_EnergyAssetType.valueOf(l.required( "type" ).textValue()));
				//storageAsset.set_p_defaultEnergyAssetPresetName(l.required( "name" ).textValue());
				if( assetType == OL_EnergyAssetType.STORAGE_HEAT){
				    double capacityHeat_kW = l.path( "capacityHeat_kW").doubleValue();
					double lossFactor_WpK = l.path( "lossFactor_WpK" ).doubleValue();
					double heatCapacity_JpK = l.path( "heatCapacity_JpK" ).doubleValue();
					double minTemperature_degC = l.path( "minTemp_degC" ).asDouble(40.0); // provide default values
					double maxTemperature_degC = l.path( "maxTemp_degC" ).asDouble(90.0);
					double setTemperature_degC = l.path( "setTemp_degC" ).asDouble(60.0);
					double initialTemperature_degC = l.path( "initialTemperature_degC" ).doubleValue();
					String ambientTempType2 = l.path( "ambientTempType" ).textValue();
					
					// minTemperature_degC = 35; // TO DELETE TEMP FIX
					// setTemperature_degC = uniform_discr(38, 45); // TO DELETE TEMP FIX
					// initialTemperature_degC = uniform_discr(70,80) * 1.0; // TO DELETE TEMP FIX
					// heatCapacity_JpK = heatCapacity_JpK * uniform(0.7, 1.3); // TO DELETE TEMP FIX
					traceln("heatstorage asset initialisation check! minTemp = "+minTemperature_degC+", maxTemperature_degC = "+maxTemperature_degC+", setTemp_degC = "+ setTemperature_degC+", initialTemperature_degC = "+initialTemperature_degC);
					
					//traceln("Heat Storage init: minTemperature = "+minTemperature_degC+", maxTemperature_degC = "+maxTemperature_degC+", setTemperature_degC = "+setTemperature_degC+", initialTemperature_degC = "+initialTemperature_degC);
					
					
					p_transportBuffer = new J_EAStorageHeat((Agent)this, OL_EAStorageTypes.HEATBUFFER, capacityHeat_kW, lossFactor_WpK, energyModel.p_timeStep_h, initialTemperature_degC, minTemperature_degC, maxTemperature_degC, setTemperature_degC, heatCapacity_JpK, ambientTempType2);	
					//J_EAStorageHeat(Agent parentAgent, OL_EAStorageTypes heatStorageType, double capacityHeat_kW, double lossFactor_WpK, double timestep_h, double initialTemperature_degC, double minTemperature_degC, double maxTemperature_degC, double setTemperature_degC, double heatCapacity_JpK, String ambientTempType ) {
					//p_transportBuffer = storageAsset.j_ea;
					p_transportBuffer.updateAmbientTemperature( energyModel.p_undergroundTemperature_degC );
					if(heatCapacity_JpK > 0 & capacityHeat_kW > 0) {
						b_transportBufferValid = true;
					}
				}
				else{
					traceln("F_instantiateEnergyAssets: ERROR, storage asset type not available");
				}
				//storageAsset.f_connectToParentNode( this );
				//main.c_storageAssets.add(storageAsset);

			break;
			default:
				traceln("not a valid energy asset category." + assetCategory);
			break;
		}
	}
//traceln("GridConnection "+this.p_gridNodeID+" has finished initializing its energyAssets!");
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1688370981599</Id>
					<Name><![CDATA[f_calculateEnergyBalance]]></Name>
					<X>780</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[f_sumLoads();
// Low-pass filtered grid load
//double lowPassFraction = min(1,1*1.2*energyModel.p_timeStep_h); // smaller value results in more filtering
v_currentLoadElectricityLowPassed_kW += v_lowPassFactor_fr * ( v_currentLoadElectricity_kW - v_currentLoadElectricityLowPassed_kW );

if (energyModel.v_isRapidRun) {
	if (abs(v_currentLoadElectricityLowPassed_kW) > p_capacity_kW) {
		//traceln("Overloaded gridNode %s! %s kW", p_gridNodeID, abs(v_currentLoadElectricityLowPassed_kW));
		v_totalTimeOverloaded_h	+= energyModel.p_timeStep_h;
		v_totalExcessExport_kWh += max(0,-v_currentLoadElectricityLowPassed_kW-p_capacity_kW);
		v_totalExcessImport_kWh += max(0,v_currentLoadElectricityLowPassed_kW-p_capacity_kW);
	}
	
	v_filteredLoadCongestionPricing_kW += v_lowPassFactorCongestionPricing_fr * ( v_currentLoadElectricity_kW - v_filteredLoadCongestionPricing_kW);
	
	if( abs( v_currentLoadElectricity_kW ) > abs(v_peakLoadAbsoluteElectricity_kW) ) { // store maximum absolute load, but retain sign!
		v_peakLoadAbsoluteElectricity_kW = ( v_currentLoadElectricity_kW );
		//v_timeOfPeakLoad_h = time(HOUR);
	}
	
	if( abs( v_currentLoadElectricityLowPassed_kW ) > abs(v_peakLoadFilteredElectricity_kW) ) { // store maximum absolute load, but retain sign!
		v_peakLoadFilteredElectricity_kW = ( v_currentLoadElectricityLowPassed_kW );
		v_timeOfPeakLoadFiltered_h = time(HOUR);
	}
	
	if( v_currentLoadElectricityLowPassed_kW < v_peakNegLoadElectricity_kW ) { // store peak negative load and time
		v_peakNegLoadElectricity_kW = v_currentLoadElectricityLowPassed_kW ;
		v_timeOfPeakNegLoadFiltered_h = time(HOUR);
	}
	
	if( v_currentLoadElectricityLowPassed_kW > v_peakPosLoadElectricity_kW ) { // store peak negative load and time
		v_peakPosLoadElectricity_kW = v_currentLoadElectricityLowPassed_kW ;
		v_timeOfPeakPosLoadFiltered_h = time(HOUR);
	}
}	
if (p_energyType.equals(OL_EnergyCarrierType.HEAT) & b_transportBufferValid ) { // Thermal load unbalance goes into transportBuffer
//	double v_powerFraction_fr = Double.isNaN( -v_currentLoadHeat_kW / p_transportBuffer.getHeatCapacity_kW() )? 0 : -v_currentLoadHeat_kW / p_transportBuffer.getHeatCapacity_kW();
	double v_powerFraction_fr = -v_currentLoadHeat_kW / p_transportBuffer.getHeatCapacity_kW();
	//p_transportBuffer.operate(v_powerFraction_fr);
	//traceln("DistrictHeating network heatcapacity = "+ p_transportBuffer.getHeatCapacity_kW()+" kW, water temperature " + p_transportBuffer.getCurrentTemperature() + " deg C, buffer power fraction " + v_powerFraction_fr * 100 + " %, transportbuffer HeatCapacity_kW " + p_transportBuffer.getHeatCapacity_kW());
	p_transportBuffer.f_updateAllFlows(v_powerFraction_fr);
	//traceln("DistrictHeating network water temperature " + p_transportBuffer.getCurrentTemperature() + " deg C, buffer power fraction " + v_powerFraction_fr * 100 + " %, transportbuffer HeatCapacity_kW " + p_transportBuffer.getHeatCapacity_kW());
} else if(abs(v_currentLoadHeat_kW)>0.001) {
	traceln("Non-zero heat-load on district heating network without valid transport buffer!");
}

//traceln("GridNode " + p_gridNodeID + " update at time " + time(HOUR));
f_nodeMetering();]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1688372319365</Id>
					<Name><![CDATA[f_addGridBatteryLoad]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>780</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[
for( Agent a : subConnections.getConnections() ) {
	if ( a instanceof GCGridBattery){
		v_currentLoadElectricity_kW += ((GCGridBattery)a).v_currentPowerElectricity_kW;
	}	
}
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1698919552330</Id>
					<Name><![CDATA[f_resetStates]]></Name>
					<X>780</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Current status
v_currentLoadElectricityLowPassed_kW = 0;
v_congested = false;
v_currentCongestionPrice_eurpkWh = 0;
v_filteredLoadCongestionPricing_kW = 0;

// Performance variables
v_peakLoadAbsoluteElectricity_kW = 0;
v_averageAbsoluteLoadElectricity_kW = 0;
v_loadFactor_fr = 0;
v_timeOfPeakLoadFiltered_h = 0;
v_timeOfPeakNegLoadFiltered_h = 0;
v_timeOfPeakPosLoadFiltered_h = 0;
v_peakPosLoadElectricity_kW = 0;
v_peakNegLoadElectricity_kW = 0;
v_peakLoadFilteredElectricity_kW = 0;
v_timeOfPeakLoadFiltered_h = 0;
v_totalTimeOverloaded_h = 0;
v_totalExcessExport_kWh = 0;
v_totalExcessImport_kWh = 0;

// Energy flows
v_electricityDrawn_kWh = 0;
v_electricityDelivered_kWh = 0;
v_methaneDrawn_kWh = 0;
v_methaneDelivered_kWh = 0;
v_hydrogenDrawn_kWh = 0;
v_hydrogenDelivered_kWh = 0;
v_heatDrawn_kWh = 0;
v_heatDelivered_kWh = 0;

]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658477288303</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<OnReceive><![CDATA[//v_gridNodePriceBands = msg;
subConnections.sendToAllConnected(msg);]]></OnReceive>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[TreeMap<Double, Double>]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658495297995</Id>
					<Name><![CDATA[superConnection]]></Name>
					<X>200</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>SINGLE_LINK</AgentLinkType>
					<AgentReferenceId>1658477288308</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658495597148</Id>
					<Name><![CDATA[subConnections]]></Name>
					<X>200</X><Y>-20</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658477403925</Id>
					<Name><![CDATA[energyModel]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1658477288307</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Line>
					<Id>1670316940459</Id>
					<Name><![CDATA[line]]></Name>
					<X>10</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1670316940469</Id>
					<Name><![CDATA[text]]></Name>
					<X>40</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Parameters]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1670316967152</Id>
					<Name><![CDATA[text4]]></Name>
					<X>820</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Functions]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1670316967156</Id>
					<Name><![CDATA[line4]]></Name>
					<X>770</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1670316972887</Id>
					<Name><![CDATA[text5]]></Name>
					<X>840</X><Y>450</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Cumulative delivery]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1670316972890</Id>
					<Name><![CDATA[line5]]></Name>
					<X>820</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1670317000926</Id>
					<Name><![CDATA[text6]]></Name>
					<X>652</X><Y>450</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Cumulative consumption]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1670317000929</Id>
					<Name><![CDATA[line6]]></Name>
					<X>640</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1670317019803</Id>
					<Name><![CDATA[line7]]></Name>
					<X>400</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1670317019806</Id>
					<Name><![CDATA[text7]]></Name>
					<X>450</X><Y>450</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Performance]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1670317049666</Id>
					<Name><![CDATA[line1]]></Name>
					<X>300</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1670317049669</Id>
					<Name><![CDATA[text1]]></Name>
					<X>350</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Assets]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1670317065284</Id>
					<Name><![CDATA[line2]]></Name>
					<X>60</X><Y>390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1670317065286</Id>
					<Name><![CDATA[text2]]></Name>
					<X>90</X><Y>370</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Current status]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
    			<TimePlot>
					<Id>1670317113685</Id>
					<Name><![CDATA[plot]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>270</X><Y>180</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1670400000000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[0.25]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>470</Width>
					<Height>270</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>390</Width>
						<Height>180</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>30</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>DAY</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[- p_capacity_kW - p_capacity_kW *0.1]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[p_capacity_kW + p_capacity_kW * 0.1]]></VerScaleToExpression>
					<VerScaleType>FIXED</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[Node capacity]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-65536</Color>
					<Expression2><![CDATA[p_capacity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Current load on grid [kW]]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset2]]></Expression>
					<Color>-12004916</Color>
					<Expression2><![CDATA[v_currentLoadElectricity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset1]]></Expression>
					<Color>-65536</Color>
					<Expression2><![CDATA[- p_capacity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Filtered load on grid [kW]]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset3]]></Expression>
					<Color>-8097537</Color>
					<Expression2><![CDATA[v_currentLoadElectricityLowPassed_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>1000</SamplesToKeep>
					<TimeWindowExpression><![CDATA[3]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>HH_mm</LabelFormat>
    			</TimePlot>
				<Oval>
					<Id>1698752442733</Id>
					<Name><![CDATA[oval]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>0</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<OnClickCode><![CDATA[//va_LVStation.navigateTo();
/*


Color colorToTrafo = new Color(uniform_discr(0,100), uniform_discr(0,100), uniform_discr(0,100));

for (EA_UtilityObject x : c_connectedUtilityObjects){
	traceln(x.p_building.gisRegion.getFillColor());
	x.p_building.v_currentColor = x.p_building.gisRegion.getFillColor();
	
	x.p_building.gisRegion.setFillColor(colorToTrafo);
}
 
traceln("Trafo " + this.getIndex());

*/]]></OnClickCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>2</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<RadiusX>6</RadiusX>
					<RadiusY>40</RadiusY>
					<Rotation>0.0</Rotation>
					<FillColor>-16744448</FillColor>
					<FillMaterial>null</FillMaterial>
				</Oval>
			</Presentation>

				</Level>
			</Presentation>
			<Areas>
				<Area>
					<Id>1698759398568</Id>
					<Name><![CDATA[va_gridNode]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Title><![CDATA[]]></Title>
					<Width>1920</Width>
					<Height>980</Height>
				</Area>
			</Areas>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658499438203</Id>
			<Name><![CDATA[GridConnection]]></Name>
			<Import><![CDATA[import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.node.ObjectNode;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.node.ArrayNode;
import com.fasterxml.jackson.databind.node.TextNode;
import com.fasterxml.jackson.databind.node.NumericNode;
import com.fasterxml.jackson.core.json.JsonReadFeature;
import java.io.IOException;
import java.util.Scanner;
import java.util.*;
import java.util.stream.Collectors;
import java.io.*;]]></Import>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658499438201</Id>
				<Name><![CDATA[1658499438201]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658563200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658499438199</Id>
				<Name><![CDATA[scale]]></Name>
				<X>30</X><Y>-260</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658499438202</CurrentLevel>
			<ConnectionsId>1658499438198</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1658499590783</Id>
					<Name><![CDATA[v_currentPowerElectricity_kW]]></Name>
					<X>150</X><Y>1250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659355078476</Id>
					<Name><![CDATA[v_currentPowerMethane_kW]]></Name>
					<X>460</X><Y>1310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659355091165</Id>
					<Name><![CDATA[v_currentPowerHeat_kW]]></Name>
					<X>450</X><Y>990</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659513167233</Id>
					<Name><![CDATA[v_currentPowerHydrogen_kW]]></Name>
					<X>460</X><Y>1350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212770046</Id>
					<Name><![CDATA[v_electricityDrawnFromGrid_kWh]]></Name>
					<X>150</X><Y>1510</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212770048</Id>
					<Name><![CDATA[v_methaneDrawn_kWh]]></Name>
					<X>460</X><Y>1390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212770050</Id>
					<Name><![CDATA[v_heatDrawn_kWh]]></Name>
					<X>450</X><Y>1010</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212770052</Id>
					<Name><![CDATA[v_hydrogenDrawn_kWh]]></Name>
					<X>460</X><Y>1430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212876474</Id>
					<Name><![CDATA[v_methaneDelivered_kWh]]></Name>
					<X>460</X><Y>1480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212876476</Id>
					<Name><![CDATA[v_heatDelivered_kWh]]></Name>
					<X>450</X><Y>1030</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660212876478</Id>
					<Name><![CDATA[v_hydrogenDelivered_kWh]]></Name>
					<X>460</X><Y>1520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660561907004</Id>
					<Name><![CDATA[v_totalEnergyUsed_MWh]]></Name>
					<X>820</X><Y>1060</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660561920117</Id>
					<Name><![CDATA[v_totalEnergyProduced_MWh]]></Name>
					<X>820</X><Y>1040</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660567920170</Id>
					<Name><![CDATA[v_totalSelfConsumedEnergy_MWh]]></Name>
					<X>820</X><Y>1080</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660567920172</Id>
					<Name><![CDATA[v_totalImport_MWh]]></Name>
					<X>820</X><Y>1000</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666282164534</Id>
					<Name><![CDATA[v_previousPowerElectricity_kW]]></Name>
					<X>1120</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667746610980</Id>
					<Name><![CDATA[v_vehicleIndex]]></Name>
					<Description><![CDATA[Wordt gebruikt om voertuigen aan assets te koppelen tijden initialisatie.]]></Description>
					<X>-190</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667902447354</Id>
					<Name><![CDATA[v_evChargingPowerElectric_kW]]></Name>
					<X>150</X><Y>1090</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668359062406</Id>
					<Name><![CDATA[v_allowedCapacity_kW]]></Name>
					<X>1120</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668370002883</Id>
					<Name><![CDATA[v_additionalTimeSpreadCharging_MIN]]></Name>
					<Description><![CDATA[In the charging attitude MAX_SPREAD the vehicles can be planned to be full some time before their actual departure. ]]></Description>
					<X>250</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[30]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668610729237</Id>
					<Name><![CDATA[v_fixedConsumptionElectric_kW]]></Name>
					<X>150</X><Y>980</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668610741368</Id>
					<Name><![CDATA[v_pvProductionElectric_kW]]></Name>
					<X>150</X><Y>1160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668610757391</Id>
					<Name><![CDATA[v_batteryPowerElectric_kW]]></Name>
					<X>150</X><Y>1110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668611038479</Id>
					<Name><![CDATA[v_conversionPowerElectric_kW]]></Name>
					<X>150</X><Y>1030</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668605322171</Id>
					<Name><![CDATA[v_currentPowerDiesel_kW]]></Name>
					<X>460</X><Y>1330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668605338517</Id>
					<Name><![CDATA[v_dieselDrawn_kWh]]></Name>
					<X>460</X><Y>1410</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668605479367</Id>
					<Name><![CDATA[v_dieselDelivered_kWh]]></Name>
					<X>460</X><Y>1500</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668695288481</Id>
					<Name><![CDATA[v_electricityPriceLowPassed_eurpkWh]]></Name>
					<X>1120</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0.15]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668695288483</Id>
					<Name><![CDATA[v_lowPassFactor_fr]]></Name>
					<X>1120</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[min(1, 0.6)]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668695288485</Id>
					<Name><![CDATA[v_batterySOC_fr]]></Name>
					<X>1120</X><Y>350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0.7]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669725778092</Id>
					<Name><![CDATA[v_maxConnectionLoad_fr]]></Name>
					<X>1120</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1670254349157</Id>
					<Name><![CDATA[v_enable_nfATO_b]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1671027786040</Id>
					<Name><![CDATA[v_windProductionElectric_kW]]></Name>
					<X>150</X><Y>1180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1671028145282</Id>
					<Name><![CDATA[v_electricityProducedPV_kWh]]></Name>
					<X>150</X><Y>1330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1671028164395</Id>
					<Name><![CDATA[v_electricityProducedWind_kWh]]></Name>
					<X>150</X><Y>1350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1671028183310</Id>
					<Name><![CDATA[v_electricityConsumedFixedProfile_kWh]]></Name>
					<X>150</X><Y>1310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1671028204660</Id>
					<Name><![CDATA[v_electricityConvertedToX_kWh]]></Name>
					<X>150</X><Y>1370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1671028232758</Id>
					<Name><![CDATA[v_electricityChargedByEVs_kWh]]></Name>
					<X>150</X><Y>1410</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1671028253782</Id>
					<Name><![CDATA[v_electricityDischargedByEVs_kWh]]></Name>
					<X>150</X><Y>1430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1671028344848</Id>
					<Name><![CDATA[v_electricityDeliveredToGrid_kWh]]></Name>
					<X>150</X><Y>1530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1671028416277</Id>
					<Name><![CDATA[v_xConvertedToElectricity_kWh]]></Name>
					<Description><![CDATA[This is the amount of kWh produced. So not the amount of kWh that goes in!]]></Description>
					<X>150</X><Y>1390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1671028484635</Id>
					<Name><![CDATA[v_electricityChargedByBattery_kWh]]></Name>
					<X>150</X><Y>1450</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1671028484651</Id>
					<Name><![CDATA[v_electricityDischargedByBattery_kWh]]></Name>
					<X>150</X><Y>1470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1673870786520</Id>
					<Name><![CDATA[v_electricHobConsumption_kW]]></Name>
					<Description><![CDATA[This is part of the v_fixedConsumptionElectric_kW, thus variable only exists for additional information]]></Description>
					<X>180</X><Y>1050</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1673949346167</Id>
					<Name><![CDATA[v_hotwaterDemand_kW]]></Name>
					<X>450</X><Y>1050</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1674329641809</Id>
					<Name><![CDATA[v_currentElectricityPriceConsumption_eurpkWh]]></Name>
					<X>1120</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1674396166866</Id>
					<Name><![CDATA[v_WTPCharging_eurpkWh]]></Name>
					<X>1120</X><Y>390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676468216301</Id>
					<Name><![CDATA[v_residualHeatGasPit_kW]]></Name>
					<X>450</X><Y>1070</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1677495410857</Id>
					<Name><![CDATA[v_electricityTotalsCheck_kWh]]></Name>
					<Description><![CDATA[Should always be zero]]></Description>
					<X>150</X><Y>1570</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1677585426154</Id>
					<Name><![CDATA[v_currentAveraged7kWElectricityPrice_eurpkWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1678710234324</Id>
					<Name><![CDATA[v_lowPassFactorLoad_fr]]></Name>
					<X>1120</X><Y>430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0.1]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1678710234329</Id>
					<Name><![CDATA[v_currentLoadLowPassed_kW]]></Name>
					<X>1120</X><Y>450</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1692972667627</Id>
					<Name><![CDATA[v_hasPV]]></Name>
					<X>530</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1695824940090</Id>
					<Name><![CDATA[v_WTRV2G_eurpkWh]]></Name>
					<X>1120</X><Y>410</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696837525849</Id>
					<Name><![CDATA[v_heatPumpElectricityConsumption_kW]]></Name>
					<Description><![CDATA[This is part of the v_fixedConsumptionElectric_kW, thus variable only exists for additional information]]></Description>
					<X>180</X><Y>1070</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701182366089</Id>
					<Name><![CDATA[v_summerWeekTotalImport_MWh]]></Name>
					<X>1060</X><Y>1000</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701182366092</Id>
					<Name><![CDATA[v_summerWeekTotalExport_MWh]]></Name>
					<X>1060</X><Y>1020</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701182366094</Id>
					<Name><![CDATA[v_summerWeekEnergyUsed_MWh]]></Name>
					<X>1060</X><Y>1040</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701182366096</Id>
					<Name><![CDATA[v_summerWeekEnergyProduced_MWh]]></Name>
					<X>1060</X><Y>1060</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701182366098</Id>
					<Name><![CDATA[v_summerWeekSelfConsumedEnergy_MWh]]></Name>
					<X>1060</X><Y>1080</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701182366100</Id>
					<Name><![CDATA[v_winterWeekTotalImport_MWh]]></Name>
					<X>1350</X><Y>1000</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701182366102</Id>
					<Name><![CDATA[v_winterWeekTotalExport_MWh]]></Name>
					<X>1350</X><Y>1020</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701182366104</Id>
					<Name><![CDATA[v_winterWeekEnergyUsed_MWh]]></Name>
					<X>1350</X><Y>1040</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701182366106</Id>
					<Name><![CDATA[v_winterWeekEnergyProduced_MWh]]></Name>
					<X>1350</X><Y>1060</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701182366108</Id>
					<Name><![CDATA[v_winterWeekSelfConsumedEnergy_MWh]]></Name>
					<X>1350</X><Y>1080</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701182480106</Id>
					<Name><![CDATA[v_totalExport_MWh]]></Name>
					<X>820</X><Y>1020</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701700372068</Id>
					<Name><![CDATA[v_currentEnergyConsumption_kW]]></Name>
					<X>150</X><Y>1620</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701700372070</Id>
					<Name><![CDATA[v_currentEnergyProduction_kW]]></Name>
					<X>150</X><Y>1640</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701700372072</Id>
					<Name><![CDATA[v_currentEnergyCurtailed_kW]]></Name>
					<X>150</X><Y>1660</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701704923531</Id>
					<Name><![CDATA[v_daytimeTotalImport_MWh]]></Name>
					<X>1062</X><Y>1112</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701704923533</Id>
					<Name><![CDATA[v_daytimeTotalExport_MWh]]></Name>
					<X>1062</X><Y>1132</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701704923535</Id>
					<Name><![CDATA[v_daytimeEnergyUsed_MWh]]></Name>
					<X>1062</X><Y>1152</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701704923537</Id>
					<Name><![CDATA[v_daytimeEnergyProduced_MWh]]></Name>
					<X>1062</X><Y>1172</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701704923539</Id>
					<Name><![CDATA[v_daytimeSelfConsumedEnergy_MWh]]></Name>
					<X>1062</X><Y>1192</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705027417</Id>
					<Name><![CDATA[v_nighttimeTotalImport_MWh]]></Name>
					<X>1350</X><Y>1110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705027419</Id>
					<Name><![CDATA[v_nighttimeTotalExport_MWh]]></Name>
					<X>1350</X><Y>1130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705027421</Id>
					<Name><![CDATA[v_nighttimeEnergyUsed_MWh]]></Name>
					<X>1350</X><Y>1150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705027423</Id>
					<Name><![CDATA[v_nighttimeEnergyProduced_MWh]]></Name>
					<X>1350</X><Y>1170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705027425</Id>
					<Name><![CDATA[v_nighttimeSelfConsumedEnergy_MWh]]></Name>
					<X>1350</X><Y>1190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705149014</Id>
					<Name><![CDATA[v_weekdayTotalImport_MWh]]></Name>
					<X>1062</X><Y>1220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705149016</Id>
					<Name><![CDATA[v_weekdayTotalExport_MWh]]></Name>
					<X>1062</X><Y>1240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705149018</Id>
					<Name><![CDATA[v_weekdayEnergyUsed_MWh]]></Name>
					<X>1062</X><Y>1260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705149020</Id>
					<Name><![CDATA[v_weekdayEnergyProduced_MWh]]></Name>
					<X>1062</X><Y>1280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705149022</Id>
					<Name><![CDATA[v_weekdaySelfConsumedEnergy_MWh]]></Name>
					<X>1062</X><Y>1300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705149024</Id>
					<Name><![CDATA[v_weekendTotalImport_MWh]]></Name>
					<X>1350</X><Y>1218</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705149026</Id>
					<Name><![CDATA[v_weekendTotalExport_MWh]]></Name>
					<X>1350</X><Y>1238</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705149028</Id>
					<Name><![CDATA[v_weekendEnergyUsed_MWh]]></Name>
					<X>1350</X><Y>1258</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705149030</Id>
					<Name><![CDATA[v_weekendEnergyProduced_MWh]]></Name>
					<X>1350</X><Y>1278</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1701705149032</Id>
					<Name><![CDATA[v_weekendSelfConsumedEnergy_MWh]]></Name>
					<X>1350</X><Y>1298</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704797243486</Id>
					<Name><![CDATA[v_totalElectricityConsumed_MWh]]></Name>
					<X>150</X><Y>1693</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704797243488</Id>
					<Name><![CDATA[v_totalElectricityProduced_MWh]]></Name>
					<X>150</X><Y>1713</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704815198376</Id>
					<Name><![CDATA[v_totalElectricitySelfConsumed_MWh]]></Name>
					<X>150</X><Y>1732</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1658499438204</Id>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
					<X>250</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionCategory]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>0</Id>
							<Label><![CDATA[p_netConnectionCategory]]></Label>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658500076242</Id>
					<Name><![CDATA[p_gridConnectionType]]></Name>
					<X>250</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658500076240</Id>
							<Label><![CDATA[p_netConnectionType]]></Label>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658500122113</Id>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
					<X>250</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658500122111</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658500465208</Id>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
					<X>51</X><Y>195</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658500465206</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658752146271</Id>
					<Name><![CDATA[p_gridConnectionID]]></Name>
					<X>50</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658752146269</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660053984881</Id>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
					<X>50</X><Y>214</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660053984879</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660115328584</Id>
					<Name><![CDATA[p_BuildingThermalAsset]]></Name>
					<X>470</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EABuilding]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1660115328582</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>SEPARATOR</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660115363643</Id>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
					<X>470</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EAConversion]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1660115363641</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660229326795</Id>
					<Name><![CDATA[p_ownerID]]></Name>
					<X>51</X><Y>175</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660229326793</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1665486155689</Id>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
					<X>470</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EAConversion]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1665486155687</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1665487815862</Id>
					<Name><![CDATA[p_heatingType]]></Name>
					<X>250</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionHeatingType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1665487815860</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668180047824</Id>
					<Name><![CDATA[p_energyAssetList]]></Name>
					<X>972</X><Y>71</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[com.fasterxml.jackson.databind.node.ArrayNode]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1668180047822</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668693393498</Id>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
					<X>250</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_ChargingAttitude]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[OL_ChargingAttitude.SIMPLE]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1668693393496</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668693418082</Id>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
					<X>250</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_BatteryOperationMode]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[OL_BatteryOperationMode.BALANCE]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1668693418080</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668695364192</Id>
					<Name><![CDATA[p_batteryAsset]]></Name>
					<X>510</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EAStorageElectric]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1668695364190</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668981435974</Id>
					<Name><![CDATA[p_nfatoStart_h]]></Name>
					<X>250</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0
]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1668981435972</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668981451986</Id>
					<Name><![CDATA[p_nfatoEnd_h]]></Name>
					<X>250</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0
]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1668981451984</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1668981461541</Id>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
					<X>250</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1668981461539</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1671459091954</Id>
					<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
					<X>250</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_ElektrolyserOperationMode]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[OL_ElektrolyserOperationMode.BALANCE]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1671459091952</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1676965009213</Id>
					<Name><![CDATA[p_curtailer]]></Name>
					<X>510</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EAConversionCurtailer]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1676965009211</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1676449763319</Id>
					<Name><![CDATA[p_heatBuffer]]></Name>
					<X>510</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EAStorageHeat]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1676449763317</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1684919785784</Id>
					<Name><![CDATA[p_gasBuffer]]></Name>
					<X>510</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EAStorageGas]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1684919785782</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1692878211840</Id>
					<Name><![CDATA[p_cookingTracker]]></Name>
					<X>630</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_ActivityTrackerCooking]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1692878211838</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1692890035894</Id>
					<Name><![CDATA[p_energyLabel]]></Name>
					<X>50</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionIsolationLabel]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1692890035892</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1692973005119</Id>
					<Name><![CDATA[p_DHWAsset]]></Name>
					<X>631</X><Y>178</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EAConsumption]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1692973005117</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1696868137372</Id>
					<Name><![CDATA[p_GISbuilding]]></Name>
					<X>50</X><Y>500</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[GIS_Building]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1696868137370</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1697021029662</Id>
					<Name><![CDATA[p_longitude]]></Name>
					<X>50</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1697021029660</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1697021029674</Id>
					<Name><![CDATA[p_latitude]]></Name>
					<X>50</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1697021029672</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1697034280316</Id>
					<Name><![CDATA[p_company_name]]></Name>
					<X>50</X><Y>450</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1697034280314</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1697034280325</Id>
					<Name><![CDATA[p_huisnummer]]></Name>
					<X>50</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1697034280323</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1697034280332</Id>
					<Name><![CDATA[p_openbareR]]></Name>
					<X>50</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1697034280330</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1697034280340</Id>
					<Name><![CDATA[p_company_connection_id]]></Name>
					<X>50</X><Y>430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1697034280338</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1697450310305</Id>
					<Name><![CDATA[p_energyProfile]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>630</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EAProfile]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1697450310303</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1698935198538</Id>
					<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
					<X>50</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1698935198536</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1700492967648</Id>
					<Name><![CDATA[p_GISPoint]]></Name>
					<X>50</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[GISPoint]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1700492967646</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1703004315356</Id>
					<Name><![CDATA[p_woonplaats]]></Name>
					<X>50</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1703004315354</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1703004325816</Id>
					<Name><![CDATA[p_huisletter]]></Name>
					<X>50</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1703004325814</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1703004335815</Id>
					<Name><![CDATA[p_toevoeging]]></Name>
					<X>50</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1703004335813</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1703004381440</Id>
					<Name><![CDATA[p_postcode]]></Name>
					<X>50</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1703004381438</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1703004464006</Id>
					<Name><![CDATA[p_pandIdentiteit]]></Name>
					<X>50</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1703004464004</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626903</Id>
					<Name><![CDATA[c_energyAssets]]></Name>
					<X>470</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EA]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626907</Id>
					<Name><![CDATA[c_storageAssets]]></Name>
					<X>490</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EAStorage]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626909</Id>
					<Name><![CDATA[c_consumptionAssets]]></Name>
					<X>490</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EAConsumption]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626911</Id>
					<Name><![CDATA[c_productionAssets]]></Name>
					<X>490</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EAProduction]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1659962626913</Id>
					<Name><![CDATA[c_conversionAssets]]></Name>
					<X>490</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EAConversion]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1667746389220</Id>
					<Name><![CDATA[c_vehicleAssets]]></Name>
					<X>510</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EAVehicle]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1668359033654</Id>
					<Name><![CDATA[c_vehiclesAvailableForCharging]]></Name>
					<X>530</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EAEV]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1669115948280</Id>
					<Name><![CDATA[c_dieselVehicles]]></Name>
					<X>530</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EADieselVehicle]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1692864624612</Id>
					<Name><![CDATA[c_tripTrackers]]></Name>
					<X>630</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_ActivityTrackerTrips]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1700044359363</Id>
					<Name><![CDATA[c_profileAssets]]></Name>
					<X>630</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_EAProfile]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Events>
				<Event>
					<Id>1668981173495</Id>
					<Name><![CDATA[e_startNonFirmATO]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1669017600000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[1d/1f]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[DAY]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[v_allowedCapacity_kW = p_nfatoLvl_kW;]]></Action>
				</Event>
				<Event>
					<Id>1668981249422</Id>
					<Name><![CDATA[e_endNonFirmATO]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1669017600000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[1d/1f]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[DAY]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[v_allowedCapacity_kW = p_connectionCapacity_kW;]]></Action>
				</Event>
				<Event>
					<Id>1675011317461</Id>
					<Name><![CDATA[e_initializeLowPassEprice]]></Name>
					<Description><![CDATA[Make sure this is correct, so after the first official timestep has passed]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1200</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="occuresOnce">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1675065600000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[energyModel.p_timeStep_h*60+1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[v_electricityPriceLowPassed_eurpkWh = v_currentElectricityPriceConsumption_eurpkWh;
v_currentLoadLowPassed_kW = v_currentPowerElectricity_kW;]]></Action>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658500398176</Id>
					<Name><![CDATA[f_connectToParentNode]]></Name>
					<X>801</X><Y>113</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[GridNode myParentNodeElectric = findFirst(energyModel.pop_gridNodes, p->p.p_gridNodeID.equals(p_parentNodeElectricID)) ;
if( myParentNodeElectric instanceof GridNode ) {
	l_parentNodeElectric.connectTo(myParentNodeElectric);
	myParentNodeElectric.f_connectToChild(this);
	//p_parentNodeElectric = myParentNodeElectric;
}

GridNode myParentNodeHeat = findFirst(energyModel.pop_gridNodes, p->p.p_gridNodeID.equals(p_parentNodeHeatID)) ;
if( myParentNodeHeat instanceof GridNode ) {
	l_parentNodeHeat.connectTo(myParentNodeHeat);
	myParentNodeHeat.f_connectToChild(this);
	//p_parentNodeHeat = myParentNodeHeat;
}

ConnectionOwner myParentConnectionOwner = findFirst(energyModel.pop_connectionOwners, p->p.p_actorID.equals(p_ownerID)) ;
if( myParentConnectionOwner instanceof ConnectionOwner) {
	//p_ownerActor = myParentConnectionOwner;
	l_ownerActor.connectTo(myParentConnectionOwner);
	myParentConnectionOwner.f_connectToChild(this);
}

/*EnergySupplier myParentEnergySupplier = findFirst(main.pop_energySuppliers, p->p.p_actorID.equals(p_ownerID)) ;
if( myParentEnergySupplier instanceof EnergySupplier) {
	//p_ownerActor = myParentEnergySupplier;
	l_ownerActor.connectTo(myParentEnergySupplier);
	myParentEnergySupplier.f_connectToChild(this);
}
EnergyCoop myParentEnergyCoop = findFirst(main.pop_energyCoops, p->p.p_actorID.equals(p_ownerID)) ;
if( myParentEnergyCoop instanceof EnergyCoop) {
	//p_ownerActor = myParentEnergyCoop;
	l_ownerActor.connectTo(myParentEnergyCoop);
	myParentEnergyCoop.f_connectToChild(this);
}*/]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658752229618</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>750</X><Y>-80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingEnergyAsset]]></Name>
						<Type><![CDATA[J_EA]]></Type>
					</Parameter>
					<Body><![CDATA[//assetLinks.connectTo(ConnectingChildNode);
J_EA j_ea = ConnectingEnergyAsset;

//dont add asset to list if it is not a tangible asset (i.e. a heating model for buildings)
if( ! (j_ea instanceof J_EAStorageHeat)) {
	c_energyAssets.add(j_ea);
}
if (j_ea instanceof J_EAConsumption ) {
	if (j_ea instanceof J_EADieselVehicle) {
		//c_vehicleAssets.add( EA );
		//c_dieselVehicles.add( EA );
		//c_vehicleAssets.get( v_vehicleIndex ).v_powerFraction_fr = 1;
		/*MobilityTracker m = main.add_mobilityTrackers();
		c_mobilityTrackers.add( m );
		m.p_vehicleIndex = v_vehicleIndex;
		m.p_gridConnection = this;
		m.p_energyAsset = c_vehicleAssets.get( v_vehicleIndex );
		m.p_vehicleInstance = (J_EADieselVehicle)m.p_energyAsset.j_ea;
		m.p_vehicleInstance = (J_EADieselVehicle)m.p_vehicleInstance;
		m.p_mobilityPatternType = OL_MobilityPatternType.TRUCK;
		((J_EADieselVehicle)m.p_vehicleInstance).setMobilityTracker( m );
		m.f_getData();*/
		//v_vehicleIndex ++;
	}
	//c_consumptionAssets.add(EA);
} 
else if (j_ea instanceof J_EAProduction ) {
	c_productionAssets.add((J_EAProduction)j_ea);
} 
else if (j_ea instanceof J_EAStorage ) {
	if ( j_ea instanceof J_EAStorageHeat) {
		if ( ((J_EAStorageHeat)j_ea).heatStorageType == OL_EAStorageTypes.HEATMODEL_BUILDING ) {
			//p_BuildingThermalAsset = EA; // Obsolete
		}
		else if ( ((J_EAStorageHeat)j_ea).heatStorageType == OL_EAStorageTypes.HEATBUFFER ) {
			//c_storageAssets.add(EA);
			//p_heatBuffer = EA;
		}
	} 
	else if (j_ea instanceof J_EAStorageElectric) {
		if(j_ea instanceof J_EAEV && ((J_EAEV)j_ea).getStorageCapacity_kWh() !=0) {
			//c_storageAssets.add(EA);
			//c_vehicleAssets.add( EA );
			//EA.v_powerFraction_fr = 1; //Waarom staat dit op 1? 29-01-23 PH
			/*MobilityTracker m = main.add_mobilityTrackers();
			c_mobilityTrackers.add( m );
			m.p_vehicleIndex = v_vehicleIndex;
			m.p_gridConnection = this;
			m.p_energyAsset = EA;
			m.p_vehicleInstance = (J_EAEV)m.p_energyAsset.j_ea;
 			m.p_mobilityPatternType = OL_MobilityPatternType.TRUCK;
			((J_EAEV)m.p_vehicleInstance).setMobilityTracker( m );
			m.f_getData();*/
			//v_vehicleIndex ++;
		}
		else if (((J_EAStorageElectric)j_ea).getStorageCapacity_kWh() != 0) {
			//c_storageAssets.add(EA);
			//p_batteryAsset = EA;
		}		
		else{
			traceln(getName() + "storage asset create that cannot be identified (i.e. its not an EV and not an heatstorage");
		}
	}
} 
else if (j_ea instanceof J_EAConversion) {
	c_conversionAssets.add((J_EAConversion)j_ea);
	if (j_ea instanceof J_EAConversionGasBurner|| j_ea instanceof J_EAConversionHeatPump || j_ea instanceof J_EAConversionHeatDeliverySet ) {
		if (p_primaryHeatingAsset == null) {
			p_primaryHeatingAsset = (J_EAConversion)j_ea;
		} else if (p_secondaryHeatingAsset == null) {
			p_secondaryHeatingAsset = (J_EAConversion)j_ea;
		} else {
			traceln("House " + p_gridConnectionID + " already has two heating systems!");
		}
		//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
	}
	else if (j_ea instanceof J_EAConversionCurtailer || j_ea instanceof J_EAConversionCurtailerHeat) {
		p_curtailer = (J_EAConversionCurtailer)j_ea;
	} 
}
else {
	traceln("f_connectToChild in GC: Exception! EnergyAsset " + ConnectingEnergyAsset + " is of unknown type: " + j_ea.energyAssetType);
	traceln( "TEST");
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660212665961</Id>
					<Name><![CDATA[f_connectionMetering]]></Name>
					<X>800</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_electricityDrawnFromGrid_kWh += max(v_currentPowerElectricity_kW, 0) * energyModel.p_timeStep_h;
v_electricityDeliveredToGrid_kWh += max(-v_currentPowerElectricity_kW, 0) * energyModel.p_timeStep_h;

v_methaneDrawn_kWh += max(v_currentPowerMethane_kW, 0) * energyModel.p_timeStep_h;
v_methaneDelivered_kWh += max(-v_currentPowerMethane_kW, 0) * energyModel.p_timeStep_h;

v_hydrogenDrawn_kWh += max(v_currentPowerHydrogen_kW, 0) * energyModel.p_timeStep_h;
v_hydrogenDelivered_kWh += max(-v_currentPowerHydrogen_kW, 0) * energyModel.p_timeStep_h;

v_heatDrawn_kWh += max(v_currentPowerHeat_kW, 0) * energyModel.p_timeStep_h;
v_heatDelivered_kWh += max(-v_currentPowerHeat_kW, 0) * energyModel.p_timeStep_h;

/*if ( abs(v_currentPowerHeat_kW) > 0.1 ) {
	traceln("Heat unbalance in gridConnection: " + p_gridConnectionID);
	pauseSimulation();
}*/

v_dieselDrawn_kWh += max(v_currentPowerDiesel_kW, 0) * energyModel.p_timeStep_h;
v_dieselDelivered_kWh += max(-v_currentPowerDiesel_kW, 0) * energyModel.p_timeStep_h;

// Energy flows per energy asset category
v_electricityChargedByEVs_kWh += max(v_evChargingPowerElectric_kW, 0) * energyModel.p_timeStep_h;
v_electricityDischargedByEVs_kWh += max(-v_evChargingPowerElectric_kW, 0) * energyModel.p_timeStep_h;

v_electricityProducedPV_kWh += v_pvProductionElectric_kW * energyModel.p_timeStep_h;
v_electricityProducedWind_kWh += v_windProductionElectric_kW * energyModel.p_timeStep_h;
v_electricityConsumedFixedProfile_kWh += v_fixedConsumptionElectric_kW * energyModel.p_timeStep_h;

v_electricityConvertedToX_kWh += max(v_conversionPowerElectric_kW, 0) * energyModel.p_timeStep_h;
v_xConvertedToElectricity_kWh += max(-v_conversionPowerElectric_kW, 0) * energyModel.p_timeStep_h;

v_electricityChargedByBattery_kWh += max(v_batteryPowerElectric_kW, 0) * energyModel.p_timeStep_h;
v_electricityDischargedByBattery_kWh += max(-v_batteryPowerElectric_kW,0) * energyModel.p_timeStep_h;

if (energyModel.v_isRapidRun){
	v_maxConnectionLoad_fr = max(v_maxConnectionLoad_fr, abs(v_currentPowerElectricity_kW / v_allowedCapacity_kW ));
	data_annualElectricityBalance_kW.add(energyModel.t_h, v_currentPowerElectricity_kW);

	//Total use, production, import, export and self-use, for summer, winter and annual.
	if (energyModel.t_h == energyModel.p_startHourSummerWeek) {
	
		v_summerWeekTotalImport_MWh=(v_electricityDrawnFromGrid_kWh + max(0,v_methaneDrawn_kWh-v_methaneDelivered_kWh) + max(0,v_hydrogenDrawn_kWh-v_hydrogenDelivered_kWh) + v_dieselDrawn_kWh)/1000;
		v_summerWeekTotalExport_MWh=(v_electricityDeliveredToGrid_kWh + max(0,v_methaneDelivered_kWh-v_methaneDrawn_kWh) + max(0,v_hydrogenDelivered_kWh-v_hydrogenDrawn_kWh))/1000;
		double totalEnergyProduced_MWh=0;
		double totalEnergyUsed_MWh=0;
		double totalEnergyCurtailed_MWh=0;
		for (J_EA e : c_energyAssets) {
			double EnergyUsed_kWh = e.getEnergyUsed_kWh();			
			if (EnergyUsed_kWh > 0) {			
				if (e instanceof J_EAConversionCurtailer || e instanceof J_EAConversionCurtailerHeat) {
					totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
					totalEnergyCurtailed_MWh += EnergyUsed_kWh/1000;
				} else if( e instanceof J_EAConversionGasCHP ) {
					totalEnergyUsed_MWh += EnergyUsed_kWh/1000;					
				} else {
					totalEnergyUsed_MWh += EnergyUsed_kWh/1000;
				}		
				if ( e instanceof J_EABuilding ) {
					totalEnergyProduced_MWh += ((J_EABuilding)e).energyAbsorbed_kWh/1000;						
				}
			} else {				
				totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
			}
		}
		v_summerWeekEnergyUsed_MWh = totalEnergyUsed_MWh;
		v_summerWeekEnergyProduced_MWh = totalEnergyProduced_MWh;		
	}
	if (energyModel.t_h == energyModel.p_startHourSummerWeek + 24*7) {
	
		v_summerWeekTotalImport_MWh=(v_electricityDrawnFromGrid_kWh + max(0,v_methaneDrawn_kWh-v_methaneDelivered_kWh) + max(0,v_hydrogenDrawn_kWh-v_hydrogenDelivered_kWh) + v_dieselDrawn_kWh)/1000-v_summerWeekTotalImport_MWh;
		v_summerWeekTotalExport_MWh=(v_electricityDeliveredToGrid_kWh + max(0,v_methaneDelivered_kWh-v_methaneDrawn_kWh) + max(0,v_hydrogenDelivered_kWh-v_hydrogenDrawn_kWh))/1000-v_summerWeekTotalExport_MWh;
		double totalEnergyProduced_MWh=0;
		double totalEnergyUsed_MWh=0;
		double totalEnergyCurtailed_MWh=0;
		for (J_EA e : c_energyAssets) {
			double EnergyUsed_kWh = e.getEnergyUsed_kWh();			
			if (EnergyUsed_kWh > 0) {			
				if (e instanceof J_EAConversionCurtailer || e instanceof J_EAConversionCurtailerHeat) {
					totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
					totalEnergyCurtailed_MWh += EnergyUsed_kWh/1000;
				} else {
					totalEnergyUsed_MWh += EnergyUsed_kWh/1000;
				}		
				if ( e instanceof J_EABuilding ) {
					totalEnergyProduced_MWh += ((J_EABuilding)e).energyAbsorbed_kWh/1000;
					//deltaThermalEnergySinceStart_MWh += (((J_EABuilding)e).getCurrentTemperature()-20)*((J_EABuilding)e).getHeatCapacity_JpK()/3.6e9;
				}
			} else {				
				totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
			}
		}
		v_summerWeekEnergyUsed_MWh = totalEnergyUsed_MWh-v_summerWeekEnergyUsed_MWh;
		v_summerWeekEnergyProduced_MWh = totalEnergyProduced_MWh-v_summerWeekEnergyProduced_MWh;	
		
		// Calc selfConsumedEnergy for summerweek
		v_summerWeekSelfConsumedEnergy_MWh = max(0,v_summerWeekEnergyUsed_MWh - v_summerWeekTotalImport_MWh); // Putting positive delta-stored energy here assumes this energy was imported as opposed to self-produced. Putting negative delta-stored energy here assumes this energy was self-consumed, as opposed to exported.	
		double v_summerWeekSelfConsumedEnergyCheck_MWh = v_summerWeekEnergyProduced_MWh - v_summerWeekTotalExport_MWh;
		//traceln("Gridconnection %s summerweek selfconsumed use/import based: %s, production/export based: %s", p_gridConnectionID, v_summerWeekSelfConsumedEnergy_MWh, v_summerWeekSelfConsumedEnergyCheck_MWh);
		
	}
	
	if (energyModel.t_h == energyModel.p_startHourWinterWeek) {
		
		v_winterWeekTotalImport_MWh=(v_electricityDrawnFromGrid_kWh + max(0,v_methaneDrawn_kWh-v_methaneDelivered_kWh) + max(0,v_hydrogenDrawn_kWh-v_hydrogenDelivered_kWh) + v_dieselDrawn_kWh)/1000;
		v_winterWeekTotalExport_MWh=(v_electricityDeliveredToGrid_kWh + max(0,v_methaneDelivered_kWh-v_methaneDrawn_kWh) + max(0,v_hydrogenDelivered_kWh-v_hydrogenDrawn_kWh))/1000;
		double totalEnergyProduced_MWh=0;
		double totalEnergyUsed_MWh=0;
		double totalEnergyCurtailed_MWh=0;
		for (J_EA e : c_energyAssets) {
			double EnergyUsed_kWh = e.getEnergyUsed_kWh();			
			if (EnergyUsed_kWh > 0) {			
				if (e instanceof J_EAConversionCurtailer || e instanceof J_EAConversionCurtailerHeat) {
					totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
					totalEnergyCurtailed_MWh += EnergyUsed_kWh/1000;
				} else {
					totalEnergyUsed_MWh += EnergyUsed_kWh/1000;
				}		
				if ( e instanceof J_EABuilding ) {
					totalEnergyProduced_MWh += ((J_EABuilding)e).energyAbsorbed_kWh/1000;						
				}
			} else {				
				totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
			}
		}
		v_winterWeekEnergyUsed_MWh = totalEnergyUsed_MWh;
		v_winterWeekEnergyProduced_MWh = totalEnergyProduced_MWh;		
	}
	if (energyModel.t_h == energyModel.p_startHourWinterWeek + 24*7) {
		v_winterWeekTotalImport_MWh=(v_electricityDrawnFromGrid_kWh + max(0,v_methaneDrawn_kWh-v_methaneDelivered_kWh) + max(0,v_hydrogenDrawn_kWh-v_hydrogenDelivered_kWh) + v_dieselDrawn_kWh)/1000-v_winterWeekTotalImport_MWh;
		v_winterWeekTotalExport_MWh=(v_electricityDeliveredToGrid_kWh + max(0,v_methaneDelivered_kWh-v_methaneDrawn_kWh) + max(0,v_hydrogenDelivered_kWh-v_hydrogenDrawn_kWh))/1000-v_winterWeekTotalExport_MWh;
		double totalEnergyProduced_MWh=0;
		double totalEnergyUsed_MWh=0;
		double totalEnergyCurtailed_MWh=0;
		for (J_EA e : c_energyAssets) {
			double EnergyUsed_kWh = e.getEnergyUsed_kWh();			
			if (EnergyUsed_kWh > 0) {			
				if (e instanceof J_EAConversionCurtailer || e instanceof J_EAConversionCurtailerHeat) {
					totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
					totalEnergyCurtailed_MWh += EnergyUsed_kWh/1000;
				} else {
					totalEnergyUsed_MWh += EnergyUsed_kWh/1000;
				}		
				if ( e instanceof J_EABuilding ) {
					totalEnergyProduced_MWh += ((J_EABuilding)e).energyAbsorbed_kWh/1000;
					//deltaThermalEnergySinceStart_MWh += (((J_EABuilding)e).getCurrentTemperature()-20)*((J_EABuilding)e).getHeatCapacity_JpK()/3.6e9;
				}
			} else {				
				totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
			}
		}
		v_winterWeekEnergyUsed_MWh = totalEnergyUsed_MWh-v_winterWeekEnergyUsed_MWh;
		v_winterWeekEnergyProduced_MWh = totalEnergyProduced_MWh-v_winterWeekEnergyProduced_MWh;	
		
		// Calc selfConsumedEnergy for winterweek
		v_winterWeekSelfConsumedEnergy_MWh = max(0,v_winterWeekEnergyUsed_MWh - v_winterWeekTotalImport_MWh); // Putting positive delta-stored energy here assumes this energy was imported as opposed to self-produced. Putting negative delta-stored energy here assumes this energy was self-consumed, as opposed to exported.	
		double v_winterWeekSelfConsumedEnergyCheck_MWh = v_winterWeekEnergyProduced_MWh - v_winterWeekTotalExport_MWh;
		//traceln("Gridconnection %s winterweek selfconsumed use/import based: %s, production/export based: %s", p_gridConnectionID, v_winterWeekSelfConsumedEnergy_MWh, v_winterWeekSelfConsumedEnergyCheck_MWh);
	}
	
	double currentImport_MWh = (max(0,v_currentPowerElectricity_kW) + max(0,v_currentPowerHeat_kW) + max(0,v_currentPowerMethane_kW) + max(0,v_currentPowerHydrogen_kW) + max(0,v_currentPowerDiesel_kW))* energyModel.p_timeStep_h/1000;
	double currentExport_MWh = (max(0,-v_currentPowerElectricity_kW) + max(0,-v_currentPowerHeat_kW) + max(0,-v_currentPowerMethane_kW) + max(0,-v_currentPowerHydrogen_kW) + max(0,-v_currentPowerDiesel_kW))* energyModel.p_timeStep_h/1000;
	if(energyModel.t_h % 24 > 6 && energyModel.t_h % 24 < 18) { // Daytime totals. Use overal-total minus daytime total to get nighttime totals.
		v_daytimeTotalImport_MWh += currentImport_MWh;
		v_daytimeTotalExport_MWh += currentExport_MWh;
		v_daytimeEnergyUsed_MWh += v_currentEnergyConsumption_kW * energyModel.p_timeStep_h/1000;
		v_daytimeEnergyProduced_MWh += ( v_currentEnergyProduction_kW/1000 - v_currentEnergyCurtailed_kW/1000 ) * energyModel.p_timeStep_h;
	} /* else { // Nighttime
		v_nighttimeTotalImport_MWh += currentImport_MWh * energyModel.p_timeStep_h;
		v_nighttimeTotalExport_MWh += currentExport_MWh * energyModel.p_timeStep_h;
		v_nighttimeEnergyUsed_MWh += v_currentEnergyConsumption_kW / 1000 * energyModel.p_timeStep_h;
		v_nighttimeEnergyProduced_MWh += ( v_currentEnergyProduction_kW/1000 - v_currentEnergyCurtailed_kW/1000 ) * energyModel.p_timeStep_h;
		//v_nighttimePeakElecImport_kW = max(v_nighttimePeakElecImport_kW,v_currentElectricityImport_kW);
		//v_nighttimePeakElecExport_kW = max(v_nighttimePeakElecExport_kW,v_currentElectricityExport_kW);
	} */ // This is done 'cheaper' i f_calculateKPIs as a single calculation at the end of the run, by taking the difference of total yearly quantities and daytime quantities

	
	// Weekday totals. Use overal-totals minus weekday totals to get weekend totals.
	if ((energyModel.t_h+3*24) % (24*7) < (24*5)) { // Simulation starts on a Thursday, hence the +3 day offset on t_h
		v_weekdayTotalImport_MWh += currentImport_MWh;
		v_weekdayTotalExport_MWh += currentExport_MWh;
		v_weekdayEnergyUsed_MWh += v_currentEnergyConsumption_kW * energyModel.p_timeStep_h/1000;
		v_weekdayEnergyProduced_MWh += v_currentEnergyProduction_kW * energyModel.p_timeStep_h/1000;
	} /*else { // Weekend
		v_weekendTotalImport_MWh += currentImport_MWh * energyModel.p_timeStep_h;
		v_weekendTotalExport_MWh += currentExport_MWh * energyModel.p_timeStep_h;
		v_weekendEnergyUsed_MWh += v_currentEnergyConsumption_kW / 1000 * energyModel.p_timeStep_h;
		v_weekendEnergyProduced_MWh += ( v_currentEnergyProduction_kW/1000 - v_currentEnergyCurtailed_kW/1000 ) * energyModel.p_timeStep_h;
		//v_nighttimePeakElecImport_kW = max(v_nighttimePeakElecImport_kW,v_currentElectricityImport_kW);
		//v_nighttimePeakElecExport_kW = max(v_nighttimePeakElecExport_kW,v_currentElectricityExport_kW);
	} */ // This is done 'cheaper' i f_calculateKPIs as a single calculation at the end of the run, by taking the difference of total yearly quantities and daytime quantities

}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664961435385</Id>
					<Name><![CDATA[f_operateFlexAssets]]></Name>
					<X>800</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//Must be overwritten in child agent]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668181559833</Id>
					<Name><![CDATA[f_instantiateEnergyAssets]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>801</X><Y>73</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//traceln("asset " + p_energyAssetList);
if( p_energyAssetList != null) {
	for( JsonNode l : p_energyAssetList ) {
		OL_EACategories assetCategory = OL_EACategories.valueOf(l.required( "category" ).textValue());
		OL_EnergyAssetType assetType = OL_EnergyAssetType.valueOf(l.required( "type" ).textValue()) ;
		String assetName = l.required( "name" ).textValue();	
		switch( assetCategory )  {
			case CONSUMPTION:							
				if ( p_gridConnectionCategory == OL_GridConnectionCategory.HOUSE) {
					if( assetType.equals("ELECTRICITY_DEMAND") && assetName.contains("TEMPLATE House other electricity demand") ) {
						assetName = "House_other_electricity"; 
					} else if (assetType.equals("HOT_WATER_CONSUMPTION")) {				
						assetName = "House_hot_water";
					} 
				}
											
				double yearlyDemandElectricity_kWh = l.path( "yearlyDemandElectricity_kWh").doubleValue();
				double yearlyDemandHeat_kWh = l.path( "yearlyDemandHeat_kWh").doubleValue();
				double yearlyDemandHydrogen_kWh = l.path( "yearlyDemandHydrogen_kWh").doubleValue();
				double yearlyDemandMethane_kWh = l.path( "yearlyDemandMethane_kWh").doubleValue();
				double yearlyDemandDiesel_kWh = l.path( "yearlyDemandDiesel_kWh").doubleValue();
				double energyConsumption_kWhpkm = l.path( "energyConsumption_kWhpkm" ).doubleValue();
				double vehicleScaling = l.path("vehicleScaling").asDouble(1.0);
	
				if (assetType == OL_EnergyAssetType.DIESEL_VEHICLE) {
					//traceln("Adding diesel vehicle asset without EnergyAsset agent!");
					J_EADieselVehicle dieselVehicle = new J_EADieselVehicle(this, energyConsumption_kWhpkm, energyModel.p_timeStep_h, vehicleScaling);
					f_connectToJ_EA(dieselVehicle);					
				} else {
					J_EAConsumption consumptionAsset = new J_EAConsumption(this,assetType,assetName,yearlyDemandElectricity_kWh,yearlyDemandHeat_kWh,yearlyDemandHydrogen_kWh,yearlyDemandMethane_kWh,yearlyDemandDiesel_kWh,energyModel.p_timeStep_h);
					f_connectToJ_EA(consumptionAsset);						
				}
			break;
			
			case PRODUCTION:								
				double capacityElectricity_kW = l.path( "capacityElectricity_kW").doubleValue();
				double capacityHeat_kW = l.path( "capacityHeat_kW").doubleValue();
				double yearlyProductionHydrogen_kWh = l.path( "yearlyProductionHydrogen_kWh").doubleValue();
				double yearlyProductionMethane_kWh = l.path( "yearlyProductionMethane_kWh").doubleValue();
				double outputTemperature_degC = l.path( "deliveryTemp_degC").doubleValue();
				
				J_EAProduction productionAsset = new J_EAProduction ( this, assetType, assetName, capacityElectricity_kW, capacityHeat_kW, yearlyProductionMethane_kWh, yearlyProductionHydrogen_kWh, energyModel.p_timeStep_h, outputTemperature_degC );
				f_connectToJ_EA(productionAsset);
			
				// Determine residual heat delivery temperature from coldest connected asset
				/*if(this instanceof GCResidualHeat) {					
					traceln("Residual heat delivery temperature = "+outputTemperature_degC);
					((GCResidualHeat)this).p_deliveryTemp_degC = outputTemperature_degC < ((GCResidualHeat)this).p_deliveryTemp_degC? outputTemperature_degC : ((GCResidualHeat)this).p_deliveryTemp_degC;
				}*/
				if ( l.required( "type" ).textValue().equals("WINDMILL") ) {
					main.v_totalInstalledWindPower_kW += capacityElectricity_kW;
				} else if ( l.required( "type" ).textValue().equals("PHOTOVOLTAIC") ) {
					main.v_totalInstalledPVPower_kW += capacityElectricity_kW;
				}
			break;
			
			case CONVERSION:
				if ( assetType == OL_EnergyAssetType.GAS_PIT || assetType == OL_EnergyAssetType.GAS_BURNER || assetType == OL_EnergyAssetType.METHANE_FURNACE ){
					// traceln("Adding gaspit!");
					double capacityHeat_kW1 = l.required( "capacityHeat_kW").doubleValue();
					double eta_r = l.required( "eta_r").doubleValue();
					double deliveryTemp_degC1 = 0.0;
					J_EAConversionGasBurner gasburner = new J_EAConversionGasBurner(this, assetType, capacityHeat_kW1, eta_r, energyModel.p_timeStep_h, deliveryTemp_degC1);
					f_connectToJ_EA(gasburner);
				} else if ( assetType == OL_EnergyAssetType.ELECTRIC_HOB){
					//traceln("Adding electric HOB!");
					double capacityHeat_kW1 = l.required( "capacityHeat_kW").doubleValue();
					double eta_r = l.required( "eta_r").doubleValue();
					double deliveryTemp_degC1 = 0.0;
					J_EAElectricHob eHOB = new J_EAElectricHob(this, capacityHeat_kW1, eta_r, energyModel.p_timeStep_h, deliveryTemp_degC1);
					f_connectToJ_EA(eHOB);
				} else if ( assetType == OL_EnergyAssetType.HEAT_PUMP_AIR || assetType == OL_EnergyAssetType.HEAT_PUMP_GROUND || assetType == OL_EnergyAssetType.HEAT_PUMP_WATER){
					double capacityElectric_kW = l.path( "capacityElectricity_kW").doubleValue();
					double eta_r = l.required( "eta_r").doubleValue();
					double deliveryTemp_degC = l.path( "deliveryTemp_degC" ).doubleValue();
					String ambientTempType = l.path( "ambientTempType" ).asText();
					double belowZeroHeatpumpEtaReductionFactor = l.path( "etaReduction_r" ).asDouble(1.0);
					J_EAConversionHeatPump	heatpump = new J_EAConversionHeatPump( this, energyModel.p_timeStep_h, capacityElectric_kW, eta_r, main.v_currentAmbientTemperature_degC, deliveryTemp_degC, ambientTempType, 0, belowZeroHeatpumpEtaReductionFactor );
					main.c_ambientAirDependentAssets.add(heatpump);
					f_connectToJ_EA(heatpump);
				} else if ( assetType == OL_EnergyAssetType.ELECTRIC_HEATER){
					double capacityElectric_kW = l.path( "capacityElectricity_kW").doubleValue();
					double eta_r = l.required( "eta_r").doubleValue();
					double deliveryTemp_degC = l.path( "deliveryTemp_degC" ).doubleValue();
					J_EAConversionElectricHeater electricHeater = new J_EAConversionElectricHeater( this, capacityElectric_kW, eta_r, energyModel.p_timeStep_h, deliveryTemp_degC);
					f_connectToJ_EA(electricHeater);
				} else if ( assetType == OL_EnergyAssetType.HEAT_DELIVERY_SET){
					double capacityHeat_kW1 = l.required( "capacityHeat_kW").doubleValue();
					double eta_r = l.required( "eta_r").doubleValue();
					double deliveryTemp_degC = l.path( "deliveryTemp_degC" ).doubleValue();
					J_EAConversionHeatDeliverySet deliverySet = new J_EAConversionHeatDeliverySet( this, capacityHeat_kW1, eta_r, deliveryTemp_degC, energyModel.p_timeStep_h );
					f_connectToJ_EA(deliverySet);
				} else if ( assetType == OL_EnergyAssetType.HYDROGEN_FURNACE){
					double capacityHeat_kW1 = l.required( "capacityHeat_kW").doubleValue();
					double eta_r = l.required( "eta_r").doubleValue();
					double deliveryTemp_degC = 0.0;
					J_EAConversionHydrogenBurner hydrogenBurner = new J_EAConversionHydrogenBurner( this, capacityHeat_kW1, eta_r, energyModel.p_timeStep_h, deliveryTemp_degC );
					f_connectToJ_EA(hydrogenBurner);
				} else if ( assetType == OL_EnergyAssetType.ELECTROLYSER){
					double capacityElectric_kW = l.path( "capacityElectricity_kW").doubleValue();
					double eta_r = l.required( "eta_r").doubleValue();
					J_EAConversionElektrolyser electrolyser = new J_EAConversionElektrolyser( this, capacityElectric_kW, eta_r, energyModel.p_timeStep_h );
					f_connectToJ_EA(electrolyser);
				} else if ( assetType == OL_EnergyAssetType.CURTAILER){
					double capacityElectric_kW = l.path( "capacityElectricity_kW").doubleValue();
					double eta_r = l.required( "eta_r").doubleValue();
					J_EAConversionCurtailer curtailer = new J_EAConversionCurtailer( this, capacityElectric_kW, eta_r, energyModel.p_timeStep_h );
					f_connectToJ_EA(curtailer);
				} else if ( assetType == OL_EnergyAssetType.CURTAILER_HEAT){
					double capacityHeat_kW1 = l.required( "capacityHeat_kW").doubleValue();
					double eta_r = l.required( "eta_r").doubleValue();
					J_EAConversionCurtailerHeat curtailerHeat = new J_EAConversionCurtailerHeat( this, capacityHeat_kW1, eta_r, energyModel.p_timeStep_h );
					f_connectToJ_EA(curtailerHeat);
				} else if ( assetType == OL_EnergyAssetType.METHANE_CHP){
					double capacityHeat_kW1 = l.required( "capacityHeat_kW").doubleValue();
					double capacityElectric_kW = l.path( "capacityElectricity_kW").doubleValue();
					double eta_r = l.required( "eta_r").doubleValue();
					double deliveryTemp_degC = 0.0;
					J_EAConversionGasCHP GasCHP = new J_EAConversionGasCHP(this, capacityElectric_kW, capacityHeat_kW1, eta_r, energyModel.p_timeStep_h, deliveryTemp_degC);
					f_connectToJ_EA(GasCHP);
				} else if ( assetType == OL_EnergyAssetType.BIOGAS_METHANE_CONVERTER){
					double capacityMethane_kW = l.required( "capacityMethane_kW").doubleValue();
					double eta_r = l.required( "eta_r").doubleValue();
					J_EAConversionBiogasMethane biogasMethaneConverter = new J_EAConversionBiogasMethane(this, capacityMethane_kW, eta_r, energyModel.p_timeStep_h);
					f_connectToJ_EA(biogasMethaneConverter);
				} else {
					traceln("Unknown conversion energy asset! Skipping instantiation!");

				} 
			break;				
			case STORAGE:
				if ( assetType == OL_EnergyAssetType.ELECTRIC_VEHICLE){
					double capacityElectric_kW1 = l.path( "capacityElectricity_kW").doubleValue();
					double storageCapacity_kWh = l.path( "storageCapacity_kWh" ).doubleValue();
					double initialStateOfCharge_r = l.path( "stateOfCharge_r" ).doubleValue();
					double energyConsumption_kWhpkm2 = l.path( "energyConsumption_kWhpkm" ).doubleValue();
					double vehicleScalingElectric = l.path("vehicleScaling").asDouble(1.0);
					//storageAsset.j_ea = new J_EAEV(storageAsset, capacityElectric_kW1, storageCapacity_kWh, initialStateOfCharge_r, energyModel.p_timeStep_h, energyConsumption_kWhpkm2, vehicleScalingElectric );  
					
					J_EAEV ev= new J_EAEV(this, capacityElectric_kW1, storageCapacity_kWh, initialStateOfCharge_r, energyModel.p_timeStep_h, energyConsumption_kWhpkm2, vehicleScalingElectric );  
					f_connectToJ_EA(ev);	
					
				} else if ( assetType == OL_EnergyAssetType.BUILDINGTHERMALS) {										
					double capacityHeat_kW3 = l.path( "capacityHeat_kW").doubleValue();
			
					double lossFactor_WpK2 = l.path( "lossFactor_WpK" ).doubleValue() * uniform(0.8, 1.2);
					double heatCapacity_JpK2 = l.path( "heatCapacity_JpK" ).doubleValue() * uniform(0.7, 1.3);
									
					double minTemperature_degC2 = l.path( "minTemp_degC" ).asDouble(1.0);
					double maxTemperature_degC2 = l.path( "maxTemp_degC" ).asDouble(90.0);
					double initialTemperature_degC2 = l.path( "initialTemperature_degC" ).doubleValue();
					String ambientTempType3 = l.path( "ambientTempType" ).asText("AIR"); //ALWAYS AIR!
					double setTemperature_degC2 = 10.0; // this value does nothing for a heatmodel. But it is required to initialize the J_instance
					double solarAbsorptionFactor_m2 = l.path("solarAbsorptionFactor_m2").asDouble(1.0);

					J_EABuilding buildingThermals = new J_EABuilding(this, OL_EAStorageTypes.HEATMODEL_BUILDING, capacityHeat_kW3, lossFactor_WpK2, energyModel.p_timeStep_h, initialTemperature_degC2, minTemperature_degC2, maxTemperature_degC2, setTemperature_degC2, heatCapacity_JpK2, ambientTempType3, solarAbsorptionFactor_m2);
					f_connectToJ_EA(buildingThermals);
							
				} else if (assetType == OL_EnergyAssetType.STORAGE_ELECTRIC) {
					double capacityElectric_kW1 = l.path( "capacityElectricity_kW").doubleValue();
					double storageCapacity_kWh = l.path( "storageCapacity_kWh" ).doubleValue();
					double initialStateOfCharge_r = l.path( "stateOfCharge_r" ).doubleValue();
					J_EAStorageElectric storageAsset = new J_EAStorageElectric(this, capacityElectric_kW1, storageCapacity_kWh, initialStateOfCharge_r, energyModel.p_timeStep_h);						
					f_connectToJ_EA(storageAsset);
					p_batteryAsset=storageAsset;
					c_storageAssets.add(storageAsset);
					v_batterySOC_fr = storageAsset.getCurrentStateOfCharge();
			
				} else if (assetType == OL_EnergyAssetType.STORAGE_GAS) {
					double capacityGas_kW = l.path( "capacityGas_kW").doubleValue();
					double storageCapacity_kWh = l.path( "storageCapacity_kWh" ).doubleValue();
					double initialStateOfCharge_r = l.path( "stateOfCharge_r" ).doubleValue();
					J_EAStorageGas storageAsset = new J_EAStorageGas(this, capacityGas_kW, storageCapacity_kWh, initialStateOfCharge_r, energyModel.p_timeStep_h);
					f_connectToJ_EA(storageAsset);
					c_storageAssets.add(storageAsset);
					p_gasBuffer = storageAsset;
					//traceln("gasBuffer gasCapacity_kW: " + p_gasBuffer.j_ea.getGasCapacity_kW() + " kW");
				
				} else if( assetType == OL_EnergyAssetType.STORAGE_HEAT) {
					
				    double capacityHeat_kW2 = l.path( "capacityHeat_kW").doubleValue();
					double lossFactor_WpK = l.path( "lossFactor_WpK" ).doubleValue() * uniform(0.7, 1.3);
					double heatCapacity_JpK = l.path( "heatCapacity_JpK" ).doubleValue();
					double minTemperature_degC = l.path( "minTemp_degC" ).asDouble(44.0); // provide default values
					double maxTemperature_degC = l.path( "maxTemp_degC" ).asDouble(99.0);
					double setTemperature_degC = l.path( "setTemp_degC" ).asDouble(66.0);
					double initialTemperature_degC = l.path( "initialTemperature_degC" ).doubleValue();
					String ambientTempType2 = l.path( "ambientTempType" ).asText();
					
					if (this instanceof GCHouse ) {
						heatCapacity_JpK = heatCapacity_JpK * uniform(0.7, 1.3);
						initialTemperature_degC = initialTemperature_degC * uniform(0.7, 1.3);
					}
					
					//traceln("gridconnection heatstorage asset initialisation check! minTemp = "+minTemperature_degC+", maxTemperature_degC = "+maxTemperature_degC+", setTemp_degC = "+ setTemperature_degC+", initialTemperature_degC = "+initialTemperature_degC);
					J_EAStorageHeat storageAsset = new J_EAStorageHeat(this, OL_EAStorageTypes.HEATBUFFER, capacityHeat_kW2, lossFactor_WpK, energyModel.p_timeStep_h, initialTemperature_degC, minTemperature_degC, maxTemperature_degC, setTemperature_degC, heatCapacity_JpK, ambientTempType2);	
					
					f_connectToJ_EA(storageAsset);
					c_storageAssets.add(storageAsset);
				} else {
					traceln("F_instantiateEnergyAssets: ERROR, storage asset type not available");		
					
				}
			break;
			default:
				traceln("not a valid energy asset category." + assetCategory);
			break;
		}
	}
//traceln("GridConnection "+this.p_gridConnectionID+" has finished initializing its energyAssets!");
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668528273163</Id>
					<Name><![CDATA[f_calculateEnergyBalance]]></Name>
					<X>780</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_previousPowerElectricity_kW = v_currentPowerElectricity_kW;
v_currentPowerElectricity_kW = 0;
v_currentPowerMethane_kW = 0;
v_currentPowerHydrogen_kW = 0;
v_currentPowerHeat_kW = 0;
v_currentPowerDiesel_kW = 0;
v_fixedConsumptionElectric_kW = 0;
v_electricHobConsumption_kW = 0;
v_evChargingPowerElectric_kW = 0;
v_batteryPowerElectric_kW = 0;
v_windProductionElectric_kW = 0;
v_pvProductionElectric_kW = 0;
v_conversionPowerElectric_kW = 0;
v_currentEnergyConsumption_kW = 0;
v_currentEnergyProduction_kW = 0;
v_currentEnergyCurtailed_kW = 0;

c_tripTrackers.forEach(t -> t.manageActivities(energyModel.t_h*60));
c_dieselVehicles.forEach(v -> v.f_updateAllFlows(0));

f_operateFixedAssets();
f_operateFlexAssets();

f_connectionMetering();

v_electricityTotalsCheck_kWh = v_electricityConsumedFixedProfile_kWh + v_electricityConvertedToX_kWh + v_electricityChargedByEVs_kWh  + v_electricityDeliveredToGrid_kWh 
- v_electricityProducedPV_kWh - v_electricityProducedWind_kWh - v_electricityDrawnFromGrid_kWh - v_xConvertedToElectricity_kWh;

if (energyModel.b_addKpiVisuals) {
	//pl_SOC.updateData();
	pl_powerFlows.updateData();
}

//if (!Double.isFinite(v_currentPowerElectricity_kW)) {
//	traceln("Gridconnection %s with connection_id %s has NaN or infinite v_currentPowerElectricity_kW at time %s!", p_gridConnectionID, p_company_connection_id, energyModel.t_h);
//}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668528300576</Id>
					<Name><![CDATA[f_operateFixedAssets]]></Name>
					<X>800</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//v_heatRecievingFromSun_kW = p_irradianceRecievingSurface_m2 * main.v_currentSolarPowerNormalized_r * main.p_solarAbsorptionCoefficient;
//v_totalHeatRecievedSun_kWh += v_heatRecievingFromSun_kW;

//if (p_energyProfile != null & p_company_connection_id != null) {
for(J_EAProfile e : c_profileAssets) {
		e.f_updateAllFlows( energyModel.t_h );		
		v_fixedConsumptionElectric_kW += e.electricityConsumption_kW;		

}

for(J_EAProduction e : c_productionAssets) {
	if( e.energyAssetType == OL_EnergyAssetType.PHOTOVOLTAIC) {
		e.f_updateAllFlows( energyModel.v_currentSolarPowerNormalized_r );
		v_pvProductionElectric_kW += e.electricityProduction_kW;
	}
	else if(e.energyAssetType == OL_EnergyAssetType.WINDMILL) {
		e.f_updateAllFlows( energyModel.v_currentWindPowerNormalized_r );
		v_windProductionElectric_kW += e.electricityProduction_kW;
	}
	else if( e.energyAssetType == OL_EnergyAssetType.RESIDUALHEATHT ) {
		e.v_powerFraction_fr = 1;
		e.f_updateAllFlows( e.v_powerFraction_fr );
	}
	else if( e.energyAssetType == OL_EnergyAssetType.RESIDUALHEATLT ) {
		e.v_powerFraction_fr = 0;
		e.f_updateAllFlows( 0 );
	}
	else if( e.energyAssetType == OL_EnergyAssetType.LIVESTOCK ) {
		e.v_powerFraction_fr = 1.0/8760;
		e.f_updateAllFlows( e.v_powerFraction_fr );
		//traceln("Methane production of livestock: " + e.v_currentProductionMethane_kW);
	}
	else {
		traceln("ProductionAsset with unknown type, cannot operate!! Type: " + e.energyAssetType);
		e.v_powerFraction_fr = 0;
		throw new IllegalStateException("ProductionAsset with unknown type, cannot operate!! Type: " + e.energyAssetType);
	}
}

for(J_EAConsumption e : c_consumptionAssets) {
	if( e.energyAssetType == OL_EnergyAssetType.ELECTRICITY_DEMAND ) { // TODO: Replace with more descriptive EnergyAssetType, don't switch based on GridConnectionCategory!
		if (this instanceof GCHouse){
			double randomizer = 0.7 + uniform(0.0, 0.6);
			e.f_updateAllFlows( energyModel.v_currentHouseHoldOtherElectricityDemand_fr * randomizer );
		} else {
			switch(e.energyAssetName) {
				case "INDUSTRY_OTHER_ELECTRICITY_DEMAND":
					e.f_updateAllFlows( energyModel.v_currentIndustryOtherElectricityDemand_fr );
				break;
				case "Industry_other_electricity":
					e.f_updateAllFlows( energyModel.v_currentIndustryOtherElectricityDemand_fr );
				break;
				case "LOGISTICS_FLEET_HGV_E" :
					e.f_updateAllFlows( energyModel.v_currentLogisticsFleetEDemand_fr );
				break;
				case "INDUSTRY_STEEL_ELECTRICITY_DEMAND" :
					e.f_updateAllFlows( energyModel.v_currentIndustrySteelElectricityDemand_fr );
				break;
				case "House_other_electricity":
					//traceln("WRONG!! " + e.p_defaultEnergyAssetPresetName);
					double randomizer = 0.7 + uniform(0.0, 0.6);
					e.f_updateAllFlows( energyModel.v_currentHouseHoldOtherElectricityDemand_fr * randomizer );
				break;
				case "Office_other_electricity":
					e.f_updateAllFlows( energyModel.v_currentBuildingOtherElectricityDemand_fr );
				break;
				case "Store_other_electricity":
					e.f_updateAllFlows( energyModel.v_currentBuildingOtherElectricityDemand_fr );
				break;				
				default:
					traceln("ConsumptionAsset with unknown type, cannot operate!! Type: " + e.energyAssetType);
					throw new IllegalStateException("ELECTRICITY_DEMAND with unknown name, cannot operate!! Name: " + e.energyAssetName);
					// Try if the energyAssetName matches with one of the names in comp_elec_consumption
			}
		}
		v_fixedConsumptionElectric_kW += e.electricityConsumption_kW;
			
	} 
	else if( e.energyAssetType == OL_EnergyAssetType.HOT_WATER_CONSUMPTION ){	
		e.f_updateAllFlows( energyModel.v_currentHouseHoldHotWaterDemand_fr );
		//v_currentPowerHeat_kW += e.v_currentConsumptionHeat_kW - e.v_currentProductionHeat_kW; // PowerFlows van consumption assets worden al in f_calculateEnergyBalance opgeteld, dus dit is dubbel!
	}
	else if( e.energyAssetType == OL_EnergyAssetType.HEAT_DEMAND ) {
		//traceln("Heat demand asset ID: " + e.getName());
		switch(e.energyAssetName) {
			case "INDUSTRY_OTHER_HEAT_DEMAND":
				e.f_updateAllFlows( energyModel.v_currentIndustryOtherHeatDemand_fr );
				//e.v_powerFraction_fr = 1.0/8760;
				//e.f_updateAllFlows( e.v_powerFraction_fr );	
			break;
			case "Industry_steel_heat":
				e.f_updateAllFlows( energyModel.v_currentIndustrySteelHeatDemand_fr );
			break;
			case "Building_heat_demand":
				e.f_updateAllFlows( energyModel.v_currentBuildingHeatDemand_fr );
			break;
			default:
				traceln("ConsumptionAsset with unknown type, cannot operate!! Type: " + e.energyAssetType);
				throw new IllegalStateException("HEAT_DEMAND with unknown name, cannot operate!! Name: " + e.energyAssetName);
		}
		//v_currentPowerHeat_kW += e.v_currentConsumptionHeat_kW - e.v_currentProductionHeat_kW;
	} 
	/*	else if( e.p_energyAssetType == OL_EnergyAssetType.HEAT_DEMAND ) { // TODO: Re-introduce steel??
		e.f_updateAllFlows( main.v_currentIndustrySteelHeatDemand_fr );
	}*/
	else if( e.energyAssetType == OL_EnergyAssetType.HYDROGEN_DEMAND ) {
		switch(e.energyAssetName) {
			case "INDUSTRY_OTHER_HYDROGEN_DEMAND":
				e.f_updateAllFlows( energyModel.v_currentIndustryOtherHeatDemand_fr ); // TODO: Get actual hydrogen-demand curve from ETM!
			break;
			default:
				traceln("ConsumptionAsset with unknown type, cannot operate!! Type: " + e.energyAssetType);
				throw new IllegalStateException("HEAT_DEMAND with unknown name, cannot operate!! Name: " + e.energyAssetName);
		}
		//v_currentPowerHydrogen_kW += e.v_currentConsumptionHydrogen_kW - e.v_currentProductionHydrogen_kW;
	} 
	else if( e.energyAssetType == OL_EnergyAssetType.DIESEL_VEHICLE ) {
		e.f_updateAllFlows(0);		
	}
	else if( e.energyAssetType == OL_EnergyAssetType.DIESEL_DEMAND ) {
		e.v_powerFraction_fr = 1.0/8760;
		e.f_updateAllFlows( e.v_powerFraction_fr );	
	}	
	else if( e.energyAssetType == OL_EnergyAssetType.METHANE_DEMAND ) {
		e.v_powerFraction_fr = 1.0/8760;
		e.f_updateAllFlows( e.v_powerFraction_fr );	
	}	
	else {
		traceln("ConsumptionAsset with unknown type, cannot operate!! Type: " + e.energyAssetType);
		e.v_powerFraction_fr = 0;
		throw new IllegalStateException("ConsumptionAsset with unknown type, cannot operate!! Type: " + e.energyAssetType);
	} 
}



]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1668983912731</Id>
					<Name><![CDATA[f_resetStates]]></Name>
					<X>1120</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_maxConnectionLoad_fr = 0;
v_totalEnergyProduced_MWh = 0;
v_totalEnergyUsed_MWh = 0;
v_previousPowerElectricity_kW = 0;
v_electricityPriceLowPassed_eurpkWh = 0;
v_batterySOC_fr = (p_batteryAsset == null) ? 0 : p_batteryAsset.getCurrentStateOfCharge();
v_currentElectricityPriceConsumption_eurpkWh  = 0;
v_currentLoadLowPassed_kW = 0;
//v_currentIndoorTemp_degC = (p_BuildingThermalAsset == null) ? 0 : p_BuildingThermalAsset.getCurrentTemperature();

// Reset energytotals
v_heatDrawn_kWh = 0;
v_heatDelivered_kWh = 0;
v_electricityConsumedFixedProfile_kWh = 0;
v_electricityProducedPV_kWh = 0;
v_electricityProducedWind_kWh = 0;
v_electricityConvertedToX_kWh = 0;
v_xConvertedToElectricity_kWh = 0;
v_electricityChargedByEVs_kWh = 0;
v_electricityDischargedByEVs_kWh = 0;
v_electricityChargedByBattery_kWh = 0;
v_electricityDischargedByBattery_kWh = 0;
v_electricityDrawnFromGrid_kWh = 0;
v_electricityDeliveredToGrid_kWh = 0;
v_methaneDrawn_kWh = 0;
v_methaneDelivered_kWh = 0;
v_dieselDrawn_kWh = 0;
v_dieselDelivered_kWh = 0;
v_hydrogenDrawn_kWh = 0;
v_hydrogenDelivered_kWh = 0;

v_weekdayTotalImport_MWh = 0;
v_weekdayTotalExport_MWh = 0;
v_weekdayEnergyProduced_MWh = 0;
v_weekdayEnergyUsed_MWh = 0;

v_daytimeTotalImport_MWh = 0;
v_daytimeTotalExport_MWh = 0;
v_daytimeEnergyProduced_MWh = 0;
v_daytimeEnergyUsed_MWh = 0;

v_totalElectricityConsumed_MWh = 0;
v_totalElectricityProduced_MWh = 0;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669022552777</Id>
					<Name><![CDATA[f_batteryManagementBalance]]></Name>
					<X>800</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[batterySOC]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[//traceln("Battery storage capacity: " + ((J_EAStorageElectric)p_batteryAsset.j_ea).getStorageCapacity_kWh());
if (p_batteryAsset.getStorageCapacity_kWh() != 0){
	double electricitySurplus_kW = - v_currentPowerElectricity_kW; // still excludes battery power
	//v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( electricitySurplus_kW - v_electricityPriceLowPassed_eurpkWh );
	
	double connectionCapacity_kW = v_allowedCapacity_kW; // Use only 90% of capacity for robustness against delay
	double availableChargePower_kW = connectionCapacity_kW + electricitySurplus_kW; // Max battery charging power within grid capacity
	double availableDischargePower_kW = electricitySurplus_kW - connectionCapacity_kW; // Max discharging power within grid capacity

	double SOC_setp_fr = 0.5;
	//traceln("Current price is " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, between " + currentPricePowerBandNeg_kW + " kW and " + currentPricePowerBandPos_kW + " kW");
	if (!c_vehicleAssets.isEmpty()) {
		SOC_setp_fr = 0.6 + 0.25 * Math.sin(2*Math.PI*(time(HOUR)-12)/24); // Sinusoidal setpoint: aim for low SOC at 6:00h, high SOC at 18:00h. 
	} else if (p_gridConnectionCategory == OL_GridConnectionCategory.WINDFARM) { // Look at weather forecast to charge/discharge battery
			SOC_setp_fr = 0.9 - 0.8 * energyModel.v_WindYieldForecast_fr;
			//traceln("Forecast-based SOC setpoint: " + SOC_setp_fr + " %");
	}
	//traceln("SOC setpoint at " + getHourOfDay() + " h is " + SOC_setp_fr*100 + "%");
	double FeedbackGain_kWpSOC = 1.5 * p_batteryAsset.getElectricCapacity_kW(); // How strongly to aim for SOC setpoint
	double FeedforwardGain_kWpKw = 0.8; // Feedforward based on current surpluss in Coop
	double chargeOffset_kW = 100; // Charging 'bias', basically increases SOC setpoint slightly during the whole day.
	double chargeSetpoint_kW = 0;
	chargeSetpoint_kW = FeedforwardGain_kWpKw * (electricitySurplus_kW + chargeOffset_kW) + (SOC_setp_fr - batterySOC) * FeedbackGain_kWpSOC;
	chargeSetpoint_kW = min(max(chargeSetpoint_kW, availableDischargePower_kW),availableChargePower_kW); // Don't allow too much (dis)charging!
	p_batteryAsset.v_powerFraction_fr = max(-1,min(1, chargeSetpoint_kW / p_batteryAsset.getElectricCapacity_kW())); // Convert to powerFraction and limit power
	//traceln("Coop surpluss " + currentCoopElectricitySurplus_kW + "kW, Battery charging power " + p_batteryAsset.v_powerFraction_fr*p_batteryAsset.j_ea.getElectricCapacity_kW() + " kW at " + currentBatteryStateOfCharge*100 + " % SOC");
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669022552780</Id>
					<Name><![CDATA[f_batteryManagementPrice]]></Name>
					<X>800</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[currentBatteryStateOfCharge]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[if (p_batteryAsset.getStorageCapacity_kWh() != 0){
	//double willingnessToPayDefault_eurpkWh = 0.3;
	double chargeDischarge_offset_eurpkWh = 0.0;
	double WTPfeedbackGain_eurpSOC = 0.25; // When SOC-error is 100%, adjust WTP price by 1 eurpkWh
	double priceGain = 2; // How strongly to ramp up power with price-delta's
	//double congestionTariffCoop_eurpkWh = -(((ConnectionOwner)p_ownerActor).p_CoopParent.v_electricitySurplus_kW + v_previousPowerElectricity_kW)/1200*0.1;
	
	double chargeSetpoint_kW = 0;
	
	if(l_ownerActor.getConnectedAgent() instanceof ConnectionOwner) {
		ConnectionOwner ownerActor = (ConnectionOwner)l_ownerActor.getConnectedAgent();
		//traceln("Initial Mappings are: " + ((ConnectionOwner)p_ownerActor).v_currentPriceBands);
		double currentElectricityPriceCharge_eurpkWh = ownerActor.f_getElectricityPrice(v_currentPowerElectricity_kW+100.0); // query price at 100kW charging
		double currentElectricityPriceDischarge_eurpkWh = ownerActor.f_getElectricityPrice(v_currentPowerElectricity_kW-100.0); // query price at -100kW charging
		//double lowPassFraction = min(1,1*1.2*energyModel.p_timeStep_h); // smaller value results in more filtering
		v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( currentElectricityPriceCharge_eurpkWh - v_electricityPriceLowPassed_eurpkWh );
		
		//double currentPricePowerBandPos_kW = ownerActor.v_priceBandsDelivery.ceilingKey(100.0); // Up to what power does this price hold?
		//double currentPricePowerBandNeg_kW = ownerActor.v_priceBandsDelivery.floorKey(100.0); // Down to what power does this price hold?
		
		double SOC_setp_fr = 0.5;
		//traceln("Current price is " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, between " + currentPricePowerBandNeg_kW + " kW and " + currentPricePowerBandPos_kW + " kW");
		if (!c_vehicleAssets.isEmpty()) {
			SOC_setp_fr = 0.5 + 0.25 * Math.sin(2*Math.PI*(time(HOUR)-12)/24); // Sinusoidal setpoint: aim for low SOC at 6:00h, high SOC at 18:00h. 
		} else if (p_gridConnectionCategory == OL_GridConnectionCategory.WINDFARM) {
			SOC_setp_fr = 0.9 - 0.8 * energyModel.v_WindYieldForecast_fr;
			//traceln("Forecast-based SOC setpoint: " + SOC_setp_fr + " %");
		}
		double SOC_deficit_fr = SOC_setp_fr - currentBatteryStateOfCharge; // How far away from desired SOC? SOC too LOW is a POSITIVE deficit
		
		// Define WTP price for charging and discharging!
		double WTP_charge_eurpkWh = v_electricityPriceLowPassed_eurpkWh - chargeDischarge_offset_eurpkWh + SOC_deficit_fr * WTPfeedbackGain_eurpSOC;
		double WTP_discharge_eurpkWh = v_electricityPriceLowPassed_eurpkWh + chargeDischarge_offset_eurpkWh + SOC_deficit_fr * WTPfeedbackGain_eurpSOC;
		
		//traceln("WTP charge is " + WTP_charge_eurpkWh + " eurpkWh, discharge is " + WTP_discharge_eurpkWh + " eurpkWh");
		// Choose charging power based on prices and desired SOC level
		if ( WTP_charge_eurpkWh > currentElectricityPriceCharge_eurpkWh ) { // if willingness to pay higher than current electricity price
			//chargeSetpoint_kW = min(p_batteryAsset.getElectricCapacity_kW()*(WTP_charge_eurpkWh - currentElectricityPriceCharge_eurpkWh)*priceGain, currentPricePowerBandPos_kW)  ;
			chargeSetpoint_kW = p_batteryAsset.getElectricCapacity_kW()*(WTP_charge_eurpkWh - currentElectricityPriceCharge_eurpkWh)*priceGain;
			//traceln("WTP charge " + WTP_charge_eurpkWh + " eurpkWh is high than electricity price " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, so charge!") ;
		} else if (WTP_discharge_eurpkWh < currentElectricityPriceDischarge_eurpkWh) {
			//chargeSetpoint_kW = -min(p_batteryAsset.getElectricCapacity_kW()*(currentElectricityPriceDischarge_eurpkWh - WTP_discharge_eurpkWh)*priceGain, currentPricePowerBandPos_kW);
			chargeSetpoint_kW = -p_batteryAsset.getElectricCapacity_kW()*(currentElectricityPriceDischarge_eurpkWh - WTP_discharge_eurpkWh)*priceGain;
			//traceln("WTP discharge " + WTP_discharge_eurpkWh + " eurpkWh is lower than electricity price " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, so discharge!") ;
		}
		
		// limit charging power to available connection capacity
		boolean b_stayWithinConnectionLimits = true;
		if( b_stayWithinConnectionLimits ) {	
	
			double electricitySurplus_kW = - v_currentPowerElectricity_kW; 
			
			double availableChargePower_kW = electricitySurplus_kW + v_allowedCapacity_kW; // Max battery charging power within grid capacity
			double availableDischargePower_kW = electricitySurplus_kW - v_allowedCapacity_kW; // Max discharging power within grid capacity
			chargeSetpoint_kW = min(max(chargeSetpoint_kW, availableDischargePower_kW),availableChargePower_kW); // Don't allow too much (dis)charging!
		}			
	
		p_batteryAsset.v_powerFraction_fr = max(-1,min(1, chargeSetpoint_kW / p_batteryAsset.getElectricCapacity_kW())); // Convert to powerFraction and limit power
	}
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669025846794</Id>
					<Name><![CDATA[f_manageHeatingAssets]]></Name>
					<X>800</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// TODO: This only works for fixed heat demands; also need to implement heating of a building modeled as a ThermalStorageAsset! [GH 21/11/2022]
double powerDemand_kW = v_currentPowerHeat_kW;
if ( p_BuildingThermalAsset == null ) {
	if ( p_secondaryHeatingAsset == null ) { // Just one heating asset
		if ( p_primaryHeatingAsset== null ) {
			if (powerDemand_kW > 0) {
				traceln("No heating assets for GridConnection " + p_gridConnectionID);
			}
		} else {
			if ( p_primaryHeatingAsset instanceof J_EAConversionGasBurner || p_primaryHeatingAsset instanceof J_EAConversionHeatDeliverySet || p_primaryHeatingAsset instanceof J_EAConversionHydrogenBurner || p_primaryHeatingAsset instanceof J_EAConversionHeatPump) { // when there is only a gas burner or DH set
					p_primaryHeatingAsset.v_powerFraction_fr = min(1,powerDemand_kW / p_primaryHeatingAsset.getHeatCapacity_kW());
					//traceln("Running manageHeatingAsset for single heating asset");
			} else {
				traceln("GridConnection " + p_gridConnectionID + " has a single unsupported heating asset!");
			}
		}
	} else { // Two heating assets
		if ( p_primaryHeatingAsset instanceof J_EAConversionHeatPump & p_secondaryHeatingAsset instanceof J_EAConversionGasBurner) { // Heatpump and gasburner, switch based on heatpump COP)
			//((J_EAConversionHeatPump)p_primaryHeatingAsset.j_ea).updateAmbientTemp(main.v_currentAmbientTemperature_degC); // update heatpump temp levels! <-- waarom dit gebeurt al in de main (peter 21-02-23)
			double HP_COP = ((J_EAConversionHeatPump)p_primaryHeatingAsset).getCOP();
			double COP_tres = 3.5; // TODO: Make data agnostic! Also, this line doesn't have to be evaluated every timestep.
			if ( HP_COP < COP_tres ) { // switch to gasburner when HP COP is below treshold
				//traceln("Hybrid HP: Switching to gas burner");
				p_primaryHeatingAsset.v_powerFraction_fr = 0;
				p_secondaryHeatingAsset.v_powerFraction_fr = min(1,powerDemand_kW / p_secondaryHeatingAsset.getHeatCapacity_kW());
			} else { // heatpump when COP is above treshold
				//traceln("Hybrid HP: Using heatpump with COP " + HP_COP);
				p_primaryHeatingAsset.v_powerFraction_fr = min(1,powerDemand_kW / p_primaryHeatingAsset.getHeatCapacity_kW());
				p_secondaryHeatingAsset.v_powerFraction_fr = 0;//min(1,currentDHWdemand_kW / p_secondaryHeatingAsset.j_ea.getHeatCapacity_kW());
			}
		} else {
			traceln("**** EXCEPTION ****: Unsupported combination of heatings systems in house " + p_gridConnectionID);
			p_primaryHeatingAsset.v_powerFraction_fr = 0;
			p_secondaryHeatingAsset.v_powerFraction_fr = 0;
			//p_BuildingThermalAsset.v_powerFraction_fr = 0;
		}
		p_secondaryHeatingAsset.f_updateAllFlows(p_secondaryHeatingAsset.v_powerFraction_fr);
		v_conversionPowerElectric_kW += p_primaryHeatingAsset.electricityConsumption_kW - p_primaryHeatingAsset.electricityProduction_kW;
	}
	if (p_primaryHeatingAsset != null) {
		p_primaryHeatingAsset.f_updateAllFlows(p_primaryHeatingAsset.v_powerFraction_fr);
		v_conversionPowerElectric_kW += p_primaryHeatingAsset.electricityConsumption_kW - p_primaryHeatingAsset.electricityProduction_kW;
	}
} else { // TODO: Implement thermostat functionality for thermal storage asset. Where to get temp setpoint?
	traceln("No thermostat functionality available to manage p_BuildingThermalAsset!!");
	p_primaryHeatingAsset.f_updateAllFlows(0);
	v_conversionPowerElectric_kW += p_primaryHeatingAsset.electricityConsumption_kW - p_primaryHeatingAsset.electricityProduction_kW;
	p_secondaryHeatingAsset.f_updateAllFlows(0);
	v_conversionPowerElectric_kW += p_secondaryHeatingAsset.electricityConsumption_kW - p_secondaryHeatingAsset.electricityProduction_kW;
	p_BuildingThermalAsset.f_updateAllFlows(0);
}


]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669193537955</Id>
					<Name><![CDATA[f_setAllowedCapacity]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>750</X><Y>-60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_allowedCapacity_kW = p_connectionCapacity_kW;
//if(p_nfatoLvl_kW == 0 && p_nfatoStart_HR == 0 && p_nfatoEnd_HR == 0){
if(!v_enable_nfATO_b){
	e_startNonFirmATO.reset();
	e_endNonFirmATO.reset();			
}
else {
	e_startNonFirmATO.restartTo(p_nfatoStart_h, HOUR);
	e_endNonFirmATO.restartTo(p_nfatoEnd_h, HOUR);
	if(p_nfatoLvl_kW == 0.0) { p_nfatoLvl_kW = p_connectionCapacity_kW; }
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1671095995172</Id>
					<Name><![CDATA[f_manageCharging]]></Name>
					<X>800</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double availableCapacityFromBatteries = p_batteryAsset == null ? 0 : p_batteryAsset.getCapacityAvailable_kW(); 
//double availableChargingCapacity = v_allowedCapacity_kW + availableCapacityFromBatteries - v_currentPowerElectricity_kW;
double availableChargingCapacity = p_connectionCapacity_kW + availableCapacityFromBatteries - v_currentPowerElectricity_kW;
switch (p_chargingAttitudeVehicles) {
	case SIMPLE:
		f_simpleCharging();
	break;
	case MAX_SPREAD:
		traceln("***Warning*** MAX_SPREAD charging mode deprecated!!");
		//f_maxSpreadCharging();
	break;
	case MAX_POWER:
		f_maxPowerCharging( max(0, availableChargingCapacity));
	break;
	case CHEAP:
		v_currentElectricityPriceConsumption_eurpkWh = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).f_getElectricityPrice(p_connectionCapacity_kW); 
		v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( v_currentElectricityPriceConsumption_eurpkWh - v_electricityPriceLowPassed_eurpkWh );
		f_chargeOnPrice( v_currentElectricityPriceConsumption_eurpkWh, max(0, availableChargingCapacity));
	break;
	case V2G:
		v_currentElectricityPriceConsumption_eurpkWh = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).f_getElectricityPrice(p_connectionCapacity_kW); 
		v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( v_currentElectricityPriceConsumption_eurpkWh - v_electricityPriceLowPassed_eurpkWh );
		f_chargeOnPrice_V2G( v_currentElectricityPriceConsumption_eurpkWh, max(0, availableChargingCapacity));
	break;
}
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1671095995175</Id>
					<Name><![CDATA[f_simpleCharging]]></Name>
					<Description><![CDATA[Charging when arriving home, not taking grid limits into account]]></Description>
					<X>830</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[ArrayList<J_EAEV> copiedVehicleList = new ArrayList<J_EAEV>(c_vehiclesAvailableForCharging);
int countDeletedItems = 0;
for ( int i = 0; i < copiedVehicleList.size(); i++ ){
	//EnergyAsset EA = copiedVehicleList.get(i);
	J_EAEV ev = copiedVehicleList.get(i);
	if( !ev.getAvailability() || ev.getCurrentStateOfCharge() == 1 ){
		ev.f_updateAllFlows( 0.0 );
		//ev.operateBounded(0);
		c_vehiclesAvailableForCharging.remove( i - countDeletedItems );
		countDeletedItems ++;
	}
	else {
		if (ev.vehicleScaling != 0) {
			ev.f_updateAllFlows(1);
			v_evChargingPowerElectric_kW += ev.electricityConsumption_kW - ev.electricityProduction_kW;
		}
	}
}

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1671095995177</Id>
					<Name><![CDATA[f_maxSpreadCharging]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>830</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[ArrayList<EnergyAsset> copiedVehicleList = new ArrayList<EnergyAsset>(c_vehiclesAvailableForCharging);
int countDeletedItems = 0;

for ( int i = 0; i < copiedVehicleList.size(); i++ ){
	EnergyAsset EA = copiedVehicleList.get(i);
	J_EAEV ev = (J_EAEV)EA.j_ea;
	if(!ev.getAvailability() ){
		EA.f_updateElectricityFlows( 0 );
		c_vehiclesAvailableForCharging.remove( i - countDeletedItems );
		countDeletedItems ++;
	}
	if( ev.getCurrentStateOfCharge() < 1 ) {
		v_evChargingPowerElectric_kW += EA.f_updateElectricityFlows( ev.getMaxSpreadChargingRatio() );
		//traceln( "charging ratio " + ev.getMaxSpreadChargingRatio());
		//traceln( "charging speed " + ev.getElectricCapacity_kW() * ev.getMaxSpreadChargingRatio());
	}
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1671095995179</Id>
					<Name><![CDATA[f_maxPowerCharging]]></Name>
					<Description><![CDATA[Charge at max power taking grid constaints into account]]></Description>
					<X>830</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[availableCapacityForCharging]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[double totalElectricVehiclesCharging = sum( c_vehiclesAvailableForCharging, x -> x.vehicleScaling);
double maxChargingSpeed = availableCapacityForCharging / totalElectricVehiclesCharging;
ArrayList<J_EAEV> copiedVehicleList = new ArrayList<J_EAEV>(c_vehiclesAvailableForCharging);
int countDeletedItems = 0;
for ( int i = 0; i < copiedVehicleList.size(); i++ ){
	//EnergyAsset EA = copiedVehicleList.get(i);
	J_EAEV ev = copiedVehicleList.get(i);
	if( !ev.getAvailability() || ev.getCurrentStateOfCharge() == 1 ){
		ev.f_updateAllFlows( 0 );
		c_vehiclesAvailableForCharging.remove( i - countDeletedItems );
		countDeletedItems ++;
	}
	else {
		if (ev.vehicleScaling != 0) {
			double chargingSpeed = min (maxChargingSpeed, ev.capacityElectric_kW / ev.vehicleScaling );
			double ratio_fr = chargingSpeed / (ev.capacityElectric_kW / ev.vehicleScaling);
			/*if ( ev.getChargingTimeToFull_MIN() > EA.nextEventStartTime_min - energyModel.p_timeStep_h * 60 ){
				ratio = 1;
			}*/
			ev.f_updateAllFlows( ratio_fr );
			v_evChargingPowerElectric_kW += ev.electricityConsumption_kW - ev.electricityProduction_kW;
		}
	}
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1671095995181</Id>
					<Name><![CDATA[f_chargeOnPrice]]></Name>
					<X>830</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[currentElectricityPriceConsumption_eurpkWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[availableChargingPower_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[ArrayList<J_EAEV> copiedVehicleList = new ArrayList<J_EAEV>(c_vehiclesAvailableForCharging);
int countDeletedItems = 0;

double remainingChargePower_kW = availableChargingPower_kW;

for ( int i = 0; i < copiedVehicleList.size(); i++ ){
	J_EAEV vehicle = copiedVehicleList.get(i);
	if(!vehicle.getAvailability() ){
		vehicle.f_updateAllFlows( 0 );
		c_vehiclesAvailableForCharging.remove( i - countDeletedItems );
		countDeletedItems ++;
	} else {
		//double availableChargingPower_kW = v_allowedCapacity_kW - v_currentPowerElectricity_kW - v_chargingPower_kW;
		double chargeNeedForNextTrip_kWh = max(0, vehicle.energyNeedForNextTrip_kWh - vehicle.getStorageCapacity_kWh()*vehicle.getCurrentStateOfCharge());
		//double timeToNexTrip_min = vehicle.getMobilityTracker().v_nextTripStartTime_min - time( MINUTE );
		double maxChargingPower_kW = vehicle.getElectricCapacity_kW();
		double timeToNextTrip_min = vehicle.tripTracker.v_nextEventStartTime_min - time ( MINUTE );
		double chargeDeadline_min = floor((vehicle.tripTracker.v_nextEventStartTime_min / 60 - chargeNeedForNextTrip_kWh / maxChargingPower_kW) / energyModel.p_timeStep_h) * 60 * energyModel.p_timeStep_h;

		double priceGain_kWhpeur = 1; // When WTP is higher than current electricity price, ramp up charging power with this gain based on the price-delta.
		double urgencyGain_eurpkWh = 0.4; // How strongly WTP-price shifts based on charging flexibility
		double maxSpreadChargingPower_kW = min(chargeNeedForNextTrip_kWh / (max(1, timeToNextTrip_min - v_additionalTimeSpreadCharging_MIN) / 60), maxChargingPower_kW);
		//traceln("maxSpreadChargingPower_kW" + maxSpreadChargingPower_kW);
		double WTPoffset_eurpkWh = 0.05*(1-energyModel.v_WindYieldForecast_fr);//0.15; // Adds an offset to the WTP price; this value is very much context specific, depending on market conditions during charging periods
		
		double chargeSetpoint_kW = 0;

		if ( time(MINUTE) >= chargeDeadline_min & chargeNeedForNextTrip_kWh > 0) { // Must-charge time at max charging power
			//traceln("Urgency charging! May exceed connection capacity!");
			chargeSetpoint_kW = maxChargingPower_kW;				
		} else if ( vehicle.getCurrentStateOfCharge() < 0.15 ) {
			chargeSetpoint_kW = min(remainingChargePower_kW, maxChargingPower_kW);
		} else {
			//double WTPprice_eurpkWh = v_electricityPriceLowPassed_eurpkWh - flexibilityGain_eurph * (chargeDeadline_min - time(MINUTE) - 600);
			v_WTPCharging_eurpkWh = WTPoffset_eurpkWh + v_electricityPriceLowPassed_eurpkWh + urgencyGain_eurpkWh * ( maxSpreadChargingPower_kW / maxChargingPower_kW ); // Scale WTP based on flexibility expressed in terms of power-fraction
			//WTPprice_eurpkWh = WTPoffset_eurpkWh + (main.v_epexNext24hours_eurpkWh+v_electricityPriceLowPassed_eurpkWh)/2 + flexibilityGain_eurpkWh * sqrt(maxSpreadChargingPower_kW/maxChargingPower_kW); // Scale WTP based on flexibility expressed in terms of power-fraction
			chargeSetpoint_kW = max(0, maxChargingPower_kW * (v_WTPCharging_eurpkWh / currentElectricityPriceConsumption_eurpkWh - 1) * priceGain_kWhpeur);
			chargeSetpoint_kW = min(remainingChargePower_kW, chargeSetpoint_kW);
			//traceln("Trying to charge cheaply, time " + time(MINUTE) + " minutes, charge setpoint: " + chargeSetpoint_kW + " kW");
			/*if (this.getIndex() == 0){
				traceln("wtp = " + v_WTPCharging_eurpkWh);
				traceln("remainingChargePower_kW: " + remainingChargePower_kW + "charge setpoint kW: " + chargeSetpoint_kW);
			}*/
		}
		//}
		//traceln("Hello! Charge setpoint: " + chargeSetpoint_kW);
		vehicle.f_updateAllFlows( chargeSetpoint_kW / maxChargingPower_kW );
		v_evChargingPowerElectric_kW += vehicle.electricityConsumption_kW - vehicle.electricityProduction_kW;
		remainingChargePower_kW = availableChargingPower_kW - v_evChargingPowerElectric_kW;
		
	}
	if( this instanceof GCHouse){
	((GCHouse)this).v_vehicleSOC_fr = vehicle.getCurrentStateOfCharge();
}
}

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[OL_priceLevels]]></ReturnType>
					<Id>1676476236040</Id>
					<Name><![CDATA[f_getPriceLevel]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[price]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[OL_priceLevels level = null;

if( price < v_electricityPriceLowPassed_eurpkWh - p_pricelevelLowDifFromAvg_eurpkWh ){
	level = OL_priceLevels.LOW;
}
else if ( price < v_electricityPriceLowPassed_eurpkWh + p_pricelevelHighDifFromAvg_eurpkWh){
	level = OL_priceLevels.MEDIUM;
}
else {
	level = OL_priceLevels.HIGH;
}

return level;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1677512714652</Id>
					<Name><![CDATA[f_setOperatingSwitches]]></Name>
					<X>800</X><Y>133</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if( this instanceof GCDistrictHeating ) { // Temporarily disabled while transfering to class-based energy assets!
	((GCDistrictHeating)this).f_setConfigurationBooleans();
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1692799608559</Id>
					<Name><![CDATA[f_connectToJ_EA_default]]></Name>
					<X>972</X><Y>92</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[j_ea]]></Name>
						<Type><![CDATA[J_EA]]></Type>
					</Parameter>
					<Body><![CDATA[//main.c_energyAssets.add(j_ea);
c_energyAssets.add(j_ea);

if (j_ea instanceof J_EAVehicle) {
	J_EAVehicle vehicle = (J_EAVehicle)j_ea;
	if (vehicle instanceof J_EADieselVehicle) {
		//c_vehicleAssets.add( EA );
		c_dieselVehicles.add( (J_EADieselVehicle)vehicle );
		//c_consumptionAssets.add((J_EADieselVehicle)vehicle);		
	} else if (vehicle instanceof J_EAEV) {
		c_vehiclesAvailableForCharging.add((J_EAEV)vehicle);
		//c_storageAssets.add((J_EAEV)vehicle);
	}
	c_vehicleAssets.add(vehicle);		
	J_ActivityTrackerTrips tripTracker;
	if (vehicle.energyAssetType == OL_EnergyAssetType.ELECTRIC_HEAVY_GOODS_VEHICLE || vehicle.energyAssetType == OL_EnergyAssetType.DIESEL_TRUCK) {
		int rowIndex = uniform_discr(1, 7);//getIndex() % 200;	
		tripTracker = new J_ActivityTrackerTrips(energyModel, energyModel.p_truckTripsExcel, rowIndex, energyModel.t_h*60, vehicle);
	} else if (vehicle.energyAssetType == OL_EnergyAssetType.DIESEL_VAN) {// No mobility pattern for business vans available yet!! Falling back to private-vehicle mobility pattern
		int rowIndex = uniform_discr(1, 7);//getIndex() % 200;	
		tripTracker = new J_ActivityTrackerTrips(energyModel, energyModel.p_truckTripsExcel, rowIndex, energyModel.t_h*60, vehicle);
	} else {
		traceln("Adding passenger vehicle to gridconnection %s", this);
		int rowIndex = uniform_discr(1, 200);//getIndex() % 200;
		tripTracker = new J_ActivityTrackerTrips(energyModel, energyModel.p_householdTripsExcel, rowIndex, energyModel.t_h*60, vehicle);
	}
	c_tripTrackers.add( tripTracker );
	vehicle.tripTracker = tripTracker;	
	v_vehicleIndex ++;
} else if (j_ea instanceof J_EAConsumption) {
	c_consumptionAssets.add((J_EAConsumption)j_ea);	
	if (j_ea.energyAssetType == OL_EnergyAssetType.HOT_WATER_CONSUMPTION) {
		p_DHWAsset = (J_EAConsumption)j_ea;	
	}
} else if (j_ea instanceof J_EAProduction) {
	c_productionAssets.add((J_EAProduction)j_ea);
	//energyModel.c_productionAssets.add((J_EAProduction)j_ea);
	if (j_ea.energyAssetType == OL_EnergyAssetType.PHOTOVOLTAIC) { v_hasPV = true;}
} else if (j_ea instanceof J_EAConversion) {
	c_conversionAssets.add((J_EAConversion)j_ea);
	if ( j_ea.energyAssetType == OL_EnergyAssetType.GAS_PIT | j_ea.energyAssetType == OL_EnergyAssetType.ELECTRIC_HOB){
		//traceln("Adding HOB to house" + this);
		if (p_cookingTracker == null) {
			//traceln("Adding cookingTracker to house" + this);
			int rowIndex = uniform_discr(2, 300); 
			p_cookingTracker = new J_ActivityTrackerCooking(energyModel.p_cookingPatternExcel, rowIndex, time(MINUTE), (J_EAConversion)j_ea );			
		} else {
			p_cookingTracker.HOB = (J_EAConversion)j_ea;
		}
	} else if (j_ea instanceof J_EAConversionCurtailer) {
		p_curtailer = (J_EAConversionCurtailer)j_ea;
	} else if (j_ea instanceof J_EAConversionGasBurner) {
		p_primaryHeatingAsset = (J_EAConversion)j_ea;
	} else if (j_ea instanceof J_EAConversionHeatPump) {
		p_primaryHeatingAsset = (J_EAConversion)j_ea;
	}		
} else if  (j_ea instanceof J_EAStorage) {
	c_storageAssets.add((J_EAStorage)j_ea);
	if (j_ea.energyAssetType == OL_EnergyAssetType.BUILDINGTHERMALS) {
		//traceln("Adding buildingThermals to gridconnection");	
		p_BuildingThermalAsset = (J_EABuilding)j_ea;
			/*if ( p_energyLabel != null & p_gridConnectionType != null){ // Get building thermals from lookup table when isolation label and house type are available
				double lossFactor_WpK2 = energyModel.v_buildingThermalPars.path( p_gridConnectionType.name() ).path(p_energyLabel.name()).path("lossFactor_WpK").doubleValue();
				double heatCapacity_JpK2 = energyModel.v_buildingThermalPars.path( p_gridConnectionType.name() ).path(p_energyLabel.name()).path("heatCapacity_JpK").doubleValue();
				p_BuildingThermalAsset.lossFactor_WpK = lossFactor_WpK2;
				p_BuildingThermalAsset.heatCapacity_JpK = heatCapacity_JpK2;
				traceln("House thermal model updated!");
				traceln("House type: %s, energy label: %s", p_gridConnectionType, p_energyLabel);
				traceln("lossfactor %s, heatcapacity %s", lossFactor_WpK2, heatCapacity_JpK2);
			}*/ // Deprecated get lossfactor and heatcapacity from json-input. Replace with other datasource!
		p_BuildingThermalAsset.updateAmbientTemperature( energyModel.v_currentAmbientTemperature_degC );
		//v_tempSetpoint_degC = p_BuildingThermalAsset.setTemperature_degC;		
		energyModel.c_ambientAirDependentAssets.add(p_BuildingThermalAsset);
	} else if (j_ea instanceof J_EAStorageGas) {
		p_gasBuffer = (J_EAStorageGas)j_ea;
	} else if (j_ea instanceof J_EAStorageElectric) {
		p_batteryAsset = (J_EAStorageElectric)j_ea;
	}
} else if  (j_ea instanceof J_EAProfile) {
	//p_energyProfile = (J_EAProfile)j_ea;
	c_profileAssets.add((J_EAProfile)j_ea);
} else {
	traceln("Unrecognized energy asset %s in gridconnection %s", j_ea, this);
}
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1693307881182</Id>
					<Name><![CDATA[f_connectToJ_EA]]></Name>
					<X>801</X><Y>92</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[j_ea]]></Name>
						<Type><![CDATA[J_EA]]></Type>
					</Parameter>
					<Body><![CDATA[f_connectToJ_EA_default(j_ea);
// Abstract method to be used call GC-subtype specific functions]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1695822607494</Id>
					<Name><![CDATA[f_chargeOnPrice_V2G]]></Name>
					<X>830</X><Y>460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[currentElectricityPriceConsumption_eurpkWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[availableChargingPower_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[ArrayList<J_EAEV> copiedVehicleList = new ArrayList<J_EAEV>(c_vehiclesAvailableForCharging);
int countDeletedItems = 0;

double remainingChargePower_kW = availableChargingPower_kW;

for ( int i = 0; i < copiedVehicleList.size(); i++ ){
	J_EAEV vehicle = copiedVehicleList.get(i);
	if(!vehicle.getAvailability() ){
		vehicle.f_updateAllFlows( 0 );
		c_vehiclesAvailableForCharging.remove( i - countDeletedItems );
		countDeletedItems ++;
	} else {
		//double availableChargingPower_kW = v_allowedCapacity_kW - v_currentPowerElectricity_kW - v_chargingPower_kW;
		double chargeNeedForNextTrip_kWh = vehicle.energyNeedForNextTrip_kWh - vehicle.getStorageCapacity_kWh()*vehicle.getCurrentStateOfCharge();
		//double timeToNexTrip_min = vehicle.getMobilityTracker().v_nextTripStartTime_min - time( MINUTE );
		double maxChargingPower_kW = vehicle.getElectricCapacity_kW();
		double timeToNextTrip_min = vehicle.tripTracker.v_nextEventStartTime_min - time ( MINUTE );
		double chargeDeadline_min = floor((vehicle.tripTracker.v_nextEventStartTime_min / 60 - chargeNeedForNextTrip_kWh / maxChargingPower_kW) / energyModel.p_timeStep_h) * 60 * energyModel.p_timeStep_h;

		double priceGain_kWhpeur = 1; // When WTP is higher than current electricity price, ramp up charging power with this gain based on the price-delta.
		double urgencyGain_eurpkWh = 0.4; // How strongly WTP-price shifts based on charging flexibility
		double maxSpreadChargingPower_kW = min(chargeNeedForNextTrip_kWh / (max(1, timeToNextTrip_min - v_additionalTimeSpreadCharging_MIN) / 60), maxChargingPower_kW);
		//traceln("maxSpreadChargingPower_kW" + maxSpreadChargingPower_kW);
		double WTPoffset_eurpkWh = 0;
		if (energyModel.v_totalInstalledWindPower_kW > 499) {
			WTPoffset_eurpkWh = 0.05*(1-energyModel.v_WindYieldForecast_fr);//0.15; // Adds an offset to the WTP price; this value is very much context specific, depending on market conditions during charging periods
		} else {
			WTPoffset_eurpkWh = 0.02;
		}
		double V2G_WTR_offset_eurpkWh = 0.05;
		double chargeSetpoint_kW = 0;

		if ( time(MINUTE) >= chargeDeadline_min & chargeNeedForNextTrip_kWh > 0) { // Must-charge time at max charging power
			//traceln("Urgency charging! May exceed connection capacity!");
			chargeSetpoint_kW = maxChargingPower_kW;				
		} else if ( vehicle.getCurrentStateOfCharge() < 0.15 ) {
			chargeSetpoint_kW = min(remainingChargePower_kW, maxChargingPower_kW);
		} else {
			//double WTPprice_eurpkWh = v_electricityPriceLowPassed_eurpkWh - flexibilityGain_eurph * (chargeDeadline_min - time(MINUTE) - 600);
			v_WTPCharging_eurpkWh = WTPoffset_eurpkWh + v_electricityPriceLowPassed_eurpkWh + urgencyGain_eurpkWh * ( max(0,maxSpreadChargingPower_kW) / maxChargingPower_kW ); // Scale WTP based on flexibility expressed in terms of power-fraction
			//WTPprice_eurpkWh = WTPoffset_eurpkWh + (main.v_epexNext24hours_eurpkWh+v_electricityPriceLowPassed_eurpkWh)/2 + flexibilityGain_eurpkWh * sqrt(maxSpreadChargingPower_kW/maxChargingPower_kW); // Scale WTP based on flexibility expressed in terms of power-fraction
			chargeSetpoint_kW = max(0, maxChargingPower_kW * (v_WTPCharging_eurpkWh / currentElectricityPriceConsumption_eurpkWh - 1) * priceGain_kWhpeur);
			chargeSetpoint_kW = min(remainingChargePower_kW, chargeSetpoint_kW);
			
			if ( chargeNeedForNextTrip_kWh < -maxChargingPower_kW*energyModel.p_timeStep_h && chargeSetpoint_kW == 0 ) { // Surpluss SOC and high energy price			
				v_WTRV2G_eurpkWh  = V2G_WTR_offset_eurpkWh + v_electricityPriceLowPassed_eurpkWh; // Scale WTP based on flexibility expressed in terms of power-fraction
				chargeSetpoint_kW = min(0, -maxChargingPower_kW * (currentElectricityPriceConsumption_eurpkWh / v_WTRV2G_eurpkWh - 1) * priceGain_kWhpeur);
				/*if (chargeSetpoint_kW < 0) {
					traceln(" V2G Active! Power: " + chargeSetpoint_kW );
				}*/
				
			}
			//traceln("Trying to charge cheaply, time " + time(MINUTE) + " minutes, charge setpoint: " + chargeSetpoint_kW + " kW");
			/*if (this.getIndex() == 0){
				traceln("wtp = " + v_WTPCharging_eurpkWh);
				traceln("remainingChargePower_kW: " + remainingChargePower_kW + "charge setpoint kW: " + chargeSetpoint_kW);
			}*/
		}
		vehicle.f_updateAllFlows( chargeSetpoint_kW / maxChargingPower_kW );
		v_evChargingPowerElectric_kW += vehicle.electricityConsumption_kW - vehicle.electricityProduction_kW;
		remainingChargePower_kW = availableChargingPower_kW - v_evChargingPowerElectric_kW;
		
	}
	if( this instanceof GCHouse){
		((GCHouse)this).v_vehicleSOC_fr = vehicle.getCurrentStateOfCharge();
	}
}

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1697034280311</Id>
					<Name><![CDATA[f_setColorDetailedObjects]]></Name>
					<X>330</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[/* if(p_company_connection_id != null){
	if (p_GISbuilding == null){
		traceln("Utility obect with ID " + p_company_connection_id + " and index " + this.getIndex() + " has no connected building");
	}
	else{
		p_GISbuilding.gisRegion.setFillColor(main.v_highlightParticipantsColor);
	}
}*/
traceln("f_setColorDetailedObjects not yet implemented!");]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1698854861644</Id>
					<Name><![CDATA[f_initialize]]></Name>
					<X>790</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//f_instantiateEnergyAssets();
f_connectToParentNode();
f_setOperatingSwitches();]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1701956274181</Id>
					<Name><![CDATA[f_calculateKPIs]]></Name>
					<X>780</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_totalImport_MWh=(v_electricityDrawnFromGrid_kWh + max(0,v_methaneDrawn_kWh-v_methaneDelivered_kWh) + max(0,v_hydrogenDrawn_kWh-v_hydrogenDelivered_kWh) + v_dieselDrawn_kWh)/1000;
v_totalExport_MWh=(v_electricityDeliveredToGrid_kWh + max(0,v_methaneDelivered_kWh-v_methaneDrawn_kWh) + max(0,v_hydrogenDelivered_kWh-v_hydrogenDrawn_kWh))/1000;
double totalEnergyProduced_MWh=0;
double totalEnergyUsed_MWh=0;
double totalEnergyCurtailed_MWh=0;
for (J_EA e : c_energyAssets) {
	double EnergyUsed_kWh = e.getEnergyUsed_kWh();			
	if (EnergyUsed_kWh > 0) {			
		if (e instanceof J_EAConversionCurtailer || e instanceof J_EAConversionCurtailerHeat) {
			totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
			totalEnergyCurtailed_MWh += EnergyUsed_kWh/1000;
		} else if( e instanceof J_EAConversionGasCHP ) {
			totalEnergyUsed_MWh += EnergyUsed_kWh/1000;					
		} else {
			totalEnergyUsed_MWh += EnergyUsed_kWh/1000;
		}		
		if ( e instanceof J_EABuilding ) {
			totalEnergyProduced_MWh += ((J_EABuilding)e).energyAbsorbed_kWh/1000;						
		}
	} else {				
		totalEnergyProduced_MWh -= EnergyUsed_kWh/1000;
	}
}
v_totalEnergyUsed_MWh = totalEnergyUsed_MWh;
v_totalEnergyProduced_MWh = totalEnergyProduced_MWh;		
v_totalSelfConsumedEnergy_MWh = max(0,v_totalEnergyUsed_MWh - v_totalImport_MWh); // Putting positive delta-stored energy here assumes this energy was imported as opposed to self-produced. Putting negative delta-stored energy here assumes this energy was self-consumed, as opposed to exported.	

// Electricity self consumption
v_totalElectricitySelfConsumed_MWh = max(0, v_totalElectricityConsumed_MWh - v_electricityDrawnFromGrid_kWh/1000);

// Daytime selfconsumption
v_daytimeSelfConsumedEnergy_MWh = v_daytimeEnergyProduced_MWh - v_daytimeTotalExport_MWh;
// Nighttime totals: yearly totays minus daytime totals
v_nighttimeTotalExport_MWh = v_totalExport_MWh - v_daytimeTotalExport_MWh;
v_nighttimeTotalImport_MWh = v_totalImport_MWh - v_daytimeTotalImport_MWh;
v_nighttimeEnergyUsed_MWh = v_totalEnergyUsed_MWh - v_daytimeEnergyUsed_MWh;
v_nighttimeEnergyProduced_MWh = v_totalEnergyProduced_MWh - v_daytimeEnergyProduced_MWh;
v_nighttimeSelfConsumedEnergy_MWh = v_nighttimeEnergyProduced_MWh - v_nighttimeTotalExport_MWh;

// Weekday selfconsumption
v_weekdaySelfConsumedEnergy_MWh = v_weekdayEnergyProduced_MWh - v_weekdayTotalExport_MWh;
// Weekend totals: yearly totals minus weekday totals
v_weekendTotalExport_MWh = v_totalExport_MWh - v_weekdayTotalExport_MWh;
v_weekendTotalImport_MWh = v_totalImport_MWh - v_weekdayTotalImport_MWh;
v_weekendEnergyUsed_MWh = v_totalEnergyUsed_MWh - v_weekdayEnergyUsed_MWh;
v_weekendEnergyProduced_MWh = v_totalEnergyProduced_MWh - v_weekdayEnergyProduced_MWh;
v_weekendSelfConsumedEnergy_MWh = v_weekendEnergyProduced_MWh - v_weekendTotalExport_MWh;


]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1702373771433</Id>
					<Name><![CDATA[f_addFlows]]></Name>
					<X>800</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[arr]]></Name>
						<Type><![CDATA[double[]]]></Type>
					</Parameter>
					<Body><![CDATA[// This function is called from each energy asset when its method f_updateAllFlows() is called!
// {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW, dieselConsumption_kW };    	
v_currentPowerElectricity_kW += arr[4] - arr[0];
v_currentPowerMethane_kW += arr[5] - arr[1];
v_currentPowerHydrogen_kW += arr[6] - arr[2];
v_currentPowerHeat_kW += arr[7] - arr[3];
v_currentPowerDiesel_kW += arr[8];

if (energyModel.v_isRapidRun) { // Collecting total electricity consumption and production in energyModel!
	v_totalElectricityConsumed_MWh += arr[4] * energyModel.p_timeStep_h / 1000;
	v_totalElectricityProduced_MWh += arr[0] * energyModel.p_timeStep_h / 1000;
}
]]></Body>
				</Function>
			</Functions>
			<AnalysisData>
    			<DataSet>
					<Id>1704787879732</Id>
					<Name><![CDATA[data_ElectricBalanceDuurkromme_kW]]></Name>
					<X>820</X><Y>1380</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>35040</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1704787879881</Id>
					<Name><![CDATA[data_annualElectricityBalance_kW]]></Name>
					<X>820</X><Y>1360</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>35040</SamplesToKeep>
				</DataSet>
			</AnalysisData>
			<AgentLinks>
				<AgentLink>
					<Id>1658499438198</Id>
					<Name><![CDATA[connections]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>40</X><Y>-130</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[TreeMap<Double, Double>]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658499472169</Id>
					<Name><![CDATA[superConnection]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>40</X><Y>-90</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658499483833</Id>
					<Name><![CDATA[assetLinks]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>40</X><Y>-170</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1671020599243</Id>
					<Name><![CDATA[l_ownerActor]]></Name>
					<X>56</X><Y>90</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>SINGLE_LINK</AgentLinkType>
					<AgentReferenceId>1674662535386</AgentReferenceId>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<BidirectionalPeerId>1704289471860</BidirectionalPeerId>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1671020640665</Id>
					<Name><![CDATA[l_parentNodeElectric]]></Name>
					<X>57</X><Y>120</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>SINGLE_LINK</AgentLinkType>
					<AgentReferenceId>1658477288308</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1671020671349</Id>
					<Name><![CDATA[l_parentNodeHeat]]></Name>
					<X>58</X><Y>148</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>SINGLE_LINK</AgentLinkType>
					<AgentReferenceId>1658477288308</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1693310211914</Id>
					<Name><![CDATA[energyModel]]></Name>
					<X>40</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1658499438202</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Rectangle>
					<Id>1674329507571</Id>
					<Name><![CDATA[rectangle3]]></Name>
					<X>20</X><Y>860</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>780</Width>
					<Height>740</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-983041</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1671027904662</Id>
					<Name><![CDATA[rectangle]]></Name>
					<X>100</X><Y>940</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-4144960</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>280</Width>
					<Height>610</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-131341</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1667905599124</Id>
					<Name><![CDATA[text]]></Name>
					<X>50</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[ID & connections]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667905621972</Id>
					<Name><![CDATA[line]]></Name>
					<X>20</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1667905636672</Id>
					<Name><![CDATA[line1]]></Name>
					<X>230</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667905636674</Id>
					<Name><![CDATA[text1]]></Name>
					<X>260</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Characteristics]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667905687082</Id>
					<Name><![CDATA[line2]]></Name>
					<X>460</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667905687085</Id>
					<Name><![CDATA[text2]]></Name>
					<X>510</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Assets]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1667905952899</Id>
					<Name><![CDATA[text4]]></Name>
					<X>820</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Functions]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667905952903</Id>
					<Name><![CDATA[line4]]></Name>
					<X>770</X><Y>30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1667915385672</Id>
					<Name><![CDATA[line5]]></Name>
					<X>740</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>90</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667915403157</Id>
					<Name><![CDATA[text5]]></Name>
					<X>720</X><Y>86</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Init]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1667915419987</Id>
					<Name><![CDATA[text6]]></Name>
					<X>720</X><Y>290</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Occuring]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667915419990</Id>
					<Name><![CDATA[line6]]></Name>
					<X>740</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>190</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1667918827406</Id>
					<Name><![CDATA[line7]]></Name>
					<X>-220</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667918827418</Id>
					<Name><![CDATA[text7]]></Name>
					<X>-180</X><Y>360</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Not visible]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
    			<TimePlot>
					<Id>1668439095469</Id>
					<Name><![CDATA[pl_powerFlows]]></Name>
					<X>0</X><Y>570</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1668499200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[15]]></Code>
						<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>500</Width>
					<Height>280</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>420</Width>
						<Height>160</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>60</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[Consumption assets demand [kW]]]></Title>
					<Id>1668439095463</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-10496</Color>
					<Expression2><![CDATA[sum(c_consumptionAssets, x -> x.electricityConsumption_kW)]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Production assets output [kW]]]></Title>
					<Id>1668439095464</Id>
					<Expression><![CDATA[my_dataset1]]></Expression>
					<Color>-3137392</Color>
					<Expression2><![CDATA[-sum(c_productionAssets, x -> x.electricityProduction_kW)]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Conversion assets demand [kW]]]></Title>
					<Id>1668439095465</Id>
					<Expression><![CDATA[my_dataset2]]></Expression>
					<Color>-32944</Color>
					<Expression2><![CDATA[sum(c_conversionAssets, x -> x.electricityConsumption_kW) - sum(c_conversionAssets, x -> x.electricityProduction_kW)]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[EV charging demand [kW]]]></Title>
					<Id>1668439095466</Id>
					<Expression><![CDATA[my_dataset3]]></Expression>
					<Color>-13447886</Color>
					<Expression2><![CDATA[v_evChargingPowerElectric_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>2.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Battery load [kW]]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset4]]></Expression>
					<Color>-8388608</Color>
					<Expression2><![CDATA[v_batteryPowerElectric_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[NET LOAD]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset5]]></Expression>
					<Color>-16776961</Color>
					<Expression2><![CDATA[v_currentPowerElectricity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Grid connection limit]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset6]]></Expression>
					<Color>-65536</Color>
					<Expression2><![CDATA[v_allowedCapacity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[ Grid connection limit]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset7]]></Expression>
					<Color>-65536</Color>
					<Expression2><![CDATA[- v_allowedCapacity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Current load low passed]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset8]]></Expression>
					<Color>-16728065</Color>
					<Expression2><![CDATA[v_currentLoadLowPassed_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>1000</SamplesToKeep>
					<TimeWindowExpression><![CDATA[48]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>HH_mm</LabelFormat>
    			</TimePlot>
    			<TimePlot>
					<Id>1668968408696</Id>
					<Name><![CDATA[pl_SOC]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>530</X><Y>520</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>true</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1668499200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[15]]></Code>
						<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>500</Width>
					<Height>280</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>420</Width>
						<Height>160</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>60</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[current electricity price]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-32944</Color>
					<Expression2><![CDATA[v_currentElectricityPriceConsumption_eurpkWh]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[ElectricityPrice LowPassed]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset8]]></Expression>
					<Color>-13447886</Color>
					<Expression2><![CDATA[v_electricityPriceLowPassed_eurpkWh]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[WTP charging eurpkWh]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset9]]></Expression>
					<Color>-16776961</Color>
					<Expression2><![CDATA[v_WTPCharging_eurpkWh]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[average price for 7 kW]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset10]]></Expression>
					<Color>-9404272</Color>
					<Expression2><![CDATA[v_currentAveraged7kWElectricityPrice_eurpkWh]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>1000</SamplesToKeep>
					<TimeWindowExpression><![CDATA[48]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>HH_mm</LabelFormat>
    			</TimePlot>
				<Text>
					<Id>1670512816306</Id>
					<Name><![CDATA[text10]]></Name>
					<X>130</X><Y>570</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Electricity profiles within grid connection]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>16</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1671027383282</Id>
					<Name><![CDATA[text9]]></Name>
					<X>230</X><Y>922</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Electricity]]></Text>
					<Font>
						<Name>Arial</Name>
						<Size>14</Size>
						<Style>2</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Text>
					<Id>1671027582352</Id>
					<Name><![CDATA[text12]]></Name>
					<X>170</X><Y>1000</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Consumption or production]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1671027607665</Id>
					<Name><![CDATA[text13]]></Name>
					<X>200</X><Y>1130</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Production]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1671027820068</Id>
					<Name><![CDATA[line8]]></Name>
					<X>120</X><Y>1221</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-4144960</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>230</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1671027834321</Id>
					<Name><![CDATA[text14]]></Name>
					<X>230</X><Y>1207</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Cumulative power on this gridconnection]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>1</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Rectangle>
					<Id>1671028034002</Id>
					<Name><![CDATA[rectangle1]]></Name>
					<X>410</X><Y>940</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-4144960</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>260</Width>
					<Height>250</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-134146</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1671028103716</Id>
					<Name><![CDATA[text15]]></Name>
					<X>200</X><Y>1290</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Electricity totals]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1671033393207</Id>
					<Name><![CDATA[text16]]></Name>
					<X>200</X><Y>950</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Consumption]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1671033508415</Id>
					<Name><![CDATA[line9]]></Name>
					<X>120</X><Y>1280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>2</LineWidth>
					<LineColor>-4144960</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>230</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1671033654309</Id>
					<Name><![CDATA[text17]]></Name>
					<X>530</X><Y>920</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Heat]]></Text>
					<Font>
						<Name>Arial</Name>
						<Size>14</Size>
						<Style>2</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Text>
					<Id>1671033701021</Id>
					<Name><![CDATA[text18]]></Name>
					<X>530</X><Y>1230</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Combustibles]]></Text>
					<Font>
						<Name>Arial</Name>
						<Size>14</Size>
						<Style>2</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Rectangle>
					<Id>1671033701024</Id>
					<Name><![CDATA[rectangle2]]></Name>
					<X>410</X><Y>1250</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-4144960</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>260</Width>
					<Height>300</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-786696</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1674329550133</Id>
					<Name><![CDATA[text8]]></Name>
					<X>300</X><Y>880</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Energy balance monitor]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>20</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>
			<Areas>
				<Area>
					<Id>1696868322710</Id>
					<Name><![CDATA[va_gridConnection]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Title><![CDATA[]]></Title>
					<Width>1920</Width>
					<Height>980</Height>
				</Area>
			</Areas>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658499506320</Id>
			<Name><![CDATA[UI_EnergyAsset]]></Name>
			<AdditionalClassCode><![CDATA[/*@Override
	public String toString() {
		return
			"EA " + this.getIndex() + "; " +
			 p_energyAssetType.toString() + "; " +
			"r = " + roundToDecimal(v_powerFraction_fr, 3) + "; " +
			"kW = " + roundToDecimal((v_currentConsumptionElectricity_kW - v_currentProductionElectricity_kW 
			+ v_currentConsumptionHeat_kW - v_currentProductionHeat_kW
			+ v_currentConsumptionHydrogen_kW - v_currentProductionHydrogen_kW
			+ v_currentConsumptionMethane_kW - v_currentProductionMethane_kW
			+ v_currentConsumptionDiesel_kW),2);
	}*/]]></AdditionalClassCode>
			<StartupCode><![CDATA[// f_connectToParentNode() --> made explicit function in main to avoid nested functions for easy profiling
//if( assetCategory == PRODUCTION){
//	main.c_productionAssets.add(this);
//}
]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658499506318</Id>
				<Name><![CDATA[1658499506318]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658563200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658499506316</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658499506319</CurrentLevel>
			<ConnectionsId>1658499506315</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1658750229384</Id>
					<Name><![CDATA[v_currentProductionElectricity_kW]]></Name>
					<X>90</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1658750229388</Id>
					<Name><![CDATA[v_currentPowerElectricLost_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>90</X><Y>550</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659092523267</Id>
					<Name><![CDATA[v_currentProductionHeat_kW]]></Name>
					<X>90</X><Y>460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659092541428</Id>
					<Name><![CDATA[v_currentConsumptionElectricity_kW]]></Name>
					<X>90</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659092596831</Id>
					<Name><![CDATA[v_currentConsumptionHeat_kW]]></Name>
					<X>90</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659092615449</Id>
					<Name><![CDATA[v_currentConsumptionMethane_kW]]></Name>
					<X>90</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659342082106</Id>
					<Name><![CDATA[v_powerFraction_fr]]></Name>
					<X>90</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659345815346</Id>
					<Name><![CDATA[v_currentProductionMethane_kW]]></Name>
					<X>90</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659365919790</Id>
					<Name><![CDATA[v_currentStateOfCharge_r]]></Name>
					<X>90</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659513282177</Id>
					<Name><![CDATA[v_currentProductionHydrogen_kW]]></Name>
					<X>90</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1659513295338</Id>
					<Name><![CDATA[v_currentConsumptionHydrogen_kW]]></Name>
					<X>90</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668601315863</Id>
					<Name><![CDATA[v_currentConsumptionDiesel_kW]]></Name>
					<X>90</X><Y>500</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1659090642877</Id>
					<Name><![CDATA[j_ea]]></Name>
					<X>90</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EA]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1659090642875</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660130635726</Id>
					<Name><![CDATA[p_parentAgent]]></Name>
					<X>90</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Agent]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<UnitOfValue Class="AccelerationUnits"><![CDATA[MPS_SQ]]></UnitOfValue>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660130635724</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1659347079551</Id>
					<Name><![CDATA[p_energyAssetType]]></Name>
					<X>90</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_EnergyAssetType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1659347079549</Id>
							<Label><![CDATA[p_energyAssetType]]></Label>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1666983925485</Id>
					<Name><![CDATA[p_assetName]]></Name>
					<X>90</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1666983925483</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1693296929778</Id>
					<Name><![CDATA[f_updateData]]></Name>
					<X>730</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if (j_ea != null) {
	v_currentProductionElectricity_kW = j_ea.electricityProduction_kW;
	v_currentConsumptionElectricity_kW = j_ea.electricityConsumption_kW;
	v_currentProductionMethane_kW = j_ea.methaneProduction_kW;
	v_currentConsumptionMethane_kW = j_ea.methaneConsumption_kW;
	v_currentProductionHydrogen_kW = j_ea.hydrogenProduction_kW;
	v_currentConsumptionHydrogen_kW = j_ea.hydrogenConsumption_kW;
	v_currentProductionHeat_kW = j_ea.heatProduction_kW;
	v_currentConsumptionHeat_kW = j_ea.heatConsumption_kW;
	v_currentConsumptionDiesel_kW = j_ea.dieselConsumption_kW;
	v_currentStateOfCharge_r = j_ea.getCurrentStateOfCharge();
	v_powerFraction_fr = j_ea.v_powerFraction_fr;
	plot.updateData();
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1693297254281</Id>
					<Name><![CDATA[f_initializeData]]></Name>
					<X>730</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[int assetNr = ed_assetNr.getIntValue();
j_ea = energyModel.c_energyAssets.get(assetNr);
p_energyAssetType = j_ea.energyAssetType;
p_assetName = j_ea.energyAssetName;
p_parentAgent = j_ea.parentAgent;
]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658499506315</Id>
					<Name><![CDATA[connections]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658499725706</Id>
					<Name><![CDATA[energyModel]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1658499506319</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Line>
					<Id>1667919118778</Id>
					<Name><![CDATA[line4]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>710</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919118781</Id>
					<Name><![CDATA[text4]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>760</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Functions]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667919118783</Id>
					<Name><![CDATA[line5]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>700</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>100</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919118785</Id>
					<Name><![CDATA[text6]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>680</X><Y>234</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Occuring]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667919118787</Id>
					<Name><![CDATA[line6]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>700</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>70</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919118789</Id>
					<Name><![CDATA[text5]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>680</X><Y>110</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Init]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667919228650</Id>
					<Name><![CDATA[line]]></Name>
					<X>80</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919228652</Id>
					<Name><![CDATA[text1]]></Name>
					<X>110</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[ID & connections]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667919281533</Id>
					<Name><![CDATA[line1]]></Name>
					<X>80</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919281535</Id>
					<Name><![CDATA[text2]]></Name>
					<X>110</X><Y>220</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Current status]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
    			<TimePlot>
					<Id>1668420180250</Id>
					<Name><![CDATA[plot]]></Name>
					<X>430</X><Y>300</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1668499200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[15]]></Code>
						<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>500</Width>
					<Height>280</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>420</Width>
						<Height>160</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>60</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[Electricity Consumption]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-2448096</Color>
					<Expression2><![CDATA[v_currentConsumptionElectricity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Electricity Production]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset1]]></Expression>
					<Color>-9728477</Color>
					<Expression2><![CDATA[v_currentProductionElectricity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[State of Charge]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset2]]></Expression>
					<Color>-16728065</Color>
					<Expression2><![CDATA[v_currentStateOfCharge_r]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>192</SamplesToKeep>
					<TimeWindowExpression><![CDATA[96]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>MODEL_TIME_UNITS</LabelFormat>
    			</TimePlot>
				<Text>
					<Id>1668420196225</Id>
					<Name><![CDATA[text3]]></Name>
					<X>560</X><Y>300</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Graph can be ignored for non-debug runs]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>12</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
    			<TimePlot>
					<Id>1676462939101</Id>
					<Name><![CDATA[temperaturePlot]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>400</X><Y>570</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>true</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1676534400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>440</Width>
					<Height>210</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>360</Width>
						<Height>120</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>30</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[50]]></VerScaleToExpression>
					<VerScaleType>FIXED</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[Temperature]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-16728065</Color>
					<Expression2><![CDATA[j_ea.getCurrentTemperature()]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Buffer SoC]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset1]]></Expression>
					<Color>-4565549</Color>
					<Expression2><![CDATA[v_currentStateOfCharge_r]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>1000</SamplesToKeep>
					<TimeWindowExpression><![CDATA[100]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>MODEL_TIME_UNITS</LabelFormat>
    			</TimePlot>
				<Control Type="EditBox">
				 	<EmbeddedIcon>false</EmbeddedIcon>				
					<Id>1693296357894</Id>
					<Name><![CDATA[ed_assetNr]]></Name>
					<X>360</X><Y>50</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<BasicProperties Width="100" Height="30">
                        <EmbeddedIcon>false</EmbeddedIcon>	
						<FillColor/>
						<TextColor/>
						<Enabled>true</Enabled>
						<ActionCode><![CDATA[int assetNr = ed_assetNr.getIntValue();
j_ea = energyModel.c_energyAssets.get(assetNr);
p_energyAssetType = j_ea.energyAssetType;
p_assetName = j_ea.energyAssetName;
p_parentAgent = j_ea.parentAgent;
]]></ActionCode>
					</BasicProperties>
					<ExtendedProperties>
						<Font Name="Dialog" Size="11" Style="0"/>
						<DefaultValueCode><![CDATA["0"]]></DefaultValueCode>
						<LinkTo>false</LinkTo>
					</ExtendedProperties>
				</Control>
				<Text>
					<Id>1693296387281</Id>
					<Name><![CDATA[text7]]></Name>
					<X>360</X><Y>30</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Energy Asset Number]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658752695711</Id>
			<Name><![CDATA[A_SubTenant]]></Name>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[Actor]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_actorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorGroup]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorSubgroup]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658752695709</Id>
				<Name><![CDATA[1658752695709]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658822400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658752695707</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658752695710</CurrentLevel>
			<ConnectionsId>1658752695706</ConnectionsId>
			<Variables>
				<Variable Class="Parameter">
					<Id>1703256699222</Id>
					<Name><![CDATA[p_mainTenantID]]></Name>
					<X>60</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1703256699220</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1704210595511</Id>
					<Name><![CDATA[p_huisnummer]]></Name>
					<X>60</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1704210595509</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1704210595519</Id>
					<Name><![CDATA[p_openbareR]]></Name>
					<X>60</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1704210595517</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1704210595523</Id>
					<Name><![CDATA[p_woonplaats]]></Name>
					<X>60</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1704210595521</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1704210595527</Id>
					<Name><![CDATA[p_huisletter]]></Name>
					<X>60</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1704210595525</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1704210595531</Id>
					<Name><![CDATA[p_toevoeging]]></Name>
					<X>60</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1704210595529</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1704210595534</Id>
					<Name><![CDATA[p_postcode]]></Name>
					<X>60</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1704210595532</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1703256699219</Id>
					<Name><![CDATA[c_GISBuildings]]></Name>
					<X>60</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1704214715400</Id>
					<Name><![CDATA[c_connectedGridConnection]]></Name>
					<X>60</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<AgentLinks>
				<AgentLink>
					<Id>1658752695706</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1703256686877</Id>
					<Name><![CDATA[l_mainTenant]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de Coop)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>50</X><Y>-20</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>SINGLE_LINK</AgentLinkType>
					<AgentReferenceId>1660224852394</AgentReferenceId>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<BidirectionalPeerId>1703256762219</BidirectionalPeerId>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1658752707227</Id>
					<Name><![CDATA[energyModel]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1658752695710</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658752913454</Id>
			<Name><![CDATA[UI_GridNode]]></Name>
			<ExcludeFromBuild>true</ExcludeFromBuild>
			<StartupCode><![CDATA[f_setNodeVisual();]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658752913452</Id>
				<Name><![CDATA[1658752913452]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658822400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658752913450</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-180</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658752913453</CurrentLevel>
			<ConnectionsId>1658752913449</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1670933843521</Id>
					<Name><![CDATA[v_localProduction_kW]]></Name>
					<X>60</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1670933857325</Id>
					<Name><![CDATA[v_batteryProduction_kW]]></Name>
					<X>60</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1670933894502</Id>
					<Name><![CDATA[v_vehicleConsumption_kW]]></Name>
					<X>60</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1670933909350</Id>
					<Name><![CDATA[v_vehicleProduction_kW]]></Name>
					<X>60</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1670933925207</Id>
					<Name><![CDATA[v_fixedConsumptionProfiles_kW]]></Name>
					<X>60</X><Y>390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1670933944857</Id>
					<Name><![CDATA[v_electricHeatingConsumption_kW]]></Name>
					<X>60</X><Y>430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1670934339512</Id>
					<Name><![CDATA[v_batteryConsumption_kW]]></Name>
					<X>60</X><Y>450</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1675683786853</Id>
					<Name><![CDATA[v_congestionPrice_eurpkWh]]></Name>
					<X>60</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1689596764390</Id>
					<Name><![CDATA[v_electricCookingPower_kW]]></Name>
					<X>60</X><Y>410</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1658753690661</Id>
					<Name><![CDATA[p_nodeID]]></Name>
					<X>60</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658753690659</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658759460529</Id>
					<Name><![CDATA[p_nodeType]]></Name>
					<X>60</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridNodeType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658759460527</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1670516047533</Id>
					<Name><![CDATA[p_gridNode]]></Name>
					<X>60</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[GridNode]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1670516047531</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Events>
				<Event>
					<Id>1670933873241</Id>
					<Name><![CDATA[e_gatherNodeInfo]]></Name>
					<X>60</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1671004800000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[energyModel.p_timeStep_h]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[v_localProduction_kW = 0;
v_batteryProduction_kW = 0;
v_vehicleProduction_kW = 0;

v_vehicleConsumption_kW = 0;
v_fixedConsumptionProfiles_kW = 0;
v_electricHeatingConsumption_kW = 0;
v_batteryConsumption_kW = 0;
v_electricCookingPower_kW = 0;

for( GridConnection g : realAgent.getConnectedAgent().c_electricityGridConnections){
	v_localProduction_kW += g.v_pvProductionElectric_kW + g.v_windProductionElectric_kW - min(0,g.v_conversionPowerElectric_kW);
	v_batteryProduction_kW += g.v_batteryPowerElectric_kW < 0 ? -g.v_batteryPowerElectric_kW : 0;
	v_vehicleProduction_kW += g.v_evChargingPowerElectric_kW < 0 ? g.v_evChargingPowerElectric_kW : 0;
	
	v_vehicleConsumption_kW += g.v_evChargingPowerElectric_kW > 0 ? g.v_evChargingPowerElectric_kW : 0;
	v_fixedConsumptionProfiles_kW += g.v_fixedConsumptionElectric_kW ;
	v_electricCookingPower_kW += g.v_electricHobConsumption_kW;
	v_electricHeatingConsumption_kW += max(0,g.v_conversionPowerElectric_kW - g.v_electricHobConsumption_kW);
	v_batteryConsumption_kW += g.v_batteryPowerElectric_kW > 0 ? g.v_batteryPowerElectric_kW : 0;

}

v_congestionPrice_eurpkWh = p_gridNode.v_currentCongestionPrice_eurpkWh;	
ch_cumulativeSupply.updateData();
ch_cumulativeDemand.updateData();
pl_powerFlows.updateData();]]></Action>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658753874720</Id>
					<Name><![CDATA[f_setNodeVisual]]></Name>
					<X>60</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[t_nodeID.setText(p_nodeID);
t_nodetype.setText(p_nodeType);]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1670933638545</Id>
					<Name><![CDATA[f_onClick]]></Name>
					<X>60</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[group.setY(450 - this.getY());
group.setX(1120 - this.getX());

for(UI_GridConnection g : kpiVisuals.uI_GridConnections){
	g.pl_powerFlows.setVisible(false);
	g.t_plotname.setVisible(false);
	g.t_assets.setVisible(false);
}
for(UI_GridNode n : kpiVisuals.uI_GridNodes){
	n.group.setVisible(false);
	group.setVisible(true);
}]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658752913449</Id>
					<Name><![CDATA[connections]]></Name>
					<X>250</X><Y>-80</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<DrawLine>true</DrawLine>
					<LineStyle>DOTTED</LineStyle>
					<LineWidth>0.5</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658760368568</Id>
					<Name><![CDATA[realAgent]]></Name>
					<X>240</X><Y>-110</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>SINGLE_LINK</AgentLinkType>
					<AgentReferenceId>1658477288308</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>


			<Presentation>
				<Level>
					<Id>1658752913453</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Rectangle>
					<Id>1658752947986</Id>
					<Name><![CDATA[netNodeVisual]]></Name>
					<X>-110</X><Y>-100</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<OnClickCode><![CDATA[f_onClick();]]></OnClickCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-4144960</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DASHED</LineStyle>
					<Width>230</Width>
					<Height>100</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1658753927156</Id>
					<Name><![CDATA[t_nodeID]]></Name>
					<X>16</X><Y>-121</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[ID]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>12</Size>
						<Style>1</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Text>
					<Id>1658754055524</Id>
					<Name><![CDATA[t_nodeText]]></Name>
					<X>-35</X><Y>-121</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[-Coop:]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>12</Size>
						<Style>1</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1658759394610</Id>
					<Name><![CDATA[t_nodetype]]></Name>
					<X>-35</X><Y>-121</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Coop level
]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>12</Size>
						<Style>1</Style>
					</Font>
					<Alignment>RIGHT</Alignment>
				</Text>
				<Text>
					<Id>1658762845688</Id>
					<Name><![CDATA[text]]></Name>
					<X>-90</X><Y>-80</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[load:]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>12</Size>
						<Style>2</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1658762845695</Id>
					<Name><![CDATA[t_loadElectricText]]></Name>
					<X>-90</X><Y>-60</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[0 MWe]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>12</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1660136208763</Id>
					<Name><![CDATA[t_loadThermalText]]></Name>
					<X>-90</X><Y>-40</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[0 MWth]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>12</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
    			<TimePlot>
					<Id>1670531662645</Id>
					<Name><![CDATA[plot]]></Name>
					<X>-30</X><Y>-125</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>true</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1670400000000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[0.25]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>150</Width>
					<Height>130</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>30</XOffset>
						<YOffset>30</YOffset>
						<Width>110</Width>
						<Height>70</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>30</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>false</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>DAY</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[- p_gridNode.p_capacity_kW - p_gridNode.p_capacity_kW *0.2]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[p_gridNode.p_capacity_kW + p_gridNode.p_capacity_kW * 0.2]]></VerScaleToExpression>
					<VerScaleType>FIXED</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[Node capacity]]></Title>
					<Id>1670531662640</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-1468806</Color>
					<Expression2><![CDATA[p_gridNode.p_capacity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Current load on grid [kW]]]></Title>
					<Id>1670531662641</Id>
					<Expression><![CDATA[my_dataset2]]></Expression>
					<Color>-8355712</Color>
					<Expression2><![CDATA[p_gridNode.v_currentLoadElectricity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>2.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[]]></Title>
					<Id>1670531662642</Id>
					<Expression><![CDATA[my_dataset1]]></Expression>
					<Color>-1468806</Color>
					<Expression2><![CDATA[- p_gridNode.p_capacity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>1000</SamplesToKeep>
					<TimeWindowExpression><![CDATA[2]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>HH_mm</LabelFormat>
    			</TimePlot>
				<Oval>
					<Id>1670581717233</Id>
					<Name><![CDATA[oval]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>0</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<RadiusX>1.875</RadiusX>
					<RadiusY>40</RadiusY>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Oval>
				<Group>
					<Id>1670935352089</Id>
					<Name><![CDATA[group]]></Name>
					<X>570</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
    			<TimeStackChart>
					<Id>1670933728177</Id>
					<Name><![CDATA[ch_cumulativeSupply]]></Name>
					<X>-220</X><Y>-140</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1671004800000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>480</Width>
					<Height>210</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>410</Width>
						<Height>120</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>30</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>HOUR</TimeWindowUnits>
					<TimeWindowExpression><![CDATA[48]]></TimeWindowExpression>
					<DatasetExpression>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-6632142</Color>
					<Expression2><![CDATA[v_vehicleProduction_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
							<Title><![CDATA[Vehicle to X]]></Title>
					</DatasetExpression>
					<DatasetExpression>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-256</Color>
					<Expression2><![CDATA[v_localProduction_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
							<Title><![CDATA[Local production [kW]]]></Title>
					</DatasetExpression>
					<DatasetExpression>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-23296</Color>
					<Expression2><![CDATA[v_batteryProduction_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
							<Title><![CDATA[Battery to X [kW]]]></Title>
					</DatasetExpression>
					<SamplesToKeep>10000</SamplesToKeep>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<LabelFormat>HH_mm</LabelFormat>
    			</TimeStackChart>
    			<TimeStackChart>
					<Id>1670935101040</Id>
					<Name><![CDATA[ch_cumulativeDemand]]></Name>
					<X>-220</X><Y>-370</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1671004800000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>490</Width>
					<Height>230</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>410</Width>
						<Height>120</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>50</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>HOUR</TimeWindowUnits>
					<TimeWindowExpression><![CDATA[48]]></TimeWindowExpression>
					<DatasetExpression>
					<Id>1670935101036</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-14774017</Color>
					<Expression2><![CDATA[v_fixedConsumptionProfiles_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
							<Title><![CDATA[Consumption profiles [kW]]]></Title>
					</DatasetExpression>
					<DatasetExpression>
					<Id>1670935101035</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-6632142</Color>
					<Expression2><![CDATA[v_vehicleConsumption_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
							<Title><![CDATA[Charging vehicle [kW]]]></Title>
					</DatasetExpression>
					<DatasetExpression>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-5952982</Color>
					<Expression2><![CDATA[v_electricHeatingConsumption_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
							<Title><![CDATA[Heating assets consumption [kW]]]></Title>
					</DatasetExpression>
					<DatasetExpression>
					<Id>1670935101037</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-23296</Color>
					<Expression2><![CDATA[v_batteryConsumption_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
							<Title><![CDATA[charging Battery [kW]]]></Title>
					</DatasetExpression>
					<DatasetExpression>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-2461482</Color>
					<Expression2><![CDATA[v_electricCookingPower_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
							<Title><![CDATA[e-cooking power [kW]]]></Title>
					</DatasetExpression>
					<SamplesToKeep>10000</SamplesToKeep>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<LabelFormat>HH_mm</LabelFormat>
    			</TimeStackChart>
				<Text>
					<Id>1670936666425</Id>
					<Name><![CDATA[text1]]></Name>
					<X>-72</X><Y>-361</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Cumulative electricity demand]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>14</Size>
						<Style>0</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Text>
					<Id>1670936843786</Id>
					<Name><![CDATA[text2]]></Name>
					<X>-80</X><Y>-130</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Cumulative electricity supply]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>14</Size>
						<Style>0</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
    			<TimePlot>
					<Id>1671704217693</Id>
					<Name><![CDATA[pl_powerFlows]]></Name>
					<X>-220</X><Y>60</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1668499200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[15]]></Code>
						<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>480</Width>
					<Height>280</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>400</Width>
						<Height>160</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>60</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[GridNode current power [kW]]]></Title>
					<Id>1671704217684</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-3308225</Color>
					<Expression2><![CDATA[p_gridNode.v_currentLoadElectricity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>2.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[EV charging demand [kW]]]></Title>
					<Id>1671704217685</Id>
					<Expression><![CDATA[my_dataset3]]></Expression>
					<Color>-6632142</Color>
					<Expression2><![CDATA[v_vehicleConsumption_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Battery load [kW]]]></Title>
					<Id>1671704217686</Id>
					<Expression><![CDATA[my_dataset4]]></Expression>
					<Color>-4565549</Color>
					<Expression2><![CDATA[v_batteryConsumption_kW - v_batteryProduction_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Total production [kW]]]></Title>
					<Id>1671704217687</Id>
					<Expression><![CDATA[my_dataset5]]></Expression>
					<Color>-14774017</Color>
					<Expression2><![CDATA[-v_localProduction_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Electric heating power [kW]]]></Title>
					<Id>1671704217688</Id>
					<Expression><![CDATA[my_dataset1]]></Expression>
					<Color>-256</Color>
					<Expression2><![CDATA[v_electricHeatingConsumption_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Consumption other [kW]]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset6]]></Expression>
					<Color>-3137392</Color>
					<Expression2><![CDATA[v_fixedConsumptionProfiles_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>1000</SamplesToKeep>
					<TimeWindowExpression><![CDATA[48]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>HH_mm</LabelFormat>
    			</TimePlot>
    			<TimePlot>
					<Id>1675683844543</Id>
					<Name><![CDATA[pl_powerFlows1]]></Name>
					<X>-220</X><Y>-550</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>true</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1668499200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[15]]></Code>
						<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>480</Width>
					<Height>220</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>400</Width>
						<Height>100</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>60</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[Congestion price]]></Title>
					<Id>1675683844536</Id>
					<Expression><![CDATA[my_dataset3]]></Expression>
					<Color>-8388480</Color>
					<Expression2><![CDATA[v_congestionPrice_eurpkWh]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>1000</SamplesToKeep>
					<TimeWindowExpression><![CDATA[48]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>HH_mm</LabelFormat>
    			</TimePlot>
			</Presentation>

				</Group>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1658764971887</Id>
			<Name><![CDATA[UI_GridConnection]]></Name>
			<ExcludeFromBuild>true</ExcludeFromBuild>
			<StartupCode><![CDATA[f_setNetConnectionVisual();
pl_powerFlows.setVisible(false);]]></StartupCode>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1658764971885</Id>
				<Name><![CDATA[1658764971885]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1658822400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1658764971883</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1658764971886</CurrentLevel>
			<ConnectionsId>1658764971882</ConnectionsId>
			<Variables>
				<Variable Class="Parameter">
					<Id>1658922494420</Id>
					<Name><![CDATA[p_netConnectionID]]></Name>
					<X>80</X><Y>430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658922494404</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658922517357</Id>
					<Name><![CDATA[p_netConnectionCategory]]></Name>
					<X>80</X><Y>450</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionCategory]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658922517355</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1658935468891</Id>
					<Name><![CDATA[p_netConnectionType]]></Name>
					<X>80</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_GridConnectionType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1658935468889</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1670513865743</Id>
					<Name><![CDATA[p_gridConnection]]></Name>
					<X>80</X><Y>410</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[GridConnection]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1670513865741</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Events>
				<Event>
					<Id>1670595767902</Id>
					<Name><![CDATA[event]]></Name>
					<X>280</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1670659200000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[0]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[15]]></Code>
							<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[f_setAssetListText();]]></Action>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1658922533379</Id>
					<Name><![CDATA[f_setNetConnectionVisual]]></Name>
					<X>80</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[switch( p_netConnectionCategory ) {
  case HOUSE:
  house.setVisible(true);
  house.setPos(0, 0, 0);
  this.setXY( this.getX() + normal(20, 0), this.getY() + normal(20, 0) );
  break;
  
  case WINDFARM:
  windfarm.setVisible(true);
  windfarm.setPos(-13, -14, 0);
  this.setXY( this.getX() + normal(20, 75), this.getY() + normal(20, -100) );
  break;
  
  case SOLARFARM:
  solarfarm.setVisible(true);
  solarfarm.setPos(-13, -14, 0);
  this.setXY( this.getX() + normal(20, 75), this.getY() + normal(20, -30) );
  break;
  
  case DISTRICTHEATING:
  districtheating.setVisible(true);
  districtheating.setPos(0, 0, 0);
  break;
 
  case INDUSTRY:
  industry.setVisible(true);
  industry.setPos(0, 0, 0);
  break;
  
  case GRIDBATTERY:
  battery.setVisible(true);
  battery.setPos(0, 0, 0);
  break;
  
  case RESIDUALHEAT:
  	residualheat.setVisible(true);
  	residualheat.setPos(0,0,0);
  break;
  default:
  error( "Invalid netConnection category: " + p_netConnectionCategory );
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1670586569927</Id>
					<Name><![CDATA[f_onClick]]></Name>
					<X>80</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[t_plotname.setX(940 - this.getX());
t_plotname.setY(105 - this.getY());
t_assets.setX(920 - this.getX());
t_assets.setY(480 - this.getY());
pl_powerFlows.setX( 900 - this.getX());
pl_powerFlows.setY( 130 - this.getY());
f_setAssetListText();

for(UI_GridNode n : kpiVisuals.uI_GridNodes){
	n.group.setVisible(false);
}

for(UI_GridConnection g : kpiVisuals.uI_GridConnections){
	boolean bool = ! pl_powerFlows.isVisible();
	g.pl_powerFlows.setVisible( false );
	g.t_plotname.setVisible(false);
	g.t_assets.setVisible(false);
	this.t_plotname.setVisible( true );
	pl_powerFlows.setVisible( true );
	t_assets.setVisible(true);
}

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1670594286255</Id>
					<Name><![CDATA[f_setAssetListText]]></Name>
					<X>80</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[String string = "Asset list:";
for(EnergyAsset ea : p_gridConnection.c_energyAssets){
	string = string + '\n' + ea.toString();
}
t_assets.setText(string);
]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1658764971882</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<DrawLine>true</DrawLine>
					<LineStyle>DOTTED</LineStyle>
					<LineWidth>0.5</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1658922322142</Id>
					<Name><![CDATA[realAgent]]></Name>
					<X>190</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>SINGLE_LINK</AgentLinkType>
					<AgentReferenceId>1658499438203</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>


			<Presentation>
				<Level>
					<Id>1658764971886</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Group>
					<Id>1658929175596</Id>
					<Name><![CDATA[house]]></Name>
					<X>-30</X><Y>95</Y>
					<Label><X>6.429</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<OnClickCode><![CDATA[f_onClick();
]]></OnClickCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1658929175598</Id>
					<Name><![CDATA[_ps257]]></Name>
					<X>-0.643</X><Y>6.087</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-11563064</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-6.696</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-3.652</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175600</Id>
					<Name><![CDATA[_ps258]]></Name>
					<X>-0.643</X><Y>2.435</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-5716507</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					   <Point><X>3.214</X><Y>-6.696</Y><Z>0</Z></Point>
					   <Point><X>-3.214</X><Y>-3.652</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175602</Id>
					<Name><![CDATA[_ps259]]></Name>
					<X>-7.071</X><Y>3.043</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-8607017</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-3.652</Y><Z>0</Z></Point>
					   <Point><X>3.214</X><Y>-4.261</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-0.609</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>3.043</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175604</Id>
					<Name><![CDATA[_ps260]]></Name>
					<X>-7.071</X><Y>-0.609</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-2168075</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					   <Point><X>9.643</X><Y>-3.652</Y><Z>0</Z></Point>
					   <Point><X>3.214</X><Y>-0.609</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175606</Id>
					<Name><![CDATA[_ps261]]></Name>
					<X>-0.643</X><Y>6.087</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-14734530</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-6.696</Y><Z>0</Z></Point>
					   <Point><X>3.214</X><Y>-10.348</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-9.739</Y><Z>0</Z></Point>
					   <Point><X>-6.429</X><Y>-6.696</Y><Z>0</Z></Point>
					   <Point><X>-6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175608</Id>
					<Name><![CDATA[_ps262]]></Name>
					<X>-5.786</X><Y>2.435</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-12823945</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>0.609</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>-1.217</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-1.826</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175610</Id>
					<Name><![CDATA[_ps263]]></Name>
					<X>0.643</X><Y>4.261</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-12823945</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>-0.609</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>-2.435</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-1.826</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175612</Id>
					<Name><![CDATA[_ps264]]></Name>
					<X>-3.214</X><Y>3.652</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-12823945</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>0.609</Y><Z>0</Z></Point>
					   <Point><X>1.286</X><Y>-1.217</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-1.826</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929175614</Id>
					<Name><![CDATA[_ps265]]></Name>
					<X>-0.643</X><Y>6.087</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>2.571</X><Y>1.217</Y><Z>0</Z></Point>
					   <Point><X>9</X><Y>-1.826</Y><Z>0</Z></Point>
					   <Point><X>6.429</X><Y>-3.043</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
			</Presentation>

				</Group>
				<Group>
					<Id>1658929281593</Id>
					<Name><![CDATA[store]]></Name>
					<X>-30</X><Y>35</Y>
					<Label><X>5.626</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<OnDrawCode><![CDATA[f_onClick();]]></OnDrawCode>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1658929281595</Id>
					<Name><![CDATA[_ps268]]></Name>
					<X>0</X><Y>6.685</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>2.25</X><Y>1.114</Y><Z>0</Z></Point>
					   <Point><X>9</X><Y>-2.228</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929281597</Id>
					<Name><![CDATA[_ps269]]></Name>
					<X>0</X><Y>2.228</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-6690304</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-6.685</Y><Z>0</Z></Point>
					   <Point><X>-6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929281599</Id>
					<Name><![CDATA[_ps270]]></Name>
					<X>-6.75</X><Y>3.342</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-8140800</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.457</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-1.114</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>3.342</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929281601</Id>
					<Name><![CDATA[_ps271]]></Name>
					<X>0</X><Y>6.685</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9986560</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-7.798</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.457</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658929281603</Id>
					<Name><![CDATA[_ps272]]></Name>
					<X>-5.624</X><Y>3.899</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-12491776</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>5.626</X><Y>2.785</Y><Z>0</Z></Point>
					   <Point><X>11.25</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>11.25</X><Y>-2.785</Y><Z>0</Z></Point>
					   <Point><X>5.626</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.785</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Line>
					<Id>1658929281605</Id>
					<Name><![CDATA[_ps273]]></Name>
					<X>1.126</X><Y>6.127</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-9986560</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>-5</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1658929281607</Id>
					<Name><![CDATA[_ps274]]></Name>
					<X>-1.124</X><Y>6.127</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-8140800</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>-5</Dy>
					<Dz>0</Dz>
				</Line>
				<Polyline>
					<Id>1658929281609</Id>
					<Name><![CDATA[_ps275]]></Name>
					<X>0</X><Y>6.685</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-14667264</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					   <Point><X>6.75</X><Y>-7.798</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-11.14</Y><Z>0</Z></Point>
					   <Point><X>-6.75</X><Y>-7.798</Y><Z>0</Z></Point>
					   <Point><X>-6.75</X><Y>-3.342</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
			</Presentation>

				</Group>
				<Image>
					<Id>1658930878010</Id>
					<Name><![CDATA[windfarm]]></Name>
					<X>-50</X><Y>0</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<OnClickCode><![CDATA[f_onClick();]]></OnClickCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Width>25</Width>
					<Height>25</Height>
					<Rotation>0.0</Rotation>
					<ImageFiles>
						<ImageResourceReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[windmill-svgrepo-com.png]]></ClassName>
						</ImageResourceReference>
					</ImageFiles>
					<OriginalSize>false</OriginalSize>
				</Image>
				<Image>
					<Id>1658934338846</Id>
					<Name><![CDATA[solarfarm]]></Name>
					<X>-80</X><Y>-5</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<OnClickCode><![CDATA[f_onClick();]]></OnClickCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Width>23</Width>
					<Height>23</Height>
					<Rotation>0.0</Rotation>
					<ImageFiles>
						<ImageResourceReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[solarfarm.png]]></ClassName>
						</ImageResourceReference>
					</ImageFiles>
					<OriginalSize>false</OriginalSize>
				</Image>
				<Group>
					<Id>1658935018794</Id>
					<Name><![CDATA[office]]></Name>
					<X>-65</X><Y>100</Y>
					<Label><X>4.449</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<OnClickCode><![CDATA[f_onClick();]]></OnClickCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1658935018796</Id>
					<Name><![CDATA[shapeBox]]></Name>
					<X>0</X><Y>8.897</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-1525489</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>8.897</X><Y>-4.449</Y><Z>0</Z></Point>
					   <Point><X>8.897</X><Y>-13.346</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-17.793</Y><Z>0</Z></Point>
					   <Point><X>-8.897</X><Y>-13.346</Y><Z>0</Z></Point>
					   <Point><X>-8.897</X><Y>-4.449</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658935018798</Id>
					<Name><![CDATA[_ps2]]></Name>
					<X>0</X><Y>8.897</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>402653184</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8.897</Y><Z>0</Z></Point>
					   <Point><X>8.897</X><Y>-13.346</Y><Z>0</Z></Point>
					   <Point><X>8.897</X><Y>-4.449</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658935018800</Id>
					<Name><![CDATA[_ps3]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1358954495</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>8.897</X><Y>-4.449</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8.897</Y><Z>0</Z></Point>
					   <Point><X>-8.897</X><Y>-4.449</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1658935018802</Id>
					<Name><![CDATA[_ps4]]></Name>
					<X>0</X><Y>8.897</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-11913984</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>8.897</X><Y>-4.449</Y><Z>0</Z></Point>
					   <Point><X>8.897</X><Y>-13.346</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-17.793</Y><Z>0</Z></Point>
					   <Point><X>-8.897</X><Y>-13.346</Y><Z>0</Z></Point>
					   <Point><X>-8.897</X><Y>-4.449</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Line>
					<Id>1658935018804</Id>
					<Name><![CDATA[_ps5]]></Name>
					<X>-4.449</X><Y>-6.674</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-6324726</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>6</Dx>
					<Dy>2</Dy>
					<Dz>0</Dz>
				</Line>
				<Line>
					<Id>1658935018806</Id>
					<Name><![CDATA[_ps6]]></Name>
					<X>8.897</X><Y>-4.449</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-6324726</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>-10</Dx>
					<Dy>2</Dy>
					<Dz>0</Dz>
				</Line>
			</Presentation>

				</Group>
				<Group>
					<Id>1660062204092</Id>
					<Name><![CDATA[districtheating]]></Name>
					<X>-30</X><Y>70</Y>
					<Label><X>6.963</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<OnClickCode><![CDATA[f_onClick();]]></OnClickCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1660062204094</Id>
					<Name><![CDATA[_ps287]]></Name>
					<X>0</X><Y>10.286</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>4.177</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>6.963</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>9.748</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>9.748</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>12.532</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204096</Id>
					<Name><![CDATA[_ps288]]></Name>
					<X>-11.14</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-3065088</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>4.115</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204098</Id>
					<Name><![CDATA[_ps289]]></Name>
					<X>8.355</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-507904</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Curve ControlPoints="true">
					<Id>1660062204100</Id>
					<Name><![CDATA[_ps290]]></Name>
					<X>1.392</X><Y>-2.743</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4447488</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Curve ControlPoints="true">
					<Id>1660062204102</Id>
					<Name><![CDATA[_ps291]]></Name>
					<X>5.569</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4447488</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Polyline>
					<Id>1660062204104</Id>
					<Name><![CDATA[_ps292]]></Name>
					<X>-2.785</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-507904</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-8.354</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-4.177</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-1.392</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-10.971</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-4.114</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204106</Id>
					<Name><![CDATA[_ps293]]></Name>
					<X>-2.785</X><Y>8.915</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4447488</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-10.971</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.114</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204108</Id>
					<Name><![CDATA[_ps294]]></Name>
					<X>0</X><Y>7.544</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204110</Id>
					<Name><![CDATA[_ps295]]></Name>
					<X>2.785</X><Y>6.171</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1660062204112</Id>
					<Name><![CDATA[_ps296]]></Name>
					<X>5.569</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Curve ControlPoints="true">
					<Id>1660062204114</Id>
					<Name><![CDATA[_ps297]]></Name>
					<X>8.355</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-12187648</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-10.285</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-10.285</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
			</Presentation>

				</Group>
				<Group>
					<Id>1666950979807</Id>
					<Name><![CDATA[industry]]></Name>
					<X>-70</X><Y>35</Y>
					<Label><X>6.963</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<OnClickCode><![CDATA[f_onClick();]]></OnClickCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1666950979809</Id>
					<Name><![CDATA[_ps298]]></Name>
					<X>0</X><Y>10.286</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>4.177</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>6.963</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>9.748</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>9.748</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>12.532</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1666950979811</Id>
					<Name><![CDATA[_ps299]]></Name>
					<X>-11.14</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-8355712</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>4.115</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1666950979813</Id>
					<Name><![CDATA[_ps300]]></Name>
					<X>8.355</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4144960</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Curve ControlPoints="true">
					<Id>1666950979815</Id>
					<Name><![CDATA[_ps301]]></Name>
					<X>1.392</X><Y>-2.743</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4144960</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Curve ControlPoints="true">
					<Id>1666950979817</Id>
					<Name><![CDATA[_ps302]]></Name>
					<X>5.569</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-4144960</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Polyline>
					<Id>1666950979819</Id>
					<Name><![CDATA[_ps303]]></Name>
					<X>-2.785</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-1644806</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-8.354</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-4.177</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-1.392</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-10.971</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-4.114</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1666950979821</Id>
					<Name><![CDATA[_ps304]]></Name>
					<X>-2.785</X><Y>8.915</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-8355712</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-10.971</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.114</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1666950979823</Id>
					<Name><![CDATA[_ps305]]></Name>
					<X>0</X><Y>7.544</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1666950979825</Id>
					<Name><![CDATA[_ps306]]></Name>
					<X>2.785</X><Y>6.171</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1666950979827</Id>
					<Name><![CDATA[_ps307]]></Name>
					<X>5.569</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Curve ControlPoints="true">
					<Id>1666950979829</Id>
					<Name><![CDATA[_ps308]]></Name>
					<X>8.355</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-12187648</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-10.285</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-10.285</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
			</Presentation>

				</Group>
				<Group>
					<Id>1666960162547</Id>
					<Name><![CDATA[battery]]></Name>
					<X>-70</X><Y>75</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<OnClickCode><![CDATA[f_onClick();]]></OnClickCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Group>
					<Id>1666959479845</Id>
					<Name><![CDATA[lorry]]></Name>
					<X>2</X><Y>-2</Y>
					<Label><X>5.111</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Rectangle>
					<Id>1666959479857</Id>
					<Name><![CDATA[_ps91]]></Name>
					<X>-15</X><Y>-4</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>1.2</Width>
					<Height>12</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-12566464</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Rectangle>
					<Id>1666959479859</Id>
					<Name><![CDATA[_ps92]]></Name>
					<X>-13.8</X><Y>-4.5</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<Width>17.8</Width>
					<Height>13.5</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-10496</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
			</Presentation>

				</Group>
				<Group>
					<Id>1666960122044</Id>
					<Name><![CDATA[group]]></Name>
					<X>-2</X><Y>1</Y>
					<Label><X>8.182</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1666960021761</Id>
					<Name><![CDATA[polyline]]></Name>
					<X>0</X><Y>-6.222</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-3.273</X><Y>5.333</Y><Z>0</Z></Point>
					   <Point><X>0.818</X><Y>3.556</Y><Z>0</Z></Point>
					   <Point><X>-2.455</X><Y>10.667</Y><Z>0</Z></Point>
					   <Point><X>-0.409</X><Y>8.933</Y><Z>0</Z></Point>
					</Points>
					<Closed>false</Closed>
				</Polyline>
				<Line>
					<Id>1666960064950</Id>
					<Name><![CDATA[line]]></Name>
					<X>-2.373</X><Y>4.267</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>-3</Dy>
					<Dz>0</Dz>
				</Line>
			</Presentation>

				</Group>
			</Presentation>

				</Group>
    			<TimePlot>
					<Id>1670513926114</Id>
					<Name><![CDATA[pl_SOC]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>430</X><Y>360</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1668499200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[15]]></Code>
						<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>500</Width>
					<Height>280</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>420</Width>
						<Height>160</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>60</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[SOC battery]]></Title>
					<Id>1670513926111</Id>
					<Expression><![CDATA[my_dataset7]]></Expression>
					<Color>-5952982</Color>
					<Expression2><![CDATA[p_gridConnections.v_batterySOC_fr]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>1000</SamplesToKeep>
					<TimeWindowExpression><![CDATA[48]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>HH_mm</LabelFormat>
    			</TimePlot>
    			<TimeStackChart>
					<Id>1670531113280</Id>
					<Name><![CDATA[chart]]></Name>
					<X>440</X><Y>600</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>true</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1670572800000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>390</Width>
					<Height>180</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>310</Width>
						<Height>120</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>30</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>false</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<TimeWindowExpression><![CDATA[100]]></TimeWindowExpression>
					<DatasetExpression>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-12799119</Color>
					<Expression2><![CDATA[p_gridConnection.v_fixedConsumptionElectric_kW + p_gridConnection.v_conversionPowerElectric_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
							<Title><![CDATA[Consumption assets [kW]]]></Title>
					</DatasetExpression>
					<DatasetExpression>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-9807155</Color>
					<Expression2><![CDATA[- p_gridConnection.v_pvProductionElectric_kW - p_gridConnection.v_windProductionElectric_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
							<Title><![CDATA[Production [kW]]]></Title>
					</DatasetExpression>
					<DatasetExpression>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-2987746</Color>
					<Expression2><![CDATA[p_gridConnection.v_evChargingPowerElectric_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
							<Title><![CDATA[EV charging [kW]]]></Title>
					</DatasetExpression>
					<SamplesToKeep>100</SamplesToKeep>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<LabelFormat>MODEL_TIME_UNITS</LabelFormat>
    			</TimeStackChart>
    			<TimePlot>
					<Id>1670513926106</Id>
					<Name><![CDATA[pl_powerFlows]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>true</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1668499200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[15]]></Code>
						<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>545</Width>
					<Height>310</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>465</Width>
						<Height>190</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>60</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[Consumption + conversion assets [kW]]]></Title>
					<Id>1670513926096</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-3308225</Color>
					<Expression2><![CDATA[p_gridConnection.v_fixedConsumptionElectric_kW + p_gridConnection.v_conversionPowerElectric_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[EV charging demand [kW]]]></Title>
					<Id>1670513926099</Id>
					<Expression><![CDATA[my_dataset3]]></Expression>
					<Color>-6632142</Color>
					<Expression2><![CDATA[p_gridConnection.v_evChargingPowerElectric_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Battery load [kW]]]></Title>
					<Id>1670513926100</Id>
					<Expression><![CDATA[my_dataset4]]></Expression>
					<Color>-4565549</Color>
					<Expression2><![CDATA[p_gridConnection.v_batteryPowerElectric_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Total load]]></Title>
					<Id>1670513926101</Id>
					<Expression><![CDATA[my_dataset5]]></Expression>
					<Color>-14774017</Color>
					<Expression2><![CDATA[p_gridConnection.v_currentPowerElectricity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Production assets output [kW]]]></Title>
					<Id>1670513926097</Id>
					<Expression><![CDATA[my_dataset1]]></Expression>
					<Color>-256</Color>
					<Expression2><![CDATA[p_gridConnection.v_pvProductionElectric_kW + p_gridConnection.v_windProductionElectric_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[Grid connection limit]]></Title>
					<Id>1670513926102</Id>
					<Expression><![CDATA[my_dataset6]]></Expression>
					<Color>-1468806</Color>
					<Expression2><![CDATA[p_gridConnection.v_allowedCapacity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[ Grid connection limit]]></Title>
					<Id>1670513926103</Id>
					<Expression><![CDATA[my_dataset7]]></Expression>
					<Color>-1468806</Color>
					<Expression2><![CDATA[- p_gridConnection.v_allowedCapacity_kW]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>1000</SamplesToKeep>
					<TimeWindowExpression><![CDATA[48]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>HH_mm</LabelFormat>
    			</TimePlot>
				<Text>
					<Id>1670589945012</Id>
					<Name><![CDATA[t_plotname]]></Name>
					<X>110</X><Y>10</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[GC name]]></Text>
					<TextCode><![CDATA[realAgent.getConnectedAgent().getName()]]></TextCode>
					<Font>
						<Name>SansSerif</Name>
						<Size>14</Size>
						<Style>2</Style>
					</Font>
					<Alignment>CENTER</Alignment>
				</Text>
				<Text>
					<Id>1670592627757</Id>
					<Name><![CDATA[t_assets]]></Name>
					<X>540</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Asset list
ea 1
ea 2
]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>14</Size>
						<Style>2</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Group>
					<Id>1676383412495</Id>
					<Name><![CDATA[residualheat]]></Name>
					<X>-30</X><Y>120</Y>
					<Label><X>6.963</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<OnClickCode><![CDATA[f_onClick();]]></OnClickCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>

			<Presentation>
				<Polyline>
					<Id>1676383412497</Id>
					<Name><![CDATA[_ps309]]></Name>
					<X>0</X><Y>10.286</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>1342177280</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>4.177</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>6.963</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>9.748</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>9.748</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>12.532</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1676383412499</Id>
					<Name><![CDATA[_ps310]]></Name>
					<X>-11.14</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-3308225</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>4.115</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1676383412501</Id>
					<Name><![CDATA[_ps311]]></Name>
					<X>8.355</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-10496</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Curve ControlPoints="true">
					<Id>1676383412503</Id>
					<Name><![CDATA[_ps312]]></Name>
					<X>1.392</X><Y>-2.743</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-3308225</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Curve ControlPoints="true">
					<Id>1676383412505</Id>
					<Name><![CDATA[_ps313]]></Name>
					<X>5.569</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-3308225</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
				<Polyline>
					<Id>1676383412507</Id>
					<Name><![CDATA[_ps314]]></Name>
					<X>-2.785</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-10496</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>-8.354</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-4.177</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-1.392</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-10.971</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-4.114</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1676383412509</Id>
					<Name><![CDATA[_ps315]]></Name>
					<X>-2.785</X><Y>8.915</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-3308225</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>11.14</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>8.355</X><Y>-10.971</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>5.569</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-4.114</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1676383412511</Id>
					<Name><![CDATA[_ps316]]></Name>
					<X>0</X><Y>7.544</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1676383412513</Id>
					<Name><![CDATA[_ps317]]></Name>
					<X>2.785</X><Y>6.171</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Polyline>
					<Id>1676383412515</Id>
					<Name><![CDATA[_ps318]]></Name>
					<X>5.569</X><Y>4.8</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor/>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor>-9039360</FillColor>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-0.685</Y><Z>0</Z></Point>
					   <Point><X>1.392</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>-2.056</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Polyline>
				<Curve ControlPoints="true">
					<Id>1676383412517</Id>
					<Name><![CDATA[_ps319]]></Name>
					<X>8.355</X><Y>-0.686</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-12187648</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<FillColor/>
					<FillMaterial>null</FillMaterial>
					<Points>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>4.115</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>9.6</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>5.486</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-19.495</X><Y>1.371</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-16.709</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-15.317</X><Y>-2.056</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-13.925</X><Y>-4.114</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-12.532</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-11.14</X><Y>-5.485</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-4.8</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-9.747</X><Y>-10.285</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-10.285</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-9.6</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-8.914</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-6.963</X><Y>-3.429</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-2.743</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-5.568</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-8.229</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-7.543</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-6.856</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>-2.785</X><Y>-1.371</Y><Z>0</Z></Point>
					   <Point><X>0</X><Y>0</Y><Z>0</Z></Point>
					</Points>
					<Closed>true</Closed>
				</Curve>
			</Presentation>

				</Group>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660224852394</Id>
			<Name><![CDATA[ConnectionOwner]]></Name>
			<Import><![CDATA[import com.fasterxml.jackson.databind.JsonNode;]]></Import>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[Actor]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_actorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorSubgroup]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorGroup]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660224852392</Id>
				<Name><![CDATA[1660224852392]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660291200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660224852390</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660224852393</CurrentLevel>
			<ConnectionsId>1660224852389</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1660744173993</Id>
					<Name><![CDATA[v_electricityContractType]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_DeliveryContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[OL_DeliveryContractType.ELECTRICITY_VARIABLE]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744181560</Id>
					<Name><![CDATA[v_heatContractType]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[HEAT_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744190914</Id>
					<Name><![CDATA[v_methaneContractType]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[METHANE_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744732007</Id>
					<Name><![CDATA[v_electricityVolume_kWh]]></Name>
					<X>740</X><Y>610</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744756249</Id>
					<Name><![CDATA[v_heatVolume_kWh]]></Name>
					<X>740</X><Y>630</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660744762793</Id>
					<Name><![CDATA[v_methaneVolume_kWh]]></Name>
					<X>740</X><Y>650</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660745490749</Id>
					<Name><![CDATA[v_balanceElectricity_eur]]></Name>
					<X>970</X><Y>610</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660745504140</Id>
					<Name><![CDATA[v_balanceHeat_eur]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>690</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660745513069</Id>
					<Name><![CDATA[v_balanceMethane_eur]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>710</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174627092</Id>
					<Name><![CDATA[v_hydrogenContractType]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[HYDROGEN_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174643058</Id>
					<Name><![CDATA[v_balanceHydrogen_eur]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>730</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661175214034</Id>
					<Name><![CDATA[v_hydrogenVolume_kWh]]></Name>
					<X>740</X><Y>670</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661177954454</Id>
					<Name><![CDATA[v_energySupplierDistrictHeat]]></Name>
					<X>61</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[Agent]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661267039916</Id>
					<Name><![CDATA[j_ConnectionOwnerData]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_ActorData]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661267039917</Id>
					<Name><![CDATA[j_ActorData]]></Name>
					<X>60</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_ActorData]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663237705961</Id>
					<Name><![CDATA[v_electricityVariablePrice_eurpkWh]]></Name>
					<X>700</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1663237725571</Id>
					<Name><![CDATA[v_electricitySurpluss_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666529984344</Id>
					<Name><![CDATA[v_priceBandsDelivery]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>964</X><Y>478</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666531542032</Id>
					<Name><![CDATA[v_currentNodalPrice_eurpkWh]]></Name>
					<X>700</X><Y>500</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666531573460</Id>
					<Name><![CDATA[v_congestionTariffAllowance_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666531581003</Id>
					<Name><![CDATA[v_updatePriceBands_b]]></Name>
					<Description><![CDATA[Not visible as it is swtiched on and of in between timesteps ( for fixed tarifs at least)]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>false</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[true]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667401120682</Id>
					<Name><![CDATA[v_currentCongestionType]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[String]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA["No congestion atm"]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669024165241</Id>
					<Name><![CDATA[v_dieselVolume_kWh]]></Name>
					<X>740</X><Y>690</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669024172107</Id>
					<Name><![CDATA[v_balanceDiesel_eur]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>750</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669036835710</Id>
					<Name><![CDATA[v_contractDelivery]]></Name>
					<X>940</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_DeliveryContract]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669036845521</Id>
					<Name><![CDATA[v_contractTransport]]></Name>
					<X>940</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_TransportContract]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669036853577</Id>
					<Name><![CDATA[v_contractTax]]></Name>
					<X>940</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_TaxContract]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1673455438812</Id>
					<Name><![CDATA[v_enable_nfATO_b]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>660</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1675864492131</Id>
					<Name><![CDATA[v_congestionTariff_b]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676282750780</Id>
					<Name><![CDATA[v_contractConnection]]></Name>
					<X>940</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_ConnectionContract]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676459405457</Id>
					<Name><![CDATA[v_balanceElectricityDelivery_eur]]></Name>
					<X>970</X><Y>630</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676459420019</Id>
					<Name><![CDATA[v_balanceElectricityTransport_eur]]></Name>
					<X>970</X><Y>650</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676459433986</Id>
					<Name><![CDATA[v_balanceElectricityTax_eur]]></Name>
					<X>970</X><Y>670</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676459631796</Id>
					<Name><![CDATA[v_priceBandsTransport]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>964</X><Y>498</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676459645240</Id>
					<Name><![CDATA[v_priceBandsTax]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>964</X><Y>518</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676540839762</Id>
					<Name><![CDATA[v_capacityTariff_b]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>570</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676900973462</Id>
					<Name><![CDATA[v_totalElectricityUsed_kWh]]></Name>
					<X>550</X><Y>610</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676900973464</Id>
					<Name><![CDATA[v_totalHeatUsed_kWh]]></Name>
					<X>550</X><Y>630</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676900973466</Id>
					<Name><![CDATA[v_totalMethaneUsed_kWh]]></Name>
					<X>550</X><Y>650</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676900973468</Id>
					<Name><![CDATA[v_totalHydrogenUsed_kWh]]></Name>
					<X>550</X><Y>670</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676900973470</Id>
					<Name><![CDATA[v_totalDieselUsed_kWh]]></Name>
					<X>550</X><Y>690</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1679478047052</Id>
					<Name><![CDATA[v_methanePrice_eurpkWh]]></Name>
					<X>470</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1679478050320</Id>
					<Name><![CDATA[v_hydrogenPrice_eurpkWh]]></Name>
					<X>470</X><Y>500</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1679560933209</Id>
					<Name><![CDATA[v_heatPrice_eurpkWh]]></Name>
					<X>470</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1666976143102</Id>
					<Name><![CDATA[p_CoopParent]]></Name>
					<Description><![CDATA[This 'link' is used for battery management functions that use collective (Coop) load balancing!]]></Description>
					<X>60</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[EnergyCoop]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1666976143100</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1669036749740</Id>
					<Name><![CDATA[p_actorContractList]]></Name>
					<X>940</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[com.fasterxml.jackson.databind.node.ArrayNode]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1669036749738</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1674905911483</Id>
					<Name><![CDATA[p_capacityTariffApplicable]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1674905911481</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1674906947038</Id>
					<Name><![CDATA[p_capacityPrice_eur]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1674906947036</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1674906962435</Id>
					<Name><![CDATA[p_capacityLevel_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1674906962433</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1674920557400</Id>
					<Name><![CDATA[p_congestionTariffApplicable]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1674920557398</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1672145426525</Id>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
					<Description><![CDATA[TODO: This is still hardcoded! How should Coop know where to 'gather' this data? (Capacity of shared connection)]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>410</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[2000]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1672145426523</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1675870562128</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Unique identifier of this actor in String format. Designated in Config-excel and used to link actors to netConnections.

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1675870562126</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1675870562132</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1675870562130</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1675870562138</Id>
					<Name><![CDATA[p_electricitySupplier]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a Coop or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Actor]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1675870562136</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1675870562141</Id>
					<Name><![CDATA[p_nfatoStart_h]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>600</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1675870562139</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1675870562144</Id>
					<Name><![CDATA[p_nfatoEnd_h]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>620</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0
]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1675870562142</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1675870562147</Id>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-200</X><Y>640</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1675870562145</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1676537396743</Id>
					<Name><![CDATA[p_gridOperator]]></Name>
					<X>60</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Actor]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1676537396741</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1679492829100</Id>
					<Name><![CDATA[p_methaneSupplier]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a Coop or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Actor]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1679492829098</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1679492842259</Id>
					<Name><![CDATA[p_hydrogenSupplier]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a Coop or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Actor]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1679492842257</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1679492857358</Id>
					<Name><![CDATA[p_heatSupplier]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a Coop or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Actor]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1679492857356</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1702915036278</Id>
					<Name><![CDATA[p_connectionOwnerType]]></Name>
					<X>160</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_ConnectionOwnerType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<UnitOfValue Class="LengthUnits"><![CDATA[METER]]></UnitOfValue>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1702915036276</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1679502158516</Id>
					<Name><![CDATA[c_actorContracts]]></Name>
					<X>940</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_Contract]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1703003561048</Id>
					<Name><![CDATA[c_ownedGridConnections]]></Name>
					<X>60</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridConnection]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1704196760553</Id>
					<Name><![CDATA[c_subTenantIDs]]></Name>
					<X>60</X><Y>430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660230297342</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>660</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[GridConnection]]></Type>
					</Parameter>
					<Body><![CDATA[gridConnections.connectTo(ConnectingChildNode);
//v_ownedGridConnection = ConnectingChildNode;
//traceln("f_connectToChild in connectionOwner agent, connection contract type: " + v_contractConnection.connectionContractType);
/*if (v_contractConnection.connectionContractType.equals(OL_ConnectionContractType.NFATO)) {
	ConnectingChildNode.v_enable_nfATO_b = true;
	ConnectingChildNode.p_nfatoStart_h = v_contractConnection.nfATOstart_h;
	ConnectingChildNode.p_nfatoEnd_h = v_contractConnection.nfATOend_h;
	ConnectingChildNode.p_nfatoLvl_kW = v_contractConnection.nfATOpower_kW;
	traceln("Setting nfATO TRUE for gridConnection: " + ConnectingChildNode.p_gridNodeID);
}*/
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660230784171</Id>
					<Name><![CDATA[f_connectToParentActor]]></Name>
					<Description><![CDATA[Creates an agentLink in superConnection if a parentActorID is designated in the config-excel. Called from f_configureBackBone() in main for profiling reasons, so no parameters are given.

@param: none
@return: none
@since: Sprint 6
@author: HOUJ]]></Description>
					<X>660</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//f_setContractValues();
//f_setInitPriceBands();
// Connect to energy supplier (can be a Coop!)
//traceln(p_actorID + " is looking for its supplier");
if (v_contractDelivery == null) {
	throw new RuntimeException(
		String.format(
			"Actor %s has no delivery contract",
			p_actorID
		)
	);
}
Actor mySupplier = findFirst(energyModel.pop_energySuppliers, p->p.p_actorID.equals(v_contractDelivery.contractScope)) ;
if (mySupplier != null) {
	((EnergySupplier)mySupplier).f_connectToChild(this);	
} else {
	mySupplier = findFirst(energyModel.pop_energyCoops, p->p.p_actorID.equals(v_contractDelivery.contractScope)) ;
	if (mySupplier != null) {
		traceln("Coop1 found!");
		((EnergyCoop)mySupplier).f_connectToChild(this,OL_EnergyCarrierType.ELECTRICITY);
		p_CoopParent = (EnergyCoop)mySupplier;
	}
}

if (mySupplier != null) {
	//energySupplier.connectTo(mySupplier);
	p_electricitySupplier = mySupplier;
	//energySupplier.f_connectToChild(this);	
} else { 
	traceln(
		"Connection owner %s --> f_connectToParentActor --> no parent actor found, this should not be happening. contract holder: %s, parent: %s",
		this,
		v_contractDelivery.contractHolder,
		v_contractDelivery.contractScope
	);
}

// Connect to grid operator (can be a Coop!)
if (v_contractTransport == null) {
	throw new RuntimeException(
		String.format(
			"Actor %s has no transport contract",
			p_actorID
		)
	);
}
Actor myGridoperator = findFirst(energyModel.pop_gridOperators, p->p.p_actorID.equals(v_contractTransport.contractScope)) ;
if (myGridoperator == null) {
	myGridoperator = findFirst(energyModel.pop_energyCoops, p->p.p_actorID.equals(v_contractTransport.contractScope)) ;
}

if (myGridoperator != null) {
	p_gridOperator = myGridoperator;	
} else { 
	traceln(
	    "Connection owner --> f_connectToParentActor --> no grid operator found, this should not be happening. contract holder: %s, operator: %s",
	    v_contractTransport.contractHolder,
	    v_contractTransport.contractScope
	);
}

//traceln(p_actorID + " finished looking for supplier");
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660742520265</Id>
					<Name><![CDATA[f_updateFinances]]></Name>
					<X>660</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//TODO: Diesel costs still missing!! [GH 21/11/2022] -> Won't be in anylogic model, but in postprocessing.

// get current energy flows
f_gatherEnergyFlows();

//double currentPowerDrawn_kW = v_electricityVolume_kWh / energyModel.p_timeStep_h;
double transactionCostDelivery_eur = 0;
double transactionCostTransport_eur = 0;
double transactionCostTax_eur = 0;

if (v_electricityVolume_kWh >= 0) {
	//transactionCostDelivery_eur = v_priceBandsDelivery.ceilingEntry( currentPowerDrawn_kW ).getValue() * v_electricityVolume_kWh;
	transactionCostDelivery_eur = (v_contractDelivery.deliveryPrice_eurpkWh + v_electricityVariablePrice_eurpkWh) * v_electricityVolume_kWh;
	v_balanceElectricityDelivery_eur -= transactionCostDelivery_eur;
	v_balanceElectricity_eur -= transactionCostDelivery_eur;
	
	//transactionCostTransport_eur = v_priceBandsTransport.ceilingEntry( currentPowerDrawn_kW ).getValue() * v_electricityVolume_kWh;
	transactionCostTransport_eur = v_currentNodalPrice_eurpkWh * v_electricityVolume_kWh;
	v_balanceElectricityTransport_eur -= transactionCostTransport_eur;
	v_balanceElectricity_eur -= transactionCostTransport_eur;
	
	//transactionCostTax_eur = v_priceBandsTax.ceilingEntry( currentPowerDrawn_kW ).getValue() * v_electricityVolume_kWh;
	transactionCostTax_eur = v_contractTax.deliveryTax_eurpkWh * v_electricityVolume_kWh;
	//transactionCostTax_eur = v_electricityVolume_kWh * v_contractTax.deliveryTax_eurpkWh + v_contractTax.proportionalTax_pct*(v_electricityVolume_kWh * v_contractTax.deliveryTax_eurpkWh + transactionCostDelivery_eur + transactionCostTransport_eur);
	v_balanceElectricityTax_eur -= transactionCostTax_eur;
	v_balanceElectricity_eur -= transactionCostTax_eur;
} else {
	//transactionCostDelivery_eur = v_priceBandsDelivery.floorEntry( currentPowerDrawn_kW ).getValue() * v_electricityVolume_kWh;
	transactionCostDelivery_eur = (v_contractDelivery.feedinPrice_eurpkWh + v_electricityVariablePrice_eurpkWh) * v_electricityVolume_kWh;
	v_balanceElectricityDelivery_eur -= transactionCostDelivery_eur;
	v_balanceElectricity_eur -= transactionCostDelivery_eur;
	
	//transactionCostTransport_eur = v_priceBandsTransport.floorEntry( currentPowerDrawn_kW ).getValue() * v_electricityVolume_kWh;
	transactionCostTransport_eur = v_currentNodalPrice_eurpkWh * v_electricityVolume_kWh;
	v_balanceElectricityTransport_eur -= transactionCostTransport_eur;
	v_balanceElectricity_eur -= transactionCostTransport_eur;
	
	//transactionCostTax_eur = v_priceBandsTax.floorEntry( currentPowerDrawn_kW ).getValue() * v_electricityVolume_kWh;
	transactionCostTax_eur = v_contractTax.feedinTax_eurpkWh * v_electricityVolume_kWh;
	//transactionCostTax_eur = v_electricityVolume_kWh * v_contractTax.feedinTax_eurpkWh + v_contractTax.proportionalTax_pct*(v_electricityVolume_kWh * v_contractTax.feedinTax_eurpkWh + transactionCostDelivery_eur + transactionCostTransport_eur);
	v_balanceElectricityTax_eur -= transactionCostTax_eur;
	v_balanceElectricity_eur -= transactionCostTax_eur;
}

/*// trigger transaction with supplier/Coop
if( p_energySupplier != null) {
	//Agent energySupplier = p_energySupplier;
	if( p_energySupplier instanceof EnergySupplier) {
		EnergySupplier energySupplier = (EnergySupplier)p_energySupplier;
		double transactionCost_eur = 0;//energySupplier.f_doEnergyTransaction(v_electricityVolume_kWh, v_electricityContractType);
		v_balanceElectricity_eur -= transactionCost_eur;
		transactionCost_eur = energySupplier.f_doEnergyTransaction(v_methaneVolume_kWh, v_methaneContractType);
		v_balanceMethane_eur -= transactionCost_eur;
		transactionCost_eur = energySupplier.f_doEnergyTransaction(v_hydrogenVolume_kWh, v_hydrogenContractType);
		v_balanceHydrogen_eur -= transactionCost_eur;
	} else if ( p_energySupplier instanceof EnergyCoop ) {
		EnergyCoop energySupplier = (EnergyCoop)p_energySupplier;
		double transactionCost_eur = 0;//energySupplier.f_doEnergyTransaction(v_electricityVolume_kWh, v_electricityContractType);
		v_balanceElectricity_eur -= transactionCost_eur;
		transactionCost_eur = energySupplier.f_doEnergyTransaction(v_methaneVolume_kWh, v_methaneContractType);
		v_balanceMethane_eur -= transactionCost_eur;
		transactionCost_eur = energySupplier.f_doEnergyTransaction(v_hydrogenVolume_kWh, v_hydrogenContractType);
		v_balanceHydrogen_eur -= transactionCost_eur;
	}
} else {
	traceln("Connection owner " + this + " has no energy supplier!");
}*/

// Also needs to include congestion tariffs! 
/*if ( p_congestionTariffApplicable ) {
	double congestionCost_eur = v_electricityVolume_kWh * v_currentCongestionTariffWhenBuying_eurpkWh;
	v_balanceElectricityTransport_eur -= congestionCost_eur; // TODO: This transaction is 'one-sided'; the gridOperator is not yet receiving/giving this money!!
}*/

// trigger district heat accounting with specified heat supplier agent
/*
if( v_energySupplierDistrictHeat instanceof EnergySupplier) {
	EnergySupplier energySupplier = (EnergySupplier)v_energySupplierDistrictHeat;
	double transactionCost_eur = 0;//energySupplier.f_doEnergyTransaction(v_heatVolume_kWh, v_heatContractType);
	v_balanceHeat_eur -= transactionCost_eur;
}
else if( v_energySupplierDistrictHeat instanceof EnergyCoop ) {
	EnergyCoop energySupplier = (EnergyCoop)v_energySupplierDistrictHeat;
	double transactionCost_eur = 0;// energySupplier.f_doEnergyTransaction(v_heatVolume_kWh, v_heatContractType);
	v_balanceHeat_eur -= transactionCost_eur;
}

v_balanceDiesel_eur += v_dieselVolume_kWh * .196; // TODO: UGLY HACK
*/]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660743030872</Id>
					<Name><![CDATA[f_gatherEnergyFlows]]></Name>
					<X>660</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// reset eenrgy flows
v_electricityVolume_kWh = 0;
v_heatVolume_kWh = 0;
v_methaneVolume_kWh = 0;
v_hydrogenVolume_kWh = 0;
v_dieselVolume_kWh = 0;

// gather electricity flows
for(GridConnection n :  gridConnections.getConnections() ) {
	v_electricityVolume_kWh += n.v_currentPowerElectricity_kW * energyModel.p_timeStep_h;
	v_heatVolume_kWh += n.v_currentPowerHeat_kW * energyModel.p_timeStep_h;
	v_methaneVolume_kWh += n.v_currentPowerMethane_kW * energyModel.p_timeStep_h;
	v_hydrogenVolume_kWh += n.v_currentPowerHydrogen_kW * energyModel.p_timeStep_h;
	v_dieselVolume_kWh += n.v_currentPowerDiesel_kW * energyModel.p_timeStep_h;
}

v_totalElectricityUsed_kWh += v_electricityVolume_kWh;
v_totalHeatUsed_kWh += v_heatVolume_kWh;
v_totalMethaneUsed_kWh += v_methaneVolume_kWh;
v_totalHydrogenUsed_kWh += v_hydrogenVolume_kWh;
v_totalDieselUsed_kWh += v_dieselVolume_kWh;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1663237679579</Id>
					<Name><![CDATA[f_updateIncentives]]></Name>
					<X>660</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if (v_contractDelivery.deliveryContractType==OL_DeliveryContractType.ELECTRICITY_VARIABLE) {
	if (p_electricitySupplier instanceof EnergySupplier) {
		v_electricityVariablePrice_eurpkWh = ((EnergySupplier)p_electricitySupplier).f_getVariableEnergyPrice();
	} else if (p_electricitySupplier instanceof EnergyCoop) {
		v_electricityVariablePrice_eurpkWh = ((EnergyCoop)p_electricitySupplier).f_getVariableEnergyPrice();
	}
}

// Transport pricing (nodal pricing) is 'pushed' to the connectionOwner from the GridNode, so don't have to ask for the price here.
/*if (v_contractTransport.transportContractType.equals(OL_TransportContractType.NODALPRICING)) {
	if (p_gridOperator instanceof GridOperator) {
		v_electricityVariablePrice_eurpkWh = ((GridOperator)p_gridOperator).f_getVariableEnergyPrice(v_electricityContractType, false);
	} else if (p_gridOperator instanceof EnergyCoop) {
		v_electricityVariablePrice_eurpkWh = ((EnergyCoop)p_gridOperator).f_getEnergyPrice(v_electricityContractType, false);
	}
}*/	

//f_setElectricityPriceBands();
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666529572357</Id>
					<Name><![CDATA[f_setElectricityPriceBands]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>680</X><Y>250</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if (v_contractDelivery.deliveryContractType.equals(OL_DeliveryContractType.ELECTRICITY_VARIABLE)) {
	v_priceBandsDelivery.replace(-9999999.0, v_contractDelivery.feedinPrice_eurpkWh + v_electricityVariablePrice_eurpkWh );
	v_priceBandsDelivery.replace(9999999.0, v_contractDelivery.deliveryPrice_eurpkWh + v_electricityVariablePrice_eurpkWh );
}
if (v_contractTransport.transportContractType.equals(OL_TransportContractType.NODALPRICING)) {
	v_priceBandsTransport.replace(-9999999.0, v_currentNodalPrice_eurpkWh);
	v_priceBandsTransport.replace(9999999.0, v_currentNodalPrice_eurpkWh);
}

if (v_contractTax.proportionalTax_pct != 0.0 && (v_contractDelivery.deliveryContractType.equals(OL_DeliveryContractType.ELECTRICITY_VARIABLE) || v_contractTransport.transportContractType.equals(OL_TransportContractType.NODALPRICING))) { // Add VAT (BTW), over all other cost components. At this point assumes there are only 2 price-bands, for delivery and feedin! No other 'steps'! Not true for capacity-tariff (bandbreedtemodel)!
	v_priceBandsTax.replace(-9999999.0, v_contractTax.feedinTax_eurpkWh + v_contractTax.proportionalTax_pct*(v_contractDelivery.feedinPrice_eurpkWh + v_electricityVariablePrice_eurpkWh + v_currentNodalPrice_eurpkWh + v_contractTax.feedinTax_eurpkWh));
	v_priceBandsTax.replace(9999999.0, v_contractTax.deliveryTax_eurpkWh + v_contractTax.proportionalTax_pct*(v_contractDelivery.deliveryPrice_eurpkWh + v_electricityVariablePrice_eurpkWh + v_currentNodalPrice_eurpkWh + v_contractTax.deliveryTax_eurpkWh));
}
	]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669036739539</Id>
					<Name><![CDATA[f_setContractValues]]></Name>
					<X>660</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double methaneDeliveryPrice_eurpkWh = 0.0;
double methaneDeliveryTax_eurpkWh = 0.0;
double methaneVAT_pct = 0.0;
double hydrogenDeliveryPrice_eurpkWh = 0.0;
double hydrogenDeliveryTax_eurpkWh = 0.0;
double hydrogenVAT_pct = 0.0;
double heatDeliveryPrice_eurpkWh = 0.0;
double heatDeliveryTax_eurpkWh = 0.0;
double heatVAT_pct = 0.0;

if( p_actorContractList == null) {
	traceln( "No contract data for connectionOwner " + p_actorID );
	traceln( "Creating default contracts!");

	String defaultSupplier = "defaultSupplier";
	String defaultGridOperator = "defaultGridOperator";
	String defaultGovernmentLayer = "defaultGovernmentLayer";
	double annualFee_eur = 0;
	double deliveryPrice_eurpkWh = 0.2;
	double feedinPrice_eurpkWh = 0.2;
	double bandwidthTreshold_kW = 0.0;
	double bandwidthTariff_eurpkWh = 0.0;
	double nfATOstart_h = 0.0;
	double nfATOend_h = 0.0;
	double nfATOcapacity_kW = 0.0;
	double taxDelivery_eurpkWh = 0.13;
	double taxFeedin_eurpkWh = 0.0;
	double proportionalTax_pct = 0.21;

	/*if (p_actorID.equals("logistics0owner")){
		v_contractDelivery = new J_DeliveryContract("coop1", OL_DeliveryContractType.ELECTRICITY_FIXED, OL_EnergyCarrierType.ELECTRICITY, deliveryPrice_eurpkWh, feedinPrice_eurpkWh, annualFee_eur);
	} else {
		v_contractDelivery = new J_DeliveryContract(defaultSupplier, OL_DeliveryContractType.ELECTRICITY_FIXED, OL_EnergyCarrierType.ELECTRICITY, deliveryPrice_eurpkWh, feedinPrice_eurpkWh, annualFee_eur);
	}*/
	v_contractDelivery = new J_DeliveryContract(defaultSupplier, OL_DeliveryContractType.ELECTRICITY_FIXED, OL_EnergyCarrierType.ELECTRICITY, deliveryPrice_eurpkWh, feedinPrice_eurpkWh, annualFee_eur);

	v_contractTransport = new J_TransportContract(defaultGridOperator, OL_TransportContractType.DEFAULT , OL_EnergyCarrierType.ELECTRICITY, bandwidthTreshold_kW, bandwidthTariff_eurpkWh, annualFee_eur);

	v_contractConnection = new J_ConnectionContract(defaultGridOperator, OL_ConnectionContractType.DEFAULT, OL_EnergyCarrierType.ELECTRICITY, nfATOstart_h, nfATOend_h, nfATOcapacity_kW, annualFee_eur);

	v_contractTax = new J_TaxContract(defaultGovernmentLayer, OL_EnergyCarrierType.ELECTRICITY, taxDelivery_eurpkWh, taxFeedin_eurpkWh, proportionalTax_pct, annualFee_eur);

	c_actorContracts.add(v_contractDelivery);
	c_actorContracts.add(v_contractTransport);
	c_actorContracts.add(v_contractConnection);
	c_actorContracts.add(v_contractTax);
} else {
	for( JsonNode contractJson : p_actorContractList) {
	//traceln("Contract hashmap l: " + l);
	OL_ContractType contractService = OL_ContractType.valueOf(contractJson.required("contractType").textValue());
	String contractScope = contractJson.required( "contractScope" ).textValue();
	OL_EnergyCarrierType energyCarrier = OL_EnergyCarrierType.valueOf(contractJson.required("energyCarrier").textValue());
	double annualFee_eur = contractJson.required("annualFee_eur").doubleValue();
	Actor mySupplier = null;
	if (energyCarrier.equals(OL_EnergyCarrierType.ELECTRICITY)){
		switch( contractService ) {
			case DELIVERY:
				//String contractScope = (String)l.get( "contract_scope" );
				OL_DeliveryContractType deliveryContractType = OL_DeliveryContractType.valueOf(contractJson.get("deliveryContractType").textValue());
				double deliveryPrice_eurpkWh = contractJson.required("deliveryPrice_eurpkWh").doubleValue();
				double feedinPrice_eurpkWh = contractJson.required("feedinPrice_eurpkWh").doubleValue();
				v_contractDelivery = new J_DeliveryContract(contractScope, deliveryContractType, OL_EnergyCarrierType.ELECTRICITY, deliveryPrice_eurpkWh, feedinPrice_eurpkWh, annualFee_eur);
				//traceln("Delivery contract: " + v_contractDelivery);
				c_actorContracts.add(v_contractDelivery);
			break;
			case TRANSPORT:
				OL_TransportContractType transportContractType = OL_TransportContractType.valueOf(contractJson.get("transportContractType").textValue());
				double bandwidthTreshold_kW = contractJson.path("bandwidthTreshold_kW").doubleValue();
				double bandwidthTariff_eurpkWh = contractJson.path("bandwidthTariff_eurpkWh").doubleValue();
				v_contractTransport = new J_TransportContract(contractScope, transportContractType, energyCarrier, bandwidthTreshold_kW, bandwidthTariff_eurpkWh, annualFee_eur);			
				c_actorContracts.add(v_contractTransport);
			break;
			case CONNECTION:
				OL_ConnectionContractType connectionContractType = OL_ConnectionContractType.valueOf(contractJson.required("connectionContractType").textValue());
				//traceln("Initializing connection contract with ConnectionContractType: " + connectionContractType);
				double nfATOstart_h = contractJson.path("nfATO_starttime_h").doubleValue();
				double nfATOend_h = contractJson.path("nfATO_endtime_h").doubleValue();
				double nfATOcapacity_kW = contractJson.path("nfATO_capacity_kW").doubleValue();
				v_contractConnection = new J_ConnectionContract(contractScope, connectionContractType, energyCarrier, nfATOstart_h, nfATOend_h, nfATOcapacity_kW, annualFee_eur);
				c_actorContracts.add(v_contractConnection);
			break;
			case TAX:
				double taxDelivery_eurpkWh = contractJson.required("taxDelivery_eurpkWh").doubleValue();
				double taxFeedin_eurpkWh = contractJson.required("taxFeedin_eurpkWh").doubleValue();
				double proportionalTax_pct = contractJson.required("proportionalTax_pct").doubleValue();
				v_contractTax = new J_TaxContract(contractScope, OL_EnergyCarrierType.ELECTRICITY, taxDelivery_eurpkWh, taxFeedin_eurpkWh, proportionalTax_pct, annualFee_eur);
				c_actorContracts.add(v_contractTax);
			break;
			default:
			
			break;		
		}
	//} else if (energyCarrier.equals(OL_EnergyCarrierType.METHANE)){
	} else {
		switch( contractService ) {
			case DELIVERY:					
				OL_DeliveryContractType deliveryContractType = OL_DeliveryContractType.valueOf(contractJson.required("deliveryContractType").textValue());
				double deliveryPrice_eurpkWh = contractJson.required("deliveryPrice_eurpkWh").doubleValue();
				double feedinPrice_eurpkWh = contractJson.required("feedinPrice_eurpkWh").doubleValue();
				J_DeliveryContract contractDelivery = new J_DeliveryContract(contractScope, deliveryContractType, energyCarrier, deliveryPrice_eurpkWh, feedinPrice_eurpkWh, annualFee_eur);
				//traceln("Delivery contract: " + v_contractDelivery);
				c_actorContracts.add(contractDelivery);
				//String contractScope = (String)l.get( "contractScope" );
				mySupplier = findFirst(energyModel.pop_energySuppliers, p->p.p_actorID.equals(contractScope)) ;
				if (mySupplier != null) {
					((EnergySupplier)mySupplier).f_connectToChild(this);	
				} else {
					mySupplier = findFirst(energyModel.pop_energyCoops, p->p.p_actorID.equals(contractScope)) ;
					if (mySupplier != null) {
						((EnergyCoop)mySupplier).f_connectToChild(this,energyCarrier);	
						//p_CoopParent = (EnergyCoop)mySupplier;
					}
				}
				//traceln("Methane supplier: " + contractScope + " for actor " + p_actorID );
				if (mySupplier != null) {
					//energySupplier.connectTo(mySupplier);
					if (energyCarrier==OL_EnergyCarrierType.METHANE) {
						p_methaneSupplier = mySupplier;
						methaneDeliveryPrice_eurpkWh=deliveryPrice_eurpkWh;
					} else if(energyCarrier==OL_EnergyCarrierType.HYDROGEN) {
						p_hydrogenSupplier = mySupplier;
						hydrogenDeliveryPrice_eurpkWh=deliveryPrice_eurpkWh;
					} else if(energyCarrier==OL_EnergyCarrierType.HEAT) {
						p_heatSupplier = mySupplier;
						heatDeliveryPrice_eurpkWh=deliveryPrice_eurpkWh;
					}
					//traceln("MethaneSupplier " + mySupplier);
					//energySupplier.f_connectToChild(this);	
				} else { 
					traceln("Connection owner --> f_connectToParentActor --> " + energyCarrier + " supplier not found, this should not be happening");
				}
			break;
			case TAX:
				double DeliveryTax_eurpkWh = contractJson.required("taxDelivery_eurpkWh").doubleValue();
				double taxFeedin_eurpkWh = contractJson.required("taxFeedin_eurpkWh").doubleValue();
				double VAT_pct = contractJson.required("proportionalTax_pct").doubleValue();
				J_TaxContract contractTax = new J_TaxContract(contractScope, energyCarrier, DeliveryTax_eurpkWh, taxFeedin_eurpkWh, VAT_pct, annualFee_eur);
				c_actorContracts.add(contractTax);
				if (energyCarrier==OL_EnergyCarrierType.METHANE) {						
						methaneDeliveryTax_eurpkWh=DeliveryTax_eurpkWh;
						methaneVAT_pct=VAT_pct;
					} else if(energyCarrier==OL_EnergyCarrierType.HYDROGEN) {
						hydrogenDeliveryTax_eurpkWh=DeliveryTax_eurpkWh;
						hydrogenVAT_pct=VAT_pct;
					} else if(energyCarrier==OL_EnergyCarrierType.HEAT) {
						heatVAT_pct=VAT_pct;
					}
			break;
			case CONNECTION:
				OL_ConnectionContractType connectionContractType = OL_ConnectionContractType.valueOf(contractJson.required("connectionContractType").textValue());
				J_ConnectionContract contractConnection = new J_ConnectionContract(contractScope, connectionContractType, energyCarrier, 0.0, 0.0, 0.0, annualFee_eur);
				c_actorContracts.add(contractConnection);
				
				
					
			break;
			case TRANSPORT:
				OL_TransportContractType transportContractType = OL_TransportContractType.valueOf(contractJson.required("transportContractType").textValue());
				double bandwidthTreshold_kW = contractJson.path("bandwidthTreshold_kW").doubleValue();
				double bandwidthTariff_eurpkWh = contractJson.path("bandwidthTariff_eurpkWh").doubleValue();
				J_TransportContract contractTransport = new J_TransportContract(contractScope, transportContractType, energyCarrier, bandwidthTreshold_kW, bandwidthTariff_eurpkWh, annualFee_eur);			
				c_actorContracts.add(contractTransport);
			break;
			default:
				traceln("Unrecognized contract type!");
			break;	
			}
		}
	}
}

// Calculate nett gas and hydrogen price
v_methanePrice_eurpkWh = (methaneDeliveryPrice_eurpkWh + methaneDeliveryTax_eurpkWh) * (1 + methaneVAT_pct);
v_hydrogenPrice_eurpkWh = (hydrogenDeliveryPrice_eurpkWh + hydrogenDeliveryTax_eurpkWh) * (1 + hydrogenVAT_pct);
v_heatPrice_eurpkWh = (heatDeliveryPrice_eurpkWh + heatDeliveryTax_eurpkWh) * (1 + heatVAT_pct);
		/*} else if (energyCarrier.equals(OL_EnergyCarrierType.HYDROGEN)){
			switch( contractService ) {
				case DELIVERY:
					OL_DeliveryContractType deliveryContractType = OL_DeliveryContractType.valueOf((String)l.get("deliveryContractType"));
					double deliveryPrice_eurpkWh = (double)l.get("deliveryPrice_eurpkWh");
					double feedinPrice_eurpkWh = (double)l.get("feedinPrice_eurpkWh");
					v_contractDelivery = new J_DeliveryContract(contractScope, deliveryContractType, OL_EnergyCarrierType.HYDROGEN, deliveryPrice_eurpkWh, feedinPrice_eurpkWh);
					//traceln("Delivery contract: " + v_contractDelivery);
					c_actorContracts.add(v_contractDelivery);
					mySupplier = findFirst(main.pop_energySuppliers, p->p.p_actorID.equals(contractScope)) ;
					if (mySupplier != null) {
						((EnergySupplier)mySupplier).f_connectToChild(this);	
					} else {
						mySupplier = findFirst(main.pop_energyCoops, p->p.p_actorID.equals(contractScope)) ;
						if (mySupplier != null) {
							((EnergyCoop)mySupplier).f_connectToChild(this,OL_EnergyCarrierType.HYDROGEN);	
							//p_CoopParent = (EnergyCoop)mySupplier;
						}
					}
					if (mySupplier != null) {
						//energySupplier.connectTo(mySupplier);
						p_hydrogenSupplier = mySupplier;
						//energySupplier.f_connectToChild(this);	
					} else { 
						traceln("Connection owner --> f_connectToParentActor --> hydrogen supplier not found, this should not be happening");
					}
				break;
				case TAX:
					hydrogenDeliveryTax_eurpkWh = (double)l.get("taxDelivery_eurpkWh");
					//double taxFeedin_eurpkWh = (double)l.get("taxFeedin_eurpkWh");
					hydrogenVAT_pct = (double)l.get("proportionalTax_pct");
					v_contractTax = new J_TaxContract(contractScope, OL_EnergyCarrierType.HYDROGEN, hydrogenDeliveryTax_eurpkWh, 0, hydrogenVAT_pct);
					c_actorContracts.add(v_contractTax);
				break;
				default:
				
				break;	
			}	
		} else if (energyCarrier.equals(OL_EnergyCarrierType.HEAT)){
			switch( contractService ) {
				case DELIVERY:
					heatDeliveryPrice_eurpkWh = (double)l.get("deliveryPrice_eurpkWh");
					mySupplier = findFirst(main.pop_energySuppliers, p->p.p_actorID.equals(contractScope)) ;
					if (mySupplier != null) {
						((EnergySupplier)mySupplier).f_connectToChild(this);	
					} else {
						mySupplier = findFirst(main.pop_energyCoops, p->p.p_actorID.equals(contractScope)) ;
						if (mySupplier != null) {
							((EnergyCoop)mySupplier).f_connectToChild(this,OL_EnergyCarrierType.HYDROGEN);	
							//p_CoopParent = (EnergyCoop)mySupplier;
						}
					}
					if (mySupplier != null) {
						//energySupplier.connectTo(mySupplier);
						p_hydrogenSupplier = mySupplier;
						//energySupplier.f_connectToChild(this);	
					} else { 
						traceln("Connection owner --> f_connectToParentActor --> heat supplier not found, this should not be happening");
					}
				break;
				case TAX:
					hydrogenDeliveryTax_eurpkWh = (double)l.get("taxDelivery_eurpkWh");
					//double taxFeedin_eurpkWh = (double)l.get("taxFeedin_eurpkWh");
					hydrogenVAT_pct = (double)l.get("proportionalTax_pct");
				break;
				default:
				
				break;	
			}	
		}*/

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1674919795415</Id>
					<Name><![CDATA[f_setInitPriceBands]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>670</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_priceBandsDelivery = new TreeMap<Double, Double>();
v_priceBandsDelivery.put(-9999999.0, v_contractDelivery.feedinPrice_eurpkWh);
v_priceBandsDelivery.put(0.0, 0.0);
v_priceBandsDelivery.put(9999999.0,  v_contractDelivery.deliveryPrice_eurpkWh);

v_priceBandsTransport = new TreeMap<Double, Double>();
v_priceBandsTransport.put(-9999999.0, 0.0);
v_priceBandsTransport.put(0.0, 0.0);
v_priceBandsTransport.put(9999999.0, 0.0);
if (v_contractTransport.transportContractType.equals(OL_TransportContractType.BANDWIDTH)) {
	//traceln("Setting capacity tariff for " + p_actorID);
	v_priceBandsTransport.put(-9999999.0, v_contractTransport.bandwidthTariff_eurpkWh);
	v_priceBandsTransport.put(-v_contractTransport.bandwidthTreshold_kW, 0.0);
	v_priceBandsTransport.put(0.0, 0.0);
	v_priceBandsTransport.put(v_contractTransport.bandwidthTreshold_kW, 0.0);	
	v_priceBandsTransport.put(9999999.0, v_contractTransport.bandwidthTariff_eurpkWh);
	//traceln(v_priceBandsTransport.toString());
} else {
	v_priceBandsTransport.put(-9999999.0, 0.0);
	v_priceBandsTransport.put(0.0, 0.0);
	v_priceBandsTransport.put(9999999.0, 0.0);
}

v_priceBandsTax = new TreeMap<Double, Double>();
v_priceBandsTax.put(-9999999.0, v_contractTax.feedinTax_eurpkWh);
v_priceBandsTax.put(0.0, 0.0);
v_priceBandsTax.put(9999999.0, v_contractTax.deliveryTax_eurpkWh);

/*
if( p_congestionTariffApplicable ){
	v_priceBandsDelivery.put(- p_capacityLevel_kW, 0.0);
	v_priceBandsDelivery.put(p_capacityLevel_kW, 0.0);
}
*/]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1675011274392</Id>
					<Name><![CDATA[f_getElectricityPrice]]></Name>
					<X>660</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[currentPowerDrawn_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[double price_eurpkWh = 0;
if( currentPowerDrawn_kW >= 0 ){
	//Delivery
	/*if( v_priceBandsDelivery.ceilingKey(currentPowerDrawn_kW) == currentPowerDrawn_kW ){
		price += v_priceBandsDelivery.higherEntry( currentPowerDrawn_kW ).getValue();
	}
	else{
		price += v_priceBandsDelivery.ceilingEntry( currentPowerDrawn_kW ).getValue();
	}*/
	price_eurpkWh += v_contractDelivery.deliveryPrice_eurpkWh + v_electricityVariablePrice_eurpkWh;

	//Transport
	/*if( v_priceBandsTransport.ceilingKey(currentPowerDrawn_kW) == currentPowerDrawn_kW ){
		price += v_priceBandsTransport.higherEntry( currentPowerDrawn_kW ).getValue();
	}
	else{
		price += v_priceBandsTransport.ceilingEntry( currentPowerDrawn_kW ).getValue();
	}*/

	price_eurpkWh += v_currentNodalPrice_eurpkWh;
	//Tax
	/*if( v_priceBandsTax.ceilingKey(currentPowerDrawn_kW) == currentPowerDrawn_kW ){
		price += v_priceBandsTax.higherEntry( currentPowerDrawn_kW ).getValue();
	}
	else{
		price += v_priceBandsTax.ceilingEntry( currentPowerDrawn_kW ).getValue();
	}*/

	price_eurpkWh += v_contractTax.deliveryTax_eurpkWh + v_contractTax.proportionalTax_pct;// * (v_contractTax.deliveryTax_eurpkWh + v_currentNodalPrice_eurpkWh + v_contractDelivery.deliveryPrice_eurpkWh + v_electricityVariablePrice_eurpkWh)
	price_eurpkWh = price_eurpkWh * (1+v_contractTax.proportionalTax_pct);
}
else {
	//Delivery
	/*if( v_priceBandsDelivery.ceilingKey(currentPowerDrawn_kW) == currentPowerDrawn_kW ){
		price += v_priceBandsDelivery.higherEntry( currentPowerDrawn_kW ).getValue();
	}
	else{
		price += v_priceBandsDelivery.floorEntry( currentPowerDrawn_kW ).getValue();
	}*/

	price_eurpkWh += v_contractDelivery.feedinPrice_eurpkWh + v_electricityVariablePrice_eurpkWh;
	//Transport
	/*if( v_priceBandsTransport.ceilingKey(currentPowerDrawn_kW) == currentPowerDrawn_kW ){
		price += v_priceBandsTransport.higherEntry( currentPowerDrawn_kW ).getValue();
	}
	else{
		price += v_priceBandsTransport.floorEntry( currentPowerDrawn_kW ).getValue();
	}*/
	price_eurpkWh += v_contractDelivery.deliveryPrice_eurpkWh + v_electricityVariablePrice_eurpkWh;
	//Tax
	/*if( v_priceBandsTax.ceilingKey(currentPowerDrawn_kW) == currentPowerDrawn_kW ){
		price += v_priceBandsTax.higherEntry( currentPowerDrawn_kW ).getValue();
	}
	else{
		price += v_priceBandsTax.floorEntry( currentPowerDrawn_kW ).getValue();
	}*/
	price_eurpkWh += v_contractTax.feedinTax_eurpkWh + v_contractTax.proportionalTax_pct;// * (v_contractTax.deliveryTax_eurpkWh + v_currentNodalPrice_eurpkWh + v_contractDelivery.deliveryPrice_eurpkWh + v_electricityVariablePrice_eurpkWh)
	price_eurpkWh = price_eurpkWh * (1+v_contractTax.proportionalTax_pct);
}
//traceln(price_eurpkWh);
return price_eurpkWh;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1675012472432</Id>
					<Name><![CDATA[f_getAvailablePowerAtPrice]]></Name>
					<X>660</X><Y>310</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[currentPowerDrawn_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[double availablePower_kW;//, availablePowerDelivery, availablePowerTransport, availablePowerTax = 0;

/*if( currentPowerDrawn_kW >= 0 ){
	// Check if one of the pricebands is at a 'breakpoint'	
	if( currentPowerDrawn_kW == v_priceBandsDelivery.ceilingKey( currentPowerDrawn_kW )){
		availablePowerDelivery = v_priceBandsDelivery.higherKey( currentPowerDrawn_kW ) - currentPowerDrawn_kW;
	} 	else {
		availablePowerDelivery = v_priceBandsDelivery.ceilingKey( currentPowerDrawn_kW ) - currentPowerDrawn_kW;
	}
	if( currentPowerDrawn_kW == v_priceBandsTransport.ceilingKey( currentPowerDrawn_kW )){
		availablePowerTransport = v_priceBandsTransport.higherKey( currentPowerDrawn_kW ) - currentPowerDrawn_kW;
	} 	else {
		availablePowerTransport = v_priceBandsTransport.ceilingKey( currentPowerDrawn_kW ) - currentPowerDrawn_kW;
	}
	if( currentPowerDrawn_kW == v_priceBandsTax.ceilingKey( currentPowerDrawn_kW )){
		availablePowerTax = v_priceBandsTax.higherKey( currentPowerDrawn_kW ) - currentPowerDrawn_kW;
	} 	else {
		availablePowerTax = v_priceBandsTax.ceilingKey( currentPowerDrawn_kW ) - currentPowerDrawn_kW;
	}		
}
else {
	if( currentPowerDrawn_kW == v_priceBandsDelivery.floorKey( currentPowerDrawn_kW )){
		availablePowerDelivery = v_priceBandsDelivery.higherKey( currentPowerDrawn_kW ) - currentPowerDrawn_kW;
	} 	
	else {
		availablePowerDelivery = v_priceBandsDelivery.ceilingKey( currentPowerDrawn_kW ) - currentPowerDrawn_kW;
	}
	
	if( currentPowerDrawn_kW == v_priceBandsTransport.floorKey( currentPowerDrawn_kW )){
		availablePowerTransport = v_priceBandsTransport.higherKey( currentPowerDrawn_kW ) - currentPowerDrawn_kW;
	} 	
	else {
		availablePowerTransport = v_priceBandsTransport.ceilingKey( currentPowerDrawn_kW ) - currentPowerDrawn_kW;
	}
	
	if( currentPowerDrawn_kW == v_priceBandsTax.floorKey( currentPowerDrawn_kW )){
		availablePowerTax = v_priceBandsTax.higherKey( currentPowerDrawn_kW ) - currentPowerDrawn_kW;
	} 	
	else {
		availablePowerTax = v_priceBandsTax.ceilingKey( currentPowerDrawn_kW ) - currentPowerDrawn_kW;
	}		
	
}*/

//availablePower = min(min(availablePowerDelivery, availablePowerTransport), availablePowerTax);
if( currentPowerDrawn_kW >= 0 ){ // Only check if current power is positive or negative
	availablePower_kW = 1e10; // 'Infinite', in this case 10 TW. Something else should be the limiting factor on power.
} else {
	availablePower_kW = -currentPowerDrawn_kW;
}

//traceln("Still using treemaps in f_getAvailablePowerAtPrice!");
return availablePower_kW;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1675068408612</Id>
					<Name><![CDATA[f_getAveragedElectricityPrice]]></Name>
					<Description><![CDATA[Returns the average electricity price of a given additional power demand above a current demand, taking all tariff structures into accounts. Mainly used for heatpumps that only operate at full ]]></Description>
					<X>660</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[baseDemand_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[requestedPower_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[double price_eurph = 0; 
double availablePower_kW = 0; 
double addedPrice_eurpkWh;
double addedPower_kW;
double currentPowerRequestLevel_kW;

boolean isDemandMet = false;
double loopcount = 1;

//traceln( " ");
//traceln( "starting demand: " + baseDemand_kW);
//traceln("Power request: " + requestedPower_kW);

while (! isDemandMet ) { // Loop door de treemap tot je requestedPower_kW bereikt
	//traceln( " ");
	//traceln( "loop " + loopcount + ", available Power: " + availablePower_kW);
	currentPowerRequestLevel_kW = roundToDecimal( availablePower_kW + baseDemand_kW, 5);
	//traceln("Current power request level = " + currentPowerRequestLevel_kW) ;
	
	addedPrice_eurpkWh = f_getElectricityPrice(currentPowerRequestLevel_kW);
	addedPower_kW = f_getAvailablePowerAtPrice(currentPowerRequestLevel_kW);
	//traceln("Added power " + addedPower_kW);
	
	if(addedPower_kW + availablePower_kW >= requestedPower_kW) {
		addedPower_kW = requestedPower_kW - availablePower_kW;
		price_eurph += addedPrice_eurpkWh * addedPower_kW;
		isDemandMet = true;
	} 
	else {
		availablePower_kW += addedPower_kW;
		price_eurph += addedPrice_eurpkWh * addedPower_kW;		
		loopcount += 1;
	}
	//traceln("price added " + addedPrice_eurpkWh);
}
//traceln("total price " + price_eurph);
//getEngine().pause();
traceln("Still using treemaps in f_getAveragedElectricityPrice!");

return price_eurph / requestedPower_kW;

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1679478105441</Id>
					<Name><![CDATA[f_getMethanePrice]]></Name>
					<X>660</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( v_methanePrice_eurpkWh == 0.0 ){
	throw new IllegalStateException("Missing methane contracts! No methane price available for this connection!");
}
return v_methanePrice_eurpkWh;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1679478116012</Id>
					<Name><![CDATA[f_getHydrogenPrice]]></Name>
					<X>660</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( v_hydrogenPrice_eurpkWh == 0.0 ){
	throw new IllegalStateException("Missing hydrogen contracts! No hydrogen price available for this connection!");
}
return v_hydrogenPrice_eurpkWh;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1704371830113</Id>
					<Name><![CDATA[f_resetStates]]></Name>
					<X>660</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Reset energytotals
v_totalElectricityUsed_kWh = v_totalHeatUsed_kWh = v_totalMethaneUsed_kWh = v_totalHydrogenUsed_kWh = v_totalDieselUsed_kWh = 0;
// Reset finances
v_balanceElectricity_eur = v_balanceElectricityDelivery_eur = v_balanceElectricityTransport_eur = v_balanceElectricityTax_eur = 0;
]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1660224852389</Id>
					<Name><![CDATA[connections]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-70</X><Y>-110</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[TreeMap<Double, Double>]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660225105554</Id>
					<Name><![CDATA[energySupplier]]></Name>
					<Description><![CDATA[Link naar bovenliggende actor, bijv. een Coop, of energySupplier. Gebruikt om lid te worden van een Coop of aangesloten te zijn bij een energieleverancier.

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>60</X><Y>-70</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>SINGLE_LINK</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660225105556</Id>
					<Name><![CDATA[gridConnections]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de Coop)

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>440</X><Y>-90</Y>
					<Label><X>15</X><Y>5</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentReferenceId>1658499438203</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1703256762219</Id>
					<Name><![CDATA[l_subTenant]]></Name>
					<X>200</X><Y>-20</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentReferenceId>1658752695711</AgentReferenceId>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<BidirectionalPeerId>1703256686877</BidirectionalPeerId>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660730128545</Id>
					<Name><![CDATA[energyModel]]></Name>
					<X>60</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660224852393</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Line>
					<Id>1667917035332</Id>
					<Name><![CDATA[line1]]></Name>
					<X>920</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667917035334</Id>
					<Name><![CDATA[text1]]></Name>
					<X>950</X><Y>40</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Contracts]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Rectangle>
					<Id>1674921588187</Id>
					<Name><![CDATA[rectangle5]]></Name>
					<X>510</X><Y>550</Y>
					<Label><X>10</X><Y>10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>2</LineWidth>
					<LineColor>-4144960</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DASHED</LineStyle>
					<Width>709.199</Width>
					<Height>189.967</Height>
					<Rotation>0.0</Rotation>
					<FillColor>-1</FillColor>
					<FillMaterial>null</FillMaterial>
				</Rectangle>
				<Text>
					<Id>1674921588189</Id>
					<Name><![CDATA[text12]]></Name>
					<X>730</X><Y>580</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-8355712</Color>
					<Text><![CDATA[Current consumption volumes]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Text>
					<Id>1674921619300</Id>
					<Name><![CDATA[text13]]></Name>
					<X>970</X><Y>580</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-8355712</Color>
					<Text><![CDATA[Electricity financial accounting]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Control Type="Button">
				 	<EmbeddedIcon>false</EmbeddedIcon>				
					<Id>1675071708039</Id>
					<Name><![CDATA[button]]></Name>
					<X>660</X><Y>350</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<BasicProperties Width="140" Height="30">
                        <EmbeddedIcon>false</EmbeddedIcon>	
						<TextColor/>
						<Enabled>true</Enabled>
						<ActionCode><![CDATA[traceln("f_getAveragedElectricityPrice(-5, 10): " + f_getAveragedElectricityPrice(-5, 10));
traceln("f_getAveragedElectricityPrice(-5, 5): " + f_getAveragedElectricityPrice(-5, 5));
traceln("f_getAveragedElectricityPrice(-5, 4): " + f_getAveragedElectricityPrice(-5, 4));

/*
traceln("f_getAvailablePowerAtPrice(5) " + f_getAvailablePowerAtPrice(5));
traceln("f_getElectricityPrice(5) " + f_getElectricityPrice(5));
traceln("f_getAvailablePowerAtPrice(0) " + f_getAvailablePowerAtPrice(0));
traceln("f_getElectricityPrice(0) " + f_getElectricityPrice(0));
traceln("f_getAvailablePowerAtPrice(-1) " + f_getAvailablePowerAtPrice(-1));
traceln("f_getElectricityPrice(-1) " + f_getElectricityPrice(-1));
traceln("f_getAvailablePowerAtPrice(-10) " + f_getAvailablePowerAtPrice(-10));
traceln("f_getElectricityPrice(-10) " + f_getElectricityPrice(-10));
*/
]]></ActionCode>
					</BasicProperties>
					<ExtendedProperties>
						<Font Name="Dialog" Size="11" Style="0"/>
						<LabelText><![CDATA[test avg price function]]></LabelText>
					</ExtendedProperties>
				</Control>
				<Text>
					<Id>1676900973459</Id>
					<Name><![CDATA[text14]]></Name>
					<X>540</X><Y>580</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-8355712</Color>
					<Text><![CDATA[Total consumption]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660572036696</Id>
			<Name><![CDATA[UI_OUD]]></Name>
			<ExcludeFromBuild>true</ExcludeFromBuild>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[Actor]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_actorGroup]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorSubgroup]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorType]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660572036694</Id>
				<Name><![CDATA[1660572036694]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660636800000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660572036692</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660572036695</CurrentLevel>
			<ConnectionsId>1660572036691</ConnectionsId>
			<Variables>
				<Variable Class="Parameter">
					<Id>1703255242678</Id>
					<Name><![CDATA[p_mainTenantID]]></Name>
					<X>60</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1703255242676</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1703255275617</Id>
					<Name><![CDATA[c_GISBuildings]]></Name>
					<X>60</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Object]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<AgentLinks>
				<AgentLink>
					<Id>1660572036691</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<DrawLine>true</DrawLine>
					<LineStyle>DOTTED</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>ABOVE_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1703255147006</Id>
					<Name><![CDATA[mainTenant]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de Coop)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>50</X><Y>-20</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>SINGLE_LINK</AgentLinkType>
					<AgentReferenceId>1660224852394</AgentReferenceId>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>


			<Presentation>
				<Level>
					<Id>1660572036695</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731364525</Id>
			<Name><![CDATA[GovernmentLayer]]></Name>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[Actor]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_actorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorSubgroup]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorGroup]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731364523</Id>
				<Name><![CDATA[1660731364523]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731364521</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731364524</CurrentLevel>
			<ConnectionsId>1660731364520</ConnectionsId>
			<AgentLinks>
				<AgentLink>
					<Id>1660731364520</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660732002822</Id>
					<Name><![CDATA[energyModel]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731364524</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731375016</Id>
			<Name><![CDATA[EnergyCoop]]></Name>
			<Import><![CDATA[import com.fasterxml.jackson.databind.JsonNode;]]></Import>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[Actor]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_actorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorSubgroup]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorGroup]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731375014</Id>
				<Name><![CDATA[1660731375014]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731375012</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731375015</CurrentLevel>
			<ConnectionsId>1660731375011</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1667983361361</Id>
					<Name><![CDATA[v_energyPassedThrough_kWh]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-170</X><Y>860</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361363</Id>
					<Name><![CDATA[v_electricityVolume_kWh]]></Name>
					<X>41</X><Y>449</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361365</Id>
					<Name><![CDATA[v_heatVolume_kWh]]></Name>
					<X>41</X><Y>469</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361367</Id>
					<Name><![CDATA[v_methaneVolume_kWh]]></Name>
					<X>41</X><Y>489</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361369</Id>
					<Name><![CDATA[v_electricitySurplus_kW]]></Name>
					<X>41</X><Y>589</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361373</Id>
					<Name><![CDATA[v_electricityImported_kWh]]></Name>
					<X>384</X><Y>449</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361375</Id>
					<Name><![CDATA[v_electricityExported_kWh]]></Name>
					<X>601</X><Y>447</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361377</Id>
					<Name><![CDATA[v_methaneImported_kWh]]></Name>
					<X>384</X><Y>469</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361379</Id>
					<Name><![CDATA[v_methaneExported_kWh]]></Name>
					<X>601</X><Y>467</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361381</Id>
					<Name><![CDATA[v_heatImported_kWh]]></Name>
					<X>384</X><Y>489</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361383</Id>
					<Name><![CDATA[v_heatExported_kWh]]></Name>
					<X>601</X><Y>487</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361385</Id>
					<Name><![CDATA[v_hydrogenImported_kWh]]></Name>
					<X>384</X><Y>509</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361387</Id>
					<Name><![CDATA[v_hydrogenExported_kWh]]></Name>
					<X>601</X><Y>507</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1667983361389</Id>
					<Name><![CDATA[v_hydrogenVolume_kWh]]></Name>
					<X>41</X><Y>509</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587453344</Id>
					<Name><![CDATA[v_balanceMembers_eur]]></Name>
					<X>690</X><Y>620</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587453348</Id>
					<Name><![CDATA[v_balanceMethane_eur]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-170</X><Y>760</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587453350</Id>
					<Name><![CDATA[v_balanceHeat_eur]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-170</X><Y>780</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587453352</Id>
					<Name><![CDATA[v_balanceHydrogen_eur]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-170</X><Y>800</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587944764</Id>
					<Name><![CDATA[v_electricityContractType]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-170</X><Y>580</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[OL_ContractType.ELECTRICITY_VARIABLE]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587944767</Id>
					<Name><![CDATA[v_heatContractType]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-170</X><Y>600</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[HEAT_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587944769</Id>
					<Name><![CDATA[v_methaneContractType]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-170</X><Y>620</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[METHANE_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1668587944771</Id>
					<Name><![CDATA[v_hydrogenContractType]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-170</X><Y>640</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_ContractType]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[HYDROGEN_FIXED]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669024077839</Id>
					<Name><![CDATA[v_dieselImported_kWh]]></Name>
					<X>383</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669024099515</Id>
					<Name><![CDATA[v_dieselVolume_kWh]]></Name>
					<X>40</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669024644541</Id>
					<Name><![CDATA[v_balanceDiesel_eur]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-170</X><Y>820</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669037269503</Id>
					<Name><![CDATA[v_contractEnergyCoop]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-170</X><Y>680</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[String]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669035973258</Id>
					<Name><![CDATA[v_allowedCapacity_kW]]></Name>
					<X>383</X><Y>630</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[Double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669037284540</Id>
					<Name><![CDATA[v_contractEnergySupplier]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-170</X><Y>700</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[String]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1669037300744</Id>
					<Name><![CDATA[v_contractGridOperator]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-170</X><Y>720</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[String]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1670254434536</Id>
					<Name><![CDATA[v_enable_nfATO_b]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>383</X><Y>570</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1675335053811</Id>
					<Name><![CDATA[j_ActorData]]></Name>
					<X>40</X><Y>710</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_ActorData]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676552003055</Id>
					<Name><![CDATA[v_contractDelivery]]></Name>
					<X>390</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_DeliveryContract]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676552003057</Id>
					<Name><![CDATA[v_contractTransport]]></Name>
					<X>390</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_TransportContract]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676552003059</Id>
					<Name><![CDATA[v_contractTax]]></Name>
					<X>390</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_TaxContract]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676552003061</Id>
					<Name><![CDATA[v_contractConnection]]></Name>
					<X>390</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_ConnectionContract]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676552997739</Id>
					<Name><![CDATA[v_balanceElectricityDelivery_eur]]></Name>
					<X>600</X><Y>359</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676552997741</Id>
					<Name><![CDATA[v_balanceElectricityTransport_eur]]></Name>
					<X>600</X><Y>379</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676552997743</Id>
					<Name><![CDATA[v_balanceElectricityTax_eur]]></Name>
					<X>600</X><Y>399</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676553064622</Id>
					<Name><![CDATA[v_electricityVariablePrice_eurpkWh]]></Name>
					<X>40</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676553064625</Id>
					<Name><![CDATA[v_priceBandsDelivery]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>384</X><Y>339</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676553064627</Id>
					<Name><![CDATA[v_currentNodalPrice_eurpkWh]]></Name>
					<X>40</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676553064629</Id>
					<Name><![CDATA[v_priceBandsTransport]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>384</X><Y>358</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1676553064631</Id>
					<Name><![CDATA[v_priceBandsTax]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>384</X><Y>378</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[TreeMap<Double, Double>]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1679563490208</Id>
					<Name><![CDATA[v_methanePrice_eurpkWh]]></Name>
					<X>40</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1679563490210</Id>
					<Name><![CDATA[v_hydrogenPrice_eurpkWh]]></Name>
					<X>40</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1679563490212</Id>
					<Name><![CDATA[v_heatPrice_eurpkWh]]></Name>
					<X>40</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1692113155819</Id>
					<Name><![CDATA[v_balanceElectricity_eur]]></Name>
					<X>600</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1692113346724</Id>
					<Name><![CDATA[v_totalBalanceCoop_eur]]></Name>
					<X>660</X><Y>660</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1692620449476</Id>
					<Name><![CDATA[v_electricitySurplusLowPassed_kW]]></Name>
					<X>41</X><Y>609</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1692620522011</Id>
					<Name><![CDATA[v_lowPassFactor_fr]]></Name>
					<X>40</X><Y>630</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[min(1, 0.8*1.2 * energyModel.p_timeStep_h) //0.2 ]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1692631118805</Id>
					<Name><![CDATA[v_assetDepreciation_eur]]></Name>
					<X>690</X><Y>580</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311931</Id>
					<Name><![CDATA[v_totalEnergyUsed_MWh]]></Name>
					<X>60</X><Y>1080</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311935</Id>
					<Name><![CDATA[v_totalEnergyProduced_MWh]]></Name>
					<X>60</X><Y>1060</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311937</Id>
					<Name><![CDATA[v_totalSelfConsumedEnergy_MWh]]></Name>
					<X>60</X><Y>1120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311939</Id>
					<Name><![CDATA[v_totalImport_MWh]]></Name>
					<X>60</X><Y>1020</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311941</Id>
					<Name><![CDATA[v_summerWeekTotalImport_MWh]]></Name>
					<X>300</X><Y>1020</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311943</Id>
					<Name><![CDATA[v_summerWeekTotalExport_MWh]]></Name>
					<X>300</X><Y>1040</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311945</Id>
					<Name><![CDATA[v_summerWeekEnergyUsed_MWh]]></Name>
					<X>300</X><Y>1060</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311947</Id>
					<Name><![CDATA[v_summerWeekEnergyProduced_MWh]]></Name>
					<X>300</X><Y>1080</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311949</Id>
					<Name><![CDATA[v_summerWeekSelfConsumedEnergy_MWh]]></Name>
					<X>300</X><Y>1100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311951</Id>
					<Name><![CDATA[v_winterWeekTotalImport_MWh]]></Name>
					<X>590</X><Y>1020</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311953</Id>
					<Name><![CDATA[v_winterWeekTotalExport_MWh]]></Name>
					<X>590</X><Y>1040</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311955</Id>
					<Name><![CDATA[v_winterWeekEnergyUsed_MWh]]></Name>
					<X>590</X><Y>1060</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311957</Id>
					<Name><![CDATA[v_winterWeekEnergyProduced_MWh]]></Name>
					<X>590</X><Y>1080</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311959</Id>
					<Name><![CDATA[v_winterWeekSelfConsumedEnergy_MWh]]></Name>
					<X>590</X><Y>1100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311961</Id>
					<Name><![CDATA[v_totalExport_MWh]]></Name>
					<X>60</X><Y>1040</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311963</Id>
					<Name><![CDATA[v_daytimeTotalImport_MWh]]></Name>
					<X>302</X><Y>1132</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311965</Id>
					<Name><![CDATA[v_daytimeTotalExport_MWh]]></Name>
					<X>302</X><Y>1152</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311967</Id>
					<Name><![CDATA[v_daytimeEnergyUsed_MWh]]></Name>
					<X>302</X><Y>1172</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311969</Id>
					<Name><![CDATA[v_daytimeEnergyProduced_MWh]]></Name>
					<X>302</X><Y>1192</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311971</Id>
					<Name><![CDATA[v_daytimeSelfConsumedEnergy_MWh]]></Name>
					<X>302</X><Y>1212</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311973</Id>
					<Name><![CDATA[v_nighttimeTotalImport_MWh]]></Name>
					<X>590</X><Y>1130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311975</Id>
					<Name><![CDATA[v_nighttimeTotalExport_MWh]]></Name>
					<X>590</X><Y>1150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311977</Id>
					<Name><![CDATA[v_nighttimeEnergyUsed_MWh]]></Name>
					<X>590</X><Y>1170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311979</Id>
					<Name><![CDATA[v_nighttimeEnergyProduced_MWh]]></Name>
					<X>590</X><Y>1190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311981</Id>
					<Name><![CDATA[v_nighttimeSelfConsumedEnergy_MWh]]></Name>
					<X>590</X><Y>1210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311983</Id>
					<Name><![CDATA[v_weekdayTotalImport_MWh]]></Name>
					<X>302</X><Y>1240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311985</Id>
					<Name><![CDATA[v_weekdayTotalExport_MWh]]></Name>
					<X>302</X><Y>1260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311987</Id>
					<Name><![CDATA[v_weekdayEnergyUsed_MWh]]></Name>
					<X>302</X><Y>1280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311989</Id>
					<Name><![CDATA[v_weekdayEnergyProduced_MWh]]></Name>
					<X>302</X><Y>1300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311991</Id>
					<Name><![CDATA[v_weekdaySelfConsumedEnergy_MWh]]></Name>
					<X>302</X><Y>1320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311993</Id>
					<Name><![CDATA[v_weekendTotalImport_MWh]]></Name>
					<X>590</X><Y>1238</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311995</Id>
					<Name><![CDATA[v_weekendTotalExport_MWh]]></Name>
					<X>590</X><Y>1258</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311997</Id>
					<Name><![CDATA[v_weekendEnergyUsed_MWh]]></Name>
					<X>590</X><Y>1278</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291311999</Id>
					<Name><![CDATA[v_weekendEnergyProduced_MWh]]></Name>
					<X>590</X><Y>1298</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291312001</Id>
					<Name><![CDATA[v_weekendSelfConsumedEnergy_MWh]]></Name>
					<X>590</X><Y>1318</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291413590</Id>
					<Name><![CDATA[v_currentEnergyConsumption_kW]]></Name>
					<X>60</X><Y>1150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291413592</Id>
					<Name><![CDATA[v_currentEnergyProduction_kW]]></Name>
					<X>60</X><Y>1170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704291413594</Id>
					<Name><![CDATA[v_currentEnergyCurtailed_kW]]></Name>
					<X>60</X><Y>1190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704453547475</Id>
					<Name><![CDATA[v_totalEnergyCurtailed_MWh]]></Name>
					<X>60</X><Y>1100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1669037234222</Id>
					<Name><![CDATA[p_actorContractList]]></Name>
					<X>390</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[com.fasterxml.jackson.databind.node.ArrayNode]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>0</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1669036172744</Id>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
					<Description><![CDATA[TODO: This is still hardcoded! How should Coop know where to 'gather' this data? (Capacity of shared connection)]]></Description>
					<X>60</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1669036172742</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1671707831168</Id>
					<Name><![CDATA[p_gridNodeUnderResponsibility]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a Coop or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1671707831166</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1676551040549</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Unique identifier of this actor in String format. Designated in Config-excel and used to link actors to netConnections.

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-120</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1676551040547</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1676551040552</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-120</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1676551040550</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1676551040555</Id>
					<Name><![CDATA[p_parentActorID]]></Name>
					<Description><![CDATA[Unique actor identifier in String format of a designated parent actor. This may be designated in Config-excel and is used to create an agent link with a higher lying agent (e.g. a Coop or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-170</X><Y>550</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1676551040553</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1676551040558</Id>
					<Name><![CDATA[p_electricitySupplier]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a Coop or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Actor]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1676551040556</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1676551708075</Id>
					<Name><![CDATA[p_CoopParent]]></Name>
					<X>60</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Actor]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1676551708073</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1676551708078</Id>
					<Name><![CDATA[p_gridOperator]]></Name>
					<X>60</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Actor]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1676551708076</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1679563405825</Id>
					<Name><![CDATA[p_methaneSupplier]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a Coop or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Actor]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1679563405823</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1679563405829</Id>
					<Name><![CDATA[p_hydrogenSupplier]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a Coop or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Actor]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1679563405827</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1679563405832</Id>
					<Name><![CDATA[p_heatSupplier]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a Coop or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[Actor]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1679563405830</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1692112528722</Id>
					<Name><![CDATA[p_yearlyOperationalCosts_eur]]></Name>
					<Description><![CDATA[TODO: This is still hardcoded! How should Coop know where to 'gather' this data? (Capacity of shared connection)]]></Description>
					<X>690</X><Y>640</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[123456]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1692112528720</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1692620732354</Id>
					<Name><![CDATA[p_applyKostprijsPlus]]></Name>
					<X>40</X><Y>570</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[true]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1692620732352</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1679563561816</Id>
					<Name><![CDATA[c_actorContracts]]></Name>
					<X>391</X><Y>91</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[J_Contract]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1678292542481</Id>
					<Name><![CDATA[c_CoopMembers]]></Name>
					<X>60</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[LinkedHashMap]]></CollectionClass>
						<ElementClass><![CDATA[Agent]]></ElementClass>
						<ValueElementClass><![CDATA[Object]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Events>
				<Event>
					<Id>1669035973262</Id>
					<Name><![CDATA[e_startNonFirmATO]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>383</X><Y>590</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1669017600000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[1d/1f]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[DAY]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[v_allowedCapacity_kW = v_contractConnection.nfATOpower_kW;// p_nfatoLvl_kW;]]></Action>
				</Event>
				<Event>
					<Id>1669035973267</Id>
					<Name><![CDATA[e_endNonFirmATO]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>383</X><Y>610</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1669017600000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[1d/1f]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[DAY]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[v_allowedCapacity_kW = p_connectionCapacity_kW;]]></Action>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736326703</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>660</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[EnergyCarrier]]></Name>
						<Type><![CDATA[OL_EnergyCarrierType]]></Type>
					</Parameter>
					<Body><![CDATA[switch( EnergyCarrier ) {
		case ELECTRICITY:
			subConnectionsElectricity.connectTo(ConnectingChildNode);
		break;
		case METHANE:
			subConnectionsMethane.connectTo(ConnectingChildNode);
		break;
		case HYDROGEN:
			subConnectionsHydrogen.connectTo(ConnectingChildNode);
		break;
		case HEAT:
			subConnectionsHeat.connectTo(ConnectingChildNode);
		break;
		default:
				
		break;		
}
c_CoopMembers.put( ConnectingChildNode, ConnectingChildNode.getIndex() );


/*
if ( v_contractGridOperator.equals("NODALPRICING")) {
//	traceln("Enabling nodal pricing for Coop memmber!");
	if (ConnectingChildNode instanceof ConnectionOwner) {
		//((ConnectionOwner)ConnectingChildNode).v_contractGridOperator = v_contractGridOperator;
		((ConnectionOwner)ConnectingChildNode).v_congestionTariff_b = true;
	}
}
if ( v_contractEnergySupplier.equals("VARIABLE")) {
	if (ConnectingChildNode instanceof ConnectionOwner) {
		((ConnectionOwner)ConnectingChildNode).v_electricityContractType = OL_DeliveryContractType.ELECTRICITY_VARIABLE;
		//((ConnectionOwner)ConnectingChildNode).v_contractEnergySupplier= v_contractEnergySupplier;
		//((ConnectionOwner)ConnectingChildNode).v_updatePriceBands_b = true;
	}
}
*/]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660806150226</Id>
					<Name><![CDATA[f_updateFinances]]></Name>
					<X>660</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// get current energy flows
f_gatherEnergyFlows();

double currentPowerDrawn_kW = v_electricityVolume_kWh / energyModel.p_timeStep_h;

// trigger transaction with supplier/Coop

double transactionCost_eur = 0;//((EnergySupplier)p_energySupplier).f_doEnergyTransaction(v_electricityVolume_kWh, v_electricityContractType);
double transactionCostTax_eur = 0;
double transactionCostTransport_eur = 0;
double transactionCostDelivery_eur = 0;
//transactionCost_eur = 0;//((EnergySupplier)p_energySupplier).f_doEnergyTransaction(v_heatVolume_kWh, v_heatContractType);
//v_balanceHeat_eur -= transactionCost_eur;
//transactionCost_eur = 0;//((EnergySupplier)p_energySupplier).f_doEnergyTransaction(v_methaneVolume_kWh, v_methaneContractType);
//v_balanceMethane_eur -= transactionCost_eur;

//
if (v_electricityVolume_kWh >= 0) {
	//transactionCostDelivery_eur = v_priceBandsDelivery.ceilingEntry( currentPowerDrawn_kW ).getValue() * v_electricityVolume_kWh;
	if (v_contractDelivery!=null){
		transactionCostDelivery_eur = (v_contractDelivery.deliveryPrice_eurpkWh + v_electricityVariablePrice_eurpkWh) * v_electricityVolume_kWh;
	} else {
		transactionCostDelivery_eur = v_electricityVariablePrice_eurpkWh * v_electricityVolume_kWh;
	}
	v_balanceElectricityDelivery_eur -= transactionCostDelivery_eur;
	v_balanceElectricity_eur -= transactionCostDelivery_eur;

	if (v_contractTax!=null){
		transactionCostTax_eur = v_contractTax.deliveryTax_eurpkWh * v_electricityVolume_kWh;
		//transactionCostTax_eur = v_electricityVolume_kWh * v_contractTax.feedinTax_eurpkWh + v_contractTax.proportionalTax_pct*(v_electricityVolume_kWh * v_contractTax.feedinTax_eurpkWh + transactionCostDelivery_eur + transactionCostTransport_eur);
		v_balanceElectricityTax_eur -= transactionCostTax_eur;
		v_balanceElectricity_eur -= transactionCostTax_eur;
	}
} else {
	if (v_contractDelivery!=null){
		transactionCostDelivery_eur = (v_contractDelivery.feedinPrice_eurpkWh + v_electricityVariablePrice_eurpkWh) * v_electricityVolume_kWh;
	} else {
		transactionCostDelivery_eur = v_electricityVariablePrice_eurpkWh * v_electricityVolume_kWh;
	}
	v_balanceElectricityDelivery_eur -= transactionCostDelivery_eur;
	v_balanceElectricity_eur -= transactionCostDelivery_eur;

	if (v_contractTax!=null){
		transactionCostTax_eur = v_contractTax.feedinTax_eurpkWh * v_electricityVolume_kWh;
		//transactionCostTax_eur = v_electricityVolume_kWh * v_contractTax.feedinTax_eurpkWh + v_contractTax.proportionalTax_pct*(v_electricityVolume_kWh * v_contractTax.feedinTax_eurpkWh + transactionCostDelivery_eur + transactionCostTransport_eur);
		v_balanceElectricityTax_eur -= transactionCostTax_eur;
		v_balanceElectricity_eur -= transactionCostTax_eur;
	}
}

transactionCostTransport_eur = v_currentNodalPrice_eurpkWh * v_electricityVolume_kWh;
v_balanceElectricityTransport_eur -= transactionCostTransport_eur;
v_balanceElectricity_eur -= transactionCostTransport_eur;


// TODO: Also needs to include congestion tariffs! So Coop needs to know to which GridNode it's connected! How should that work?]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660825183645</Id>
					<Name><![CDATA[f_doEnergyTransaction]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-170</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[transactionVolume_kWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[contractType]]></Name>
						<Type><![CDATA[OL_ContractType]]></Type>
					</Parameter>
					<Body><![CDATA[double transactionCostClient_eur = 0;

if( p_energySupplier instanceof EnergySupplier ) {
	EnergySupplier energySupplier = (EnergySupplier)p_energySupplier;
	transactionCostClient_eur = energySupplier.f_doEnergyTransaction(transactionVolume_kWh, contractType);
} else if( p_energySupplier instanceof EnergyCoop ) {
	EnergyCoop energySupplier = (EnergyCoop)p_energySupplier;
	transactionCostClient_eur = energySupplier.f_doEnergyTransaction(transactionVolume_kWh, contractType);
}

v_energyPassedThrough_kWh += transactionVolume_kWh;

return transactionCostClient_eur;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660825257472</Id>
					<Name><![CDATA[f_connectToParentActor]]></Name>
					<Description><![CDATA[Creates an agentLink in superConnection if a parentActorID is designated in the config-excel. Called from f_configureBackBone() in main for profiling reasons, so no parameters are given.

@param: none
@return: none
@since: Sprint 6
@author: HOUJ]]></Description>
					<X>660</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[Actor mySupplier = null;
mySupplier = findFirst(energyModel.pop_energySuppliers, p->p.p_actorID.equals(v_contractDelivery.contractScope)) ;
if (mySupplier != null) {
	((EnergySupplier)mySupplier).f_connectToChild(this);	
} else {
	mySupplier = findFirst(energyModel.pop_energyCoops, p->p.p_actorID.equals(v_contractDelivery.contractScope)) ;
	if (mySupplier != null) {
		((EnergyCoop)mySupplier).f_connectToChild(this,OL_EnergyCarrierType.ELECTRICITY);	
	}
}

if (mySupplier != null) {
	p_electricitySupplier = mySupplier;
} 
else { 
	p_electricitySupplier = energyModel.pop_energySuppliers.get(0);  // this is a harcoded fix to make the buurtmodel run for 21-3-2023
	traceln("Connection owner %s --> f_connectToParentActor --> no parent actor %s found, this should not be happening", this, v_contractDelivery.contractScope);
}

Actor myGridoperator = null;
// Connect to grid operator (can be a Coop!)
myGridoperator = findFirst(energyModel.pop_gridOperators, p->p.p_actorID.equals(v_contractTransport.contractScope)) ;
if (myGridoperator == null) {
	myGridoperator = findFirst(energyModel.pop_energyCoops, p->p.p_actorID.equals(v_contractTransport.contractScope)) ;
}

if (myGridoperator != null) {
	p_gridOperator = myGridoperator;	
} else { 
	//p_gridOperator = main.pop_gridOperators.get( 0 ) ; // this is a harcoded fix to make the buurtmodel run for 21-3-2023
	traceln("Connection owner --> f_connectToParentActor --> no parent actor found, this should not be happening");
}
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1667983361355</Id>
					<Name><![CDATA[f_gatherEnergyFlows]]></Name>
					<X>661</X><Y>239</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// reset energy flows
v_electricityVolume_kWh = 0;
v_heatVolume_kWh = 0;
v_methaneVolume_kWh = 0;
v_hydrogenVolume_kWh = 0;
v_dieselVolume_kWh = 0;

//
v_currentEnergyConsumption_kW = 0;
v_currentEnergyProduction_kW = 0;
v_currentEnergyCurtailed_kW = 0;

// gather electricity flows
for(Agent a :  subConnectionsElectricity.getConnections() ) {
	if(a instanceof ConnectionOwner){
		ConnectionOwner n = (ConnectionOwner)a;
		v_electricityVolume_kWh += n.v_electricityVolume_kWh;
		if (energyModel.v_isRapidRun){
			for (GridConnection GC : n.gridConnections.getConnections()) {
				v_currentEnergyConsumption_kW += GC.v_currentEnergyConsumption_kW;
				v_currentEnergyProduction_kW += GC.v_currentEnergyProduction_kW;
				v_currentEnergyCurtailed_kW += GC.v_currentEnergyCurtailed_kW;
			}
		}
		v_heatVolume_kWh += n.v_heatVolume_kWh;
		v_methaneVolume_kWh += n.v_methaneVolume_kWh;
		v_hydrogenVolume_kWh += n.v_hydrogenVolume_kWh;
		v_dieselVolume_kWh += n.v_dieselVolume_kWh;
	} else if (a instanceof EnergyCoop) {
		EnergyCoop n = (EnergyCoop)a;
		v_electricityVolume_kWh += n.v_electricityVolume_kWh;
		//v_heatVolume_kWh += n.v_heatVolume_kWh;
		//v_methaneVolume_kWh += n.v_methaneVolume_kWh;
		//v_hydrogenVolume_kWh += n.v_hydrogenVolume_kWh;
		//v_dieselVolume_kWh += n.v_dieselVolume_kWh;
	}
}
v_totalEnergyUsed_MWh += (v_currentEnergyConsumption_kW * energyModel.p_timeStep_h)/1000;
v_totalEnergyProduced_MWh += (v_currentEnergyProduction_kW * energyModel.p_timeStep_h)/1000;
v_totalEnergyCurtailed_MWh += (v_currentEnergyCurtailed_kW * energyModel.p_timeStep_h)/1000;

v_electricitySurplus_kW = -v_electricityVolume_kWh / energyModel.p_timeStep_h;

/*
// gather methane flows
for(Agent a :  subConnectionsMethane.getConnections() ) {
	if(a instanceof ConnectionOwner){
		ConnectionOwner n = (ConnectionOwner)a;
		//v_electricityVolume_kWh += n.v_electricityVolume_kWh;
		//v_heatVolume_kWh += n.v_heatVolume_kWh;
		v_methaneVolume_kWh += n.v_methaneVolume_kWh;
		//v_hydrogenVolume_kWh += n.v_hydrogenVolume_kWh;
		//v_dieselVolume_kWh += n.v_dieselVolume_kWh;
	} else if (a instanceof EnergyCoop) {
		EnergyCoop n = (EnergyCoop)a;
		//v_electricityVolume_kWh += n.v_electricityVolume_kWh;
		//v_heatVolume_kWh += n.v_heatVolume_kWh;
		v_methaneVolume_kWh += n.v_methaneVolume_kWh;
		//v_hydrogenVolume_kWh += n.v_hydrogenVolume_kWh;
		//v_dieselVolume_kWh += n.v_dieselVolume_kWh;
	}
}

// gather hydrogen flows
for(Agent a :  subConnectionsHydrogen.getConnections() ) {
	if(a instanceof ConnectionOwner){
		ConnectionOwner n = (ConnectionOwner)a;
		//v_electricityVolume_kWh += n.v_electricityVolume_kWh;
		//v_heatVolume_kWh += n.v_heatVolume_kWh;
		//v_methaneVolume_kWh += n.v_methaneVolume_kWh;
		v_hydrogenVolume_kWh += n.v_hydrogenVolume_kWh;
		//v_dieselVolume_kWh += n.v_dieselVolume_kWh;
	} else if (a instanceof EnergyCoop) {
		EnergyCoop n = (EnergyCoop)a;
		//v_electricityVolume_kWh += n.v_electricityVolume_kWh;
		//v_heatVolume_kWh += n.v_heatVolume_kWh;
		//v_methaneVolume_kWh += n.v_methaneVolume_kWh;
		v_hydrogenVolume_kWh += n.v_hydrogenVolume_kWh;
		//v_dieselVolume_kWh += n.v_dieselVolume_kWh;
	}
}

// gather heat flows
for(Agent a :  subConnectionsHeat.getConnections() ) {
	if(a instanceof ConnectionOwner){
		ConnectionOwner n = (ConnectionOwner)a;
		//v_electricityVolume_kWh += n.v_electricityVolume_kWh;
		v_heatVolume_kWh += n.v_heatVolume_kWh;
		//v_methaneVolume_kWh += n.v_methaneVolume_kWh;
		//v_hydrogenVolume_kWh += n.v_hydrogenVolume_kWh;
		//v_dieselVolume_kWh += n.v_dieselVolume_kWh;
	} else if (a instanceof EnergyCoop) {
		EnergyCoop n = (EnergyCoop)a;
		//v_electricityVolume_kWh += n.v_electricityVolume_kWh;
		v_heatVolume_kWh += n.v_heatVolume_kWh;
		//v_methaneVolume_kWh += n.v_methaneVolume_kWh;
		//v_hydrogenVolume_kWh += n.v_hydrogenVolume_kWh;
		//v_dieselVolume_kWh += n.v_dieselVolume_kWh;
	}
}*/

v_electricityImported_kWh += max(0,v_electricityVolume_kWh);
v_electricityExported_kWh += -min(0,v_electricityVolume_kWh);
v_methaneImported_kWh += max(0,v_methaneVolume_kWh);
v_methaneExported_kWh += -min(0,v_methaneVolume_kWh);
v_heatImported_kWh += max(0,v_heatVolume_kWh);
v_heatExported_kWh += -min(0,v_heatVolume_kWh);
v_hydrogenImported_kWh += max(0,v_hydrogenVolume_kWh);
v_hydrogenExported_kWh += -min(0,v_hydrogenVolume_kWh);
v_dieselImported_kWh += v_dieselVolume_kWh;

if (energyModel.v_isRapidRun){
	data_annualCoopElectricityBalance_kW.add(energyModel.t_h, v_electricitySurplus_kW);

	//Total use, production, import, export and self-use, for summer, winter and annual.
	if (energyModel.t_h == energyModel.p_startHourSummerWeek) {

		v_summerWeekTotalImport_MWh=(v_electricityImported_kWh + max(0,v_methaneImported_kWh-v_methaneExported_kWh) + max(0,v_hydrogenImported_kWh-v_hydrogenExported_kWh) + v_dieselImported_kWh)/1000;
		v_summerWeekTotalExport_MWh=(v_electricityExported_kWh + max(0,v_methaneExported_kWh-v_methaneImported_kWh) + max(0,v_hydrogenExported_kWh-v_hydrogenImported_kWh))/1000;

		v_summerWeekEnergyUsed_MWh = v_totalEnergyUsed_MWh;
		v_summerWeekEnergyProduced_MWh = v_totalEnergyProduced_MWh;
	}
	if (energyModel.t_h == energyModel.p_startHourSummerWeek + 24*7) {

		v_summerWeekTotalImport_MWh=(v_electricityImported_kWh + max(0,v_methaneImported_kWh-v_methaneExported_kWh) + max(0,v_hydrogenImported_kWh-v_hydrogenExported_kWh) + v_dieselImported_kWh)/1000-v_summerWeekTotalImport_MWh;
		v_summerWeekTotalExport_MWh=(v_electricityExported_kWh + max(0,v_methaneExported_kWh-v_methaneImported_kWh) + max(0,v_hydrogenExported_kWh-v_hydrogenImported_kWh))/1000-v_summerWeekTotalExport_MWh;

		v_summerWeekEnergyUsed_MWh = v_totalEnergyUsed_MWh-v_summerWeekEnergyUsed_MWh;
		v_summerWeekEnergyProduced_MWh = v_totalEnergyProduced_MWh-v_summerWeekEnergyProduced_MWh;

		// Calc selfConsumedEnergy for summerweek
		v_summerWeekSelfConsumedEnergy_MWh = max(0,v_summerWeekEnergyUsed_MWh - v_summerWeekTotalImport_MWh); // Putting positive delta-stored energy here assumes this energy was imported as opposed to self-produced. Putting negative delta-stored energy here assumes this energy was self-consumed, as opposed to exported.
		double v_summerWeekSelfConsumedEnergyCheck_MWh = v_summerWeekEnergyProduced_MWh - v_summerWeekTotalExport_MWh;
		//traceln("Gridconnection %s summerweek selfconsumed use/import based: %s, production/export based: %s", p_agentID, v_summerWeekSelfConsumedEnergy_MWh, v_summerWeekSelfConsumedEnergyCheck_MWh);
	}

	if (energyModel.t_h == energyModel.p_startHourWinterWeek) {

		v_winterWeekTotalImport_MWh=(v_electricityImported_kWh + max(0,v_methaneImported_kWh-v_methaneExported_kWh) + max(0,v_hydrogenImported_kWh-v_hydrogenExported_kWh) + v_dieselImported_kWh)/1000;
		v_winterWeekTotalExport_MWh=(v_electricityExported_kWh + max(0,v_methaneExported_kWh-v_methaneImported_kWh) + max(0,v_hydrogenExported_kWh-v_hydrogenImported_kWh))/1000;

		v_winterWeekEnergyUsed_MWh = v_totalEnergyUsed_MWh;
		v_winterWeekEnergyProduced_MWh = v_totalEnergyProduced_MWh;
	}
	if (energyModel.t_h == energyModel.p_startHourWinterWeek + 24*7) {
		v_winterWeekTotalImport_MWh=(v_electricityImported_kWh + max(0,v_methaneImported_kWh-v_methaneExported_kWh) + max(0,v_hydrogenImported_kWh-v_hydrogenExported_kWh) + v_dieselImported_kWh)/1000-v_winterWeekTotalImport_MWh;
		v_winterWeekTotalExport_MWh=(v_electricityExported_kWh + max(0,v_methaneExported_kWh-v_methaneImported_kWh) + max(0,v_hydrogenExported_kWh-v_hydrogenImported_kWh))/1000-v_winterWeekTotalExport_MWh;
		v_winterWeekEnergyUsed_MWh = v_totalEnergyUsed_MWh-v_winterWeekEnergyUsed_MWh;
		v_winterWeekEnergyProduced_MWh = v_totalEnergyProduced_MWh-v_winterWeekEnergyProduced_MWh;

		// Calc selfConsumedEnergy for winterweek
		v_winterWeekSelfConsumedEnergy_MWh = max(0,v_winterWeekEnergyUsed_MWh - v_winterWeekTotalImport_MWh); // Putting positive delta-stored energy here assumes this energy was imported as opposed to self-produced. Putting negative delta-stored energy here assumes this energy was self-consumed, as opposed to exported.
		double v_winterWeekSelfConsumedEnergyCheck_MWh = v_winterWeekEnergyProduced_MWh - v_winterWeekTotalExport_MWh;
		//traceln("Gridconnection %s winterweek selfconsumed use/import based: %s, production/export based: %s", p_agentID, v_winterWeekSelfConsumedEnergy_MWh, v_winterWeekSelfConsumedEnergyCheck_MWh);
	}

	double currentImport_MWh = (max(0,v_electricityVolume_kWh) + max(0,v_heatVolume_kWh) + max(0,v_methaneVolume_kWh) + max(0,v_hydrogenVolume_kWh) + max(0,v_dieselVolume_kWh))/1000;
	double currentExport_MWh = (max(0,-v_electricityVolume_kWh) + max(0,-v_heatVolume_kWh) + max(0,-v_methaneVolume_kWh) + max(0,-v_hydrogenVolume_kWh) + max(0,-v_dieselVolume_kWh))/1000;

	if(energyModel.t_h % 24 > 6 && energyModel.t_h % 24 < 18) { // Daytime totals. Use overal-total minus daytime total to get nighttime totals.
		v_daytimeTotalImport_MWh += currentImport_MWh;
		v_daytimeTotalExport_MWh += currentExport_MWh;
		v_daytimeEnergyUsed_MWh += v_currentEnergyConsumption_kW * energyModel.p_timeStep_h/1000;
		v_daytimeEnergyProduced_MWh += ( v_currentEnergyProduction_kW/1000 - v_currentEnergyCurtailed_kW/1000 ) * energyModel.p_timeStep_h;
	} /*else { // Nighttime
		v_nighttimeTotalImport_MWh += currentImport_MWh * energyModel.p_timeStep_h;
		v_nighttimeTotalExport_MWh += currentExport_MWh * energyModel.p_timeStep_h;
		v_nighttimeEnergyUsed_MWh += v_currentEnergyConsumption_kW / 1000 * energyModel.p_timeStep_h;
		v_nighttimeEnergyProduced_MWh += ( v_currentEnergyProduction_kW/1000 - v_currentEnergyCurtailed_kW/1000 ) * energyModel.p_timeStep_h;
		//v_nighttimePeakElecImport_kW = max(v_nighttimePeakElecImport_kW,v_currentElectricityImport_kW);
		//v_nighttimePeakElecExport_kW = max(v_nighttimePeakElecExport_kW,v_currentElectricityExport_kW);
	} */ // This is done 'cheaper' i f_calculateKPIs as a single calculation at the end of the run, by taking the difference of total yearly quantities and daytime quantities


	// Weekday totals. Use overal-totals minus weekday totals to get weekend totals.
	if ((energyModel.t_h+3*24) % (24*7) < (24*5)) { // Simulation starts on a Thursday, hence the +3 day offset on t_h
		v_weekdayTotalImport_MWh += currentImport_MWh;
		v_weekdayTotalExport_MWh += currentExport_MWh;
		v_weekdayEnergyUsed_MWh += v_currentEnergyConsumption_kW * energyModel.p_timeStep_h/1000;
		v_weekdayEnergyProduced_MWh += v_currentEnergyProduction_kW * energyModel.p_timeStep_h/1000;
	} /*else { // Nighttime
		v_weekendTotalImport_MWh += currentImport_MWh * energyModel.p_timeStep_h;
		v_weekendTotalExport_MWh += currentExport_MWh * energyModel.p_timeStep_h;
		v_weekendEnergyUsed_MWh += v_currentEnergyConsumption_kW / 1000 * energyModel.p_timeStep_h;
		v_weekendEnergyProduced_MWh += ( v_currentEnergyProduction_kW/1000 - v_currentEnergyCurtailed_kW/1000 ) * energyModel.p_timeStep_h;
		//v_nighttimePeakElecImport_kW = max(v_nighttimePeakElecImport_kW,v_currentElectricityImport_kW);
		//v_nighttimePeakElecExport_kW = max(v_nighttimePeakElecExport_kW,v_currentElectricityExport_kW);
	} */ // This is done 'cheaper' i f_calculateKPIs as a single calculation at the end of the run, by taking the difference of total yearly quantities and daytime quantities
}

/*
if (energyModel.v_isRapidRun){ // Collecting data from members for coop-totals (production, consumption, import, export, selfconsumption)
	for(Agent a :  subConnectionsElectricity.getConnections() ) {
		if (a instaneof ConnectionOwner) {
			for(GridConnection GC : ((ConnectionOwner)a).grid) {

			}
		}
	}
}*/
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1667983361357</Id>
					<Name><![CDATA[f_getVariableEnergyPrice]]></Name>
					<Description><![CDATA[v_currentNodalPrice_eurpkWh = node van deze Coop -> p_gridNodeUnderResponsibility. Mogelijk niet robuust! TODO: checken of dit goed gaat!


]]></Description>
					<X>661</X><Y>259</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double energyPrice_eurpkWh = v_electricityVariablePrice_eurpkWh + v_contractDelivery.deliveryPrice_eurpkWh;

if ( v_contractTransport.transportContractType==OL_TransportContractType.NODALPRICING) {
	energyPrice_eurpkWh += v_currentNodalPrice_eurpkWh;
} 

//traceln("Coop received energy price of: " + energyPrice_eurpkWh + " eur/kWh");
return energyPrice_eurpkWh;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1667983437058</Id>
					<Name><![CDATA[f_returnKPIData]]></Name>
					<Description><![CDATA[Executed on simulation end to export data.

@author: JorritvandenHouten
@since: Sprint 6]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>660</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Total electricity import, export
traceln("Coop Electricity imported: "+ v_electricityImported_kWh);
traceln("Coop Electricity exported: "+ v_electricityExported_kWh);
traceln("Coop electricity costs: " + v_balanceElectricity_eur + " euro");
//Total energy consumption and production 

// Assume 'infinite storage' of hydrogen within model-scope; only nett total import/export counts.
if (v_hydrogenImported_kWh > v_hydrogenExported_kWh) {
	v_hydrogenImported_kWh = v_hydrogenImported_kWh - v_hydrogenExported_kWh;
	v_hydrogenExported_kWh = 0;
} else {
	v_hydrogenExported_kWh = v_hydrogenExported_kWh - v_hydrogenImported_kWh;
	v_hydrogenImported_kWh = 0;
}

double energyProduced_kWh = 0;
double energyConsumed_kWh = 0;
for(Agent a :  subConnectionsElectricity.getConnections() ) {
	if(a instanceof ConnectionOwner){
		ConnectionOwner n = (ConnectionOwner)a;
		for ( GridConnection g : n.gridConnections.getConnections() ) {
			for (EnergyAsset e : g.c_energyAssets) {
				double EnergyUsed_kWh = e.j_ea.getEnergyUsed_kWh();
				//traceln("EnergyAsset " + e.getIndex() + " of type " + e.p_defaultEnergyAssetPresetName + " used " + EnergyUsed_kWh + " kWh energy");
				if (EnergyUsed_kWh > 0) {
					energyConsumed_kWh += EnergyUsed_kWh;
				} else {
					energyProduced_kWh -= EnergyUsed_kWh;
				}
			}
		}
	} else if (a instanceof EnergyCoop) { // 'Recursive' code for Coop-of-Coops. Only supports 2 levels of Coops!
		EnergyCoop n = (EnergyCoop)a;
		for(Agent a2 :  n.subConnectionsElectricity.getConnections() ) {
			if(a2 instanceof ConnectionOwner){
				ConnectionOwner n2 = (ConnectionOwner)a;
				for ( GridConnection g : n2.gridConnections.getConnections() ) {
					for (EnergyAsset e : g.c_energyAssets) {
						double EnergyUsed_kWh = e.j_ea.getEnergyUsed_kWh();
						//traceln("EnergyAsset " + e.getIndex() + " of type " + e.p_defaultEnergyAssetPresetName + " used " + EnergyUsed_kWh + " kWh energy");
						if (EnergyUsed_kWh > 0) {
							energyConsumed_kWh += EnergyUsed_kWh;
						} else {
							energyProduced_kWh -= EnergyUsed_kWh;
						}
					}
				}
			}
		}
	}
}

traceln("Energy consumed: "+ energyConsumed_kWh);
traceln("Energy produced: "+ energyProduced_kWh);
// TODO: Make sure this calculation is correct when all energy carriers are 'active'! Only checked for electricity

//Total selfconsumption, selfsufficiency
double totalSelfConsumption_fr = 1 - (v_electricityExported_kWh + v_methaneExported_kWh + v_hydrogenExported_kWh + v_heatExported_kWh)/energyProduced_kWh;
double totalSelfSufficiency_fr = 1 - (v_electricityImported_kWh + v_methaneImported_kWh + v_hydrogenImported_kWh + v_heatImported_kWh + v_dieselImported_kWh)/energyConsumed_kWh;

double totalSelfSufficiency_fr_check = (energyProduced_kWh - (v_electricityExported_kWh + v_methaneExported_kWh + v_hydrogenExported_kWh + v_heatExported_kWh))/energyConsumed_kWh;
traceln("Coop selfconsumption: " + totalSelfConsumption_fr + "%");
traceln("Coop selfsufficiency: " + totalSelfSufficiency_fr + "%, doublecheck " + totalSelfSufficiency_fr_check);
// TODO: Account for fuel imports/exports!!

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669037224999</Id>
					<Name><![CDATA[f_setContractValues]]></Name>
					<X>660</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if( p_actorContractList != null) {
	//traceln("Contract list connectionOwner " + p_actorID + ": " + p_actorContractList.toString());
} else {
	traceln( "No contract data for connectionOwner " + p_actorID );
}

double methaneDeliveryPrice_eurpkWh = 0.0;
double methaneDeliveryTax_eurpkWh = 0.0;
double methaneVAT_pct = 0.0;
double hydrogenDeliveryPrice_eurpkWh = 0.0;
double hydrogenDeliveryTax_eurpkWh = 0.0;
double hydrogenVAT_pct = 0.0;
double heatDeliveryPrice_eurpkWh = 0.0;
double heatDeliveryTax_eurpkWh = 0.0;
double heatVAT_pct = 0.0;

for( JsonNode contractJson : p_actorContractList) {
	//traceln("Contract hashmap l: " + l);
	OL_ContractType contractService = OL_ContractType.valueOf(contractJson.required("contractType").textValue());
	String contractScope = contractJson.required( "contractScope" ).textValue();
	OL_EnergyCarrierType energyCarrier = OL_EnergyCarrierType.valueOf(contractJson.required("energyCarrier").textValue());
	double annualFee_eur = contractJson.required("annualFee_eur").doubleValue();
	Actor mySupplier = null;
	if (energyCarrier.equals(OL_EnergyCarrierType.ELECTRICITY)){
		switch( contractService ) {
			case DELIVERY:
				//String contractScope = (String)l.get( "contract_scope" );
				OL_DeliveryContractType deliveryContractType = OL_DeliveryContractType.valueOf(contractJson.get("deliveryContractType").textValue());
				double deliveryPrice_eurpkWh = contractJson.required("deliveryPrice_eurpkWh").doubleValue();
				double feedinPrice_eurpkWh = contractJson.required("feedinPrice_eurpkWh").doubleValue();
				v_contractDelivery = new J_DeliveryContract(contractScope, deliveryContractType, OL_EnergyCarrierType.ELECTRICITY, deliveryPrice_eurpkWh, feedinPrice_eurpkWh, annualFee_eur);
				//traceln("Delivery contract: " + v_contractDelivery);
				c_actorContracts.add(v_contractDelivery);
			break;
			case TRANSPORT:
				OL_TransportContractType transportContractType = OL_TransportContractType.valueOf(contractJson.get("transportContractType").textValue());
				double bandwidthTreshold_kW = contractJson.path("bandwidthTreshold_kW").doubleValue();
				double bandwidthTariff_eurpkWh = contractJson.path("bandwidthTariff_eurpkWh").doubleValue();
				v_contractTransport = new J_TransportContract(contractScope, transportContractType, energyCarrier, bandwidthTreshold_kW, bandwidthTariff_eurpkWh, annualFee_eur);			
				c_actorContracts.add(v_contractTransport);
			break;
			case CONNECTION:
				OL_ConnectionContractType connectionContractType = OL_ConnectionContractType.valueOf(contractJson.required("connectionContractType").textValue());
				//traceln("Initializing connection contract with ConnectionContractType: " + connectionContractType);
				double nfATOstart_h = contractJson.path("nfATO_starttime_h").doubleValue();
				double nfATOend_h = contractJson.path("nfATO_endtime_h").doubleValue();
				double nfATOcapacity_kW = contractJson.path("nfATO_capacity_kW").doubleValue();
				v_contractConnection = new J_ConnectionContract(contractScope, connectionContractType, energyCarrier, nfATOstart_h, nfATOend_h, nfATOcapacity_kW, annualFee_eur);
				c_actorContracts.add(v_contractConnection);
			break;
			case TAX:
				double taxDelivery_eurpkWh = contractJson.required("taxDelivery_eurpkWh").doubleValue();
				double taxFeedin_eurpkWh = contractJson.required("taxFeedin_eurpkWh").doubleValue();
				double proportionalTax_pct = contractJson.required("proportionalTax_pct").doubleValue();
				v_contractTax = new J_TaxContract(contractScope, OL_EnergyCarrierType.ELECTRICITY, taxDelivery_eurpkWh, taxFeedin_eurpkWh, proportionalTax_pct, annualFee_eur);
				c_actorContracts.add(v_contractTax);
			break;
			default:
			
			break;		
		}
	//} else if (energyCarrier.equals(OL_EnergyCarrierType.METHANE)){
	} else {
		switch( contractService ) {
			case DELIVERY:					
				OL_DeliveryContractType deliveryContractType = OL_DeliveryContractType.valueOf(contractJson.required("deliveryContractType").textValue());
				double deliveryPrice_eurpkWh = contractJson.required("deliveryPrice_eurpkWh").doubleValue();
				double feedinPrice_eurpkWh = contractJson.required("feedinPrice_eurpkWh").doubleValue();
				J_DeliveryContract contractDelivery = new J_DeliveryContract(contractScope, deliveryContractType, energyCarrier, deliveryPrice_eurpkWh, feedinPrice_eurpkWh, annualFee_eur);
				//traceln("Delivery contract: " + v_contractDelivery);
				c_actorContracts.add(contractDelivery);
				//String contractScope = (String)l.get( "contractScope" );
				mySupplier = findFirst(energyModel.pop_energySuppliers, p->p.p_actorID.equals(contractScope)) ;
				if (mySupplier != null) {
					((EnergySupplier)mySupplier).f_connectToChild(this);	
				} else {
					mySupplier = findFirst(energyModel.pop_energyCoops, p->p.p_actorID.equals(contractScope)) ;
					if (mySupplier != null) {
						((EnergyCoop)mySupplier).f_connectToChild(this,energyCarrier);	
						//p_CoopParent = (EnergyCoop)mySupplier;
					}
				}
				//traceln("Methane supplier: " + contractScope + " for actor " + p_actorID );
				if (mySupplier != null) {
					//energySupplier.connectTo(mySupplier);
					if (energyCarrier==OL_EnergyCarrierType.METHANE) {
						p_methaneSupplier = mySupplier;
						methaneDeliveryPrice_eurpkWh=deliveryPrice_eurpkWh;
					} else if(energyCarrier==OL_EnergyCarrierType.HYDROGEN) {
						p_hydrogenSupplier = mySupplier;
						hydrogenDeliveryPrice_eurpkWh=deliveryPrice_eurpkWh;
					} else if(energyCarrier==OL_EnergyCarrierType.HEAT) {
						p_heatSupplier = mySupplier;
						heatDeliveryPrice_eurpkWh=deliveryPrice_eurpkWh;
					}
					//traceln("MethaneSupplier " + mySupplier);
					//energySupplier.f_connectToChild(this);	
				} else { 
					traceln("Connection owner --> f_connectToParentActor --> " + energyCarrier + " supplier not found, this should not be happening");
				}
			break;
			case TAX:
				double DeliveryTax_eurpkWh = contractJson.required("taxDelivery_eurpkWh").doubleValue();
				double taxFeedin_eurpkWh = contractJson.required("taxFeedin_eurpkWh").doubleValue();
				double VAT_pct = contractJson.required("proportionalTax_pct").doubleValue();
				J_TaxContract contractTax = new J_TaxContract(contractScope, energyCarrier, DeliveryTax_eurpkWh, taxFeedin_eurpkWh, VAT_pct, annualFee_eur);
				c_actorContracts.add(contractTax);
				if (energyCarrier==OL_EnergyCarrierType.METHANE) {						
						methaneDeliveryTax_eurpkWh=DeliveryTax_eurpkWh;
						methaneVAT_pct=VAT_pct;
					} else if(energyCarrier==OL_EnergyCarrierType.HYDROGEN) {
						hydrogenDeliveryTax_eurpkWh=DeliveryTax_eurpkWh;
						hydrogenVAT_pct=VAT_pct;
					} else if(energyCarrier==OL_EnergyCarrierType.HEAT) {
						heatVAT_pct=VAT_pct;
					}
			break;
			case CONNECTION:
				OL_ConnectionContractType connectionContractType = OL_ConnectionContractType.valueOf(contractJson.required("connectionContractType").textValue());
				J_ConnectionContract contractConnection = new J_ConnectionContract(contractScope, connectionContractType, energyCarrier, 0.0, 0.0, 0.0, annualFee_eur);
				c_actorContracts.add(contractConnection);



			break;
			case TRANSPORT:
				OL_TransportContractType transportContractType = OL_TransportContractType.valueOf(contractJson.required("transportContractType").textValue());
				double bandwidthTreshold_kW = contractJson.path("bandwidthTreshold_kW").doubleValue();
				double bandwidthTariff_eurpkWh = contractJson.path("bandwidthTariff_eurpkWh").doubleValue();
				J_TransportContract contractTransport = new J_TransportContract(contractScope, transportContractType, energyCarrier, bandwidthTreshold_kW, bandwidthTariff_eurpkWh, annualFee_eur);			
				c_actorContracts.add(contractTransport);
			break;
			default:
				traceln("Unrecognized contract type!");
			break;	
		}	
	}
}

// Calculate nett gas and hydrogen price
v_methanePrice_eurpkWh = (methaneDeliveryPrice_eurpkWh + methaneDeliveryTax_eurpkWh) * (1 + methaneVAT_pct);
v_hydrogenPrice_eurpkWh = (hydrogenDeliveryPrice_eurpkWh + hydrogenDeliveryTax_eurpkWh) * (1 + hydrogenVAT_pct);
v_heatPrice_eurpkWh = (heatDeliveryPrice_eurpkWh + heatDeliveryTax_eurpkWh) * (1 + heatVAT_pct);
		/*} else if (energyCarrier.equals(OL_EnergyCarrierType.HYDROGEN)){
			switch( contractService ) {
				case DELIVERY:
					OL_DeliveryContractType deliveryContractType = OL_DeliveryContractType.valueOf((String)l.get("deliveryContractType"));
					double deliveryPrice_eurpkWh = (double)l.get("deliveryPrice_eurpkWh");
					double feedinPrice_eurpkWh = (double)l.get("feedinPrice_eurpkWh");
					v_contractDelivery = new J_DeliveryContract(contractScope, deliveryContractType, OL_EnergyCarrierType.HYDROGEN, deliveryPrice_eurpkWh, feedinPrice_eurpkWh);
					//traceln("Delivery contract: " + v_contractDelivery);
					c_actorContracts.add(v_contractDelivery);
					mySupplier = findFirst(main.pop_energySuppliers, p->p.p_actorID.equals(contractScope)) ;
					if (mySupplier != null) {
						((EnergySupplier)mySupplier).f_connectToChild(this);
					} else {
						mySupplier = findFirst(main.pop_energyCoops, p->p.p_actorID.equals(contractScope)) ;
						if (mySupplier != null) {
							((EnergyCoop)mySupplier).f_connectToChild(this,OL_EnergyCarrierType.HYDROGEN);
							//p_CoopParent = (EnergyCoop)mySupplier;
						}
					}
					if (mySupplier != null) {
						//energySupplier.connectTo(mySupplier);
						p_hydrogenSupplier = mySupplier;
						//energySupplier.f_connectToChild(this);
					} else {
						traceln("Connection owner --> f_connectToParentActor --> hydrogen supplier not found, this should not be happening");
					}
				break;
				case TAX:
					hydrogenDeliveryTax_eurpkWh = (double)l.get("taxDelivery_eurpkWh");
					//double taxFeedin_eurpkWh = (double)l.get("taxFeedin_eurpkWh");
					hydrogenVAT_pct = (double)l.get("proportionalTax_pct");
					v_contractTax = new J_TaxContract(contractScope, OL_EnergyCarrierType.HYDROGEN, hydrogenDeliveryTax_eurpkWh, 0, hydrogenVAT_pct);
					c_actorContracts.add(v_contractTax);
				break;
				default:

				break;
			}
		} else if (energyCarrier.equals(OL_EnergyCarrierType.HEAT)){
			switch( contractService ) {
				case DELIVERY:
					heatDeliveryPrice_eurpkWh = (double)l.get("deliveryPrice_eurpkWh");
					mySupplier = findFirst(main.pop_energySuppliers, p->p.p_actorID.equals(contractScope)) ;
					if (mySupplier != null) {
						((EnergySupplier)mySupplier).f_connectToChild(this);
					} else {
						mySupplier = findFirst(main.pop_energyCoops, p->p.p_actorID.equals(contractScope)) ;
						if (mySupplier != null) {
							((EnergyCoop)mySupplier).f_connectToChild(this,OL_EnergyCarrierType.HYDROGEN);
							//p_CoopParent = (EnergyCoop)mySupplier;
						}
					}
					if (mySupplier != null) {
						//energySupplier.connectTo(mySupplier);
						p_hydrogenSupplier = mySupplier;
						//energySupplier.f_connectToChild(this);
					} else {
						traceln("Connection owner --> f_connectToParentActor --> heat supplier not found, this should not be happening");
					}
				break;
				case TAX:
					hydrogenDeliveryTax_eurpkWh = (double)l.get("taxDelivery_eurpkWh");
					//double taxFeedin_eurpkWh = (double)l.get("taxFeedin_eurpkWh");
					hydrogenVAT_pct = (double)l.get("proportionalTax_pct");
				break;
				default:
				
				break;
			}
		}*/

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669042410671</Id>
					<Name><![CDATA[f_initialize]]></Name>
					<X>660</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[
if (p_gridNodeUnderResponsibility != null){
	GridNode myParentNodeElectric = findFirst(energyModel.pop_gridNodes, p->p.p_gridNodeID.equals(p_gridNodeUnderResponsibility)) ;
	if( myParentNodeElectric instanceof GridNode ) {
		//l_parentNodeElectric.connectTo(myParentNodeElectric);
		myParentNodeElectric.f_connectToChild(this);	
		p_connectionCapacity_kW = myParentNodeElectric.p_capacity_kW;
		traceln("Adding Coop to children of GridNode " + myParentNodeElectric);
	} else {
		traceln("Parent GridNode for energyCoop not found!");
		p_connectionCapacity_kW = 0;
	}
} else {
	p_connectionCapacity_kW = 0;
}

v_allowedCapacity_kW = p_connectionCapacity_kW;
/*if(!v_enable_nfATO_b){
	e_startNonFirmATO.reset();
	e_endNonFirmATO.reset();
}
else {
	e_startNonFirmATO.restartTo(v_contractConnection.nfATOstart_h, HOUR);
	e_endNonFirmATO.restartTo(v_contractConnection.nfATOend_h, HOUR);
	if(v_contractConnection.nfATOpower_kW == 0.0) { v_contractConnection.nfATOpower_kW = p_connectionCapacity_kW; }
}*/

//f_setInitPriceBands();]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1676553303568</Id>
					<Name><![CDATA[f_updateIncentives]]></Name>
					<X>661</X><Y>281</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_electricitySurplusLowPassed_kW += v_lowPassFactor_fr * ( v_electricitySurplus_kW - v_electricitySurplusLowPassed_kW );

/* if (v_contractDelivery.deliveryContractType==OL_DeliveryContractType.ELECTRICITY_VARIABLE) {
	if (p_electricitySupplier instanceof EnergySupplier) {
		v_electricityVariablePrice_eurpkWh = ((EnergySupplier)p_electricitySupplier).f_getVariableEnergyPrice();
	} else if (p_electricitySupplier instanceof EnergyCoop) {
		v_electricityVariablePrice_eurpkWh = ((EnergyCoop)p_electricitySupplier).f_getVariableEnergyPrice();
	}
}

f_setElectricityPriceBands(); */ // temporarily disabled!!
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1676553303571</Id>
					<Name><![CDATA[f_setElectricityPriceBands]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>681</X><Y>301</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[/*if (v_contractDelivery.deliveryContractType.equals(OL_DeliveryContractType.ELECTRICITY_VARIABLE)) {
	v_priceBandsDelivery.replace(-9999999.0, v_contractDelivery.feedinPrice_eurpkWh + v_electricityVariablePrice_eurpkWh );
	v_priceBandsDelivery.replace(9999999.0, v_contractDelivery.deliveryPrice_eurpkWh + v_electricityVariablePrice_eurpkWh );
}
if (v_contractTransport.transportContractType.equals(OL_TransportContractType.NODALPRICING)) {
	v_priceBandsTransport.replace(-9999999.0, v_currentNodalPrice_eurpkWh);
	v_priceBandsTransport.replace(9999999.0, v_currentNodalPrice_eurpkWh);
}*/

// Assuming Tax is not varying in time!!

/*
if( p_capacityTariffApplicable ){
	v_priceBandsDelivery.replace(- p_capacityLevel_kW, v_electricitySellPrice_eurpkWh + v_currentCongestionTariffWhenSelling_eurpkWh);
	v_priceBandsDelivery.replace(p_capacityLevel_kW, v_electricityVariablePrice_eurpkWh + v_currentNodalPrice_eurpkWh);
}
*/



	]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1676553472755</Id>
					<Name><![CDATA[f_setInitPriceBands]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>660</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_priceBandsDelivery = new TreeMap<Double, Double>();
v_priceBandsDelivery.put(-9999999.0, v_contractDelivery.feedinPrice_eurpkWh);
v_priceBandsDelivery.put(0.0, 0.0);
v_priceBandsDelivery.put(9999999.0, v_contractDelivery.deliveryPrice_eurpkWh);

v_priceBandsTransport = new TreeMap<Double, Double>();
v_priceBandsTransport.put(-9999999.0, 0.0);
v_priceBandsTransport.put(0.0, 0.0);
v_priceBandsTransport.put(9999999.0, 0.0);

v_priceBandsTax = new TreeMap<Double, Double>();
v_priceBandsTax.put(-9999999.0, v_contractTax.feedinTax_eurpkWh);
v_priceBandsTax.put(0.0, 0.0);
v_priceBandsTax.put(9999999.0, v_contractTax.deliveryTax_eurpkWh);

/*
if( p_congestionTariffApplicable ){
	v_priceBandsDelivery.put(- p_capacityLevel_kW, 0.0);
	v_priceBandsDelivery.put(p_capacityLevel_kW, 0.0);
}
*/]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1692111928489</Id>
					<Name><![CDATA[f_totalFinances]]></Name>
					<X>660</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Depreciation costs
v_assetDepreciation_eur = f_totalAssetDepreciation();
v_totalBalanceCoop_eur -= v_assetDepreciation_eur;
// Operational costs: local parameter p_yearlyOperationalCosts_eur
v_totalBalanceCoop_eur -= p_yearlyOperationalCosts_eur;
// EPEX balance: take from local variable v_balanceElectricityDelivery_eur
v_totalBalanceCoop_eur += v_balanceElectricity_eur;

// member balance
f_totalMembersBalance();
v_totalBalanceCoop_eur += v_balanceMembers_eur;

if (energyModel.b_addKpiVisuals) {
	ch_coopBalance.updateData();
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1692112062708</Id>
					<Name><![CDATA[f_totalAssetDepreciation]]></Name>
					<X>690</X><Y>560</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Sum depreciation costs of assets in own portfolio. 
double depreciationCosts_eur=0;

/*for (Agent a : subConnectionsElectricity.getConnections()) {
	if(a instanceof ConnectionOwner){
		ConnectionOwner c = (ConnectionOwner)a;
		if( c.p_actorGroup.equals("CoopProducer")) {
			for(J_EA e:c.v_ownedGridConnection.c_energyAssets) {
			
			double depreciation_eurpkWpa = energyModel.v_assetDepreciation.path(e.energyAssetType.name()).path("Depreciation_eurpkWpa").doubleValue();
			traceln("Coop Depreciation %s eur/kW/annum", depreciation_eurpkWpa*e.getElectricCapacity_kW());
			depreciationCosts_eur+= depreciation_eurpkWpa*e.getElectricCapacity_kW();
			}
			
		}		
	} else if (a instanceof EnergyCoop) {
		
	}
	
}*/ // Deprecated get depreciation per asset from input-json. Use other data-source!

return depreciationCosts_eur;



]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1692112229224</Id>
					<Name><![CDATA[f_totalMembersBalance]]></Name>
					<X>690</X><Y>600</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// Sum financial transactions from all members
for(Agent a :  subConnectionsElectricity.getConnections() ) {
	if(a instanceof ConnectionOwner){
		ConnectionOwner n = (ConnectionOwner)a;
	    v_balanceMembers_eur -= n.v_balanceElectricityDelivery_eur;
		
	} else if (a instanceof EnergyCoop) {
		
	}
}







]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1704371824571</Id>
					<Name><![CDATA[f_resetStates]]></Name>
					<X>660</X><Y>20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_electricitySurplusLowPassed_kW= 0;

// Reset import/export
v_electricityImported_kWh = v_electricityExported_kWh = v_methaneImported_kWh =  v_methaneExported_kWh = v_heatImported_kWh = v_heatExported_kWh = v_hydrogenImported_kWh = v_hydrogenExported_kWh = v_dieselImported_kWh = 0;

// Reset energytotals
v_totalEnergyProduced_MWh = 0;
v_totalEnergyUsed_MWh = 0;

v_weekdayTotalImport_MWh = 0;
v_weekdayTotalExport_MWh = 0;
v_weekdayEnergyProduced_MWh = 0;
v_weekdayEnergyUsed_MWh = 0;

v_daytimeTotalImport_MWh = 0;
v_daytimeTotalExport_MWh = 0;
v_daytimeEnergyProduced_MWh = 0;
v_daytimeEnergyUsed_MWh = 0;

data_annualCoopElectricityBalance_kW.reset();
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1704453927781</Id>
					<Name><![CDATA[f_calculateKPIs]]></Name>
					<X>660</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_totalImport_MWh = (v_electricityImported_kWh + v_methaneImported_kWh + v_heatImported_kWh + v_hydrogenImported_kWh + v_dieselImported_kWh)/1000;
v_totalExport_MWh = (v_electricityExported_kWh + v_methaneExported_kWh + v_heatExported_kWh + v_hydrogenExported_kWh)/1000;
v_totalSelfConsumedEnergy_MWh = max(0,v_totalEnergyUsed_MWh - v_totalImport_MWh); // Putting positive delta-stored energy here assumes this energy was imported as opposed to self-produced. Putting negative delta-stored energy here assumes this energy was self-consumed, as opposed to exported.
double totalSelfConsumedEnergyCheck_MWh = max (0, v_totalEnergyProduced_MWh - v_totalExport_MWh);
traceln("Check energyCoop consistency of v_totalSelfConsumedEnergy_MWh (should be zero): %s", v_totalSelfConsumedEnergy_MWh - totalSelfConsumedEnergyCheck_MWh);
// Daytime selfconsumption
v_daytimeSelfConsumedEnergy_MWh = v_daytimeEnergyProduced_MWh - v_daytimeTotalExport_MWh;
// Nighttime totals: yearly totays minus daytime totals
v_nighttimeTotalExport_MWh = v_totalExport_MWh - v_daytimeTotalExport_MWh;
v_nighttimeTotalImport_MWh = v_totalImport_MWh - v_daytimeTotalImport_MWh;
v_nighttimeEnergyUsed_MWh = v_totalEnergyUsed_MWh - v_daytimeEnergyUsed_MWh;
v_nighttimeEnergyProduced_MWh = v_totalEnergyProduced_MWh - v_daytimeEnergyProduced_MWh;
v_nighttimeSelfConsumedEnergy_MWh = v_nighttimeEnergyProduced_MWh - v_nighttimeTotalExport_MWh;

// Weekday selfconsumption
v_weekdaySelfConsumedEnergy_MWh = v_weekdayEnergyProduced_MWh - v_weekdayTotalExport_MWh;
// Weekend totals: yearly totals minus weekday totals
v_weekendTotalExport_MWh = v_totalExport_MWh - v_weekdayTotalExport_MWh;
v_weekendTotalImport_MWh = v_totalImport_MWh - v_weekdayTotalImport_MWh;
v_weekendEnergyUsed_MWh = v_totalEnergyUsed_MWh - v_weekdayEnergyUsed_MWh;
v_weekendEnergyProduced_MWh = v_totalEnergyProduced_MWh - v_weekdayEnergyProduced_MWh;
v_weekendSelfConsumedEnergy_MWh = v_weekendEnergyProduced_MWh - v_weekendTotalExport_MWh;


]]></Body>
				</Function>
			</Functions>
			<AnalysisData>
    			<DataSet>
					<Id>1704365149309</Id>
					<Name><![CDATA[data_ElectricBalanceDuurkromme_kW]]></Name>
					<X>60</X><Y>1420</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>35040</SamplesToKeep>
				</DataSet>
    			<DataSet>
					<Id>1704365180754</Id>
					<Name><![CDATA[data_annualCoopElectricityBalance_kW]]></Name>
					<X>60</X><Y>1400</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1687075200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>false</FreezeXAxis>
					<SamplesToKeep>35040</SamplesToKeep>
				</DataSet>
			</AnalysisData>
			<AgentLinks>
				<AgentLink>
					<Id>1660731375011</Id>
					<Name><![CDATA[connections]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>180</X><Y>-150</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736357874</Id>
					<Name><![CDATA[superConnection]]></Name>
					<Description><![CDATA[Link naar bovenliggende actor, bijv. een Coop, of energySupplier. Gebruikt om lid te worden van een Coop of aangesloten te zijn bij een energieleverancier.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>230</X><Y>-30</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736357876</Id>
					<Name><![CDATA[subConnectionsElectricity]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de Coop)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>430</X><Y>-130</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1679493814923</Id>
					<Name><![CDATA[subConnectionsMethane]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de Coop)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>430</X><Y>-100</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1679493824998</Id>
					<Name><![CDATA[subConnectionsHydrogen]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de Coop)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>430</X><Y>-70</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1679493837529</Id>
					<Name><![CDATA[subConnectionsHeat]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de Coop)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>430</X><Y>-40</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660731826095</Id>
					<Name><![CDATA[energyModel]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731375015</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
    			<BarChart>
					<Id>1692631026123</Id>
					<Name><![CDATA[ch_coopBalance]]></Name>
					<X>910</X><Y>340</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1692691200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>390</Width>
					<Height>390</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>310</Width>
						<Height>300</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>30</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<DataItem>
					<Id>1692631027262</Id>
					<Expression><![CDATA[v_balanceMembers_eur]]></Expression>
					<Color>-3137392</Color>
						<Title><![CDATA[Inkomsten leden]]></Title>
					</DataItem>
					<DataItem>
					<Id>1692631063902</Id>
					<Expression><![CDATA[v_balanceElectricityDelivery_eur]]></Expression>
					<Color>-32944</Color>
						<Title><![CDATA[Inkomsten EPEX]]></Title>
					</DataItem>
					<DataItem>
					<Id>1692631086718</Id>
					<Expression><![CDATA[-v_assetDepreciation_eur]]></Expression>
					<Color>-13447886</Color>
						<Title><![CDATA[Afschrijving assets]]></Title>
					</DataItem>
					<DataItem>
					<Id>1692631175228</Id>
					<Expression><![CDATA[-p_yearlyOperationalCosts_eur]]></Expression>
					<Color>-9404272</Color>
						<Title><![CDATA[OPEX]]></Title>
					</DataItem>
					<ScaleFromExpression><![CDATA[0]]></ScaleFromExpression>
					<ScaleToExpression><![CDATA[1]]></ScaleToExpression>
					<ScaleType>AUTO</ScaleType>
					<Bars>
						<Direction>UP</Direction>
						<RelativeWidth>0.8</RelativeWidth>
					</Bars>
    			</BarChart>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731377984</Id>
			<Name><![CDATA[EnergySupplier]]></Name>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[Actor]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_actorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorSubgroup]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorGroup]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731377982</Id>
				<Name><![CDATA[1660731377982]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731377980</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731377983</CurrentLevel>
			<ConnectionsId>1660731377979</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1660746837357</Id>
					<Name><![CDATA[v_currentVariableElectricityPrice_eurpkWh]]></Name>
					<X>70</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660752591616</Id>
					<Name><![CDATA[v_currentBalanceClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for all energy carriers traded with clients.

@author: Gillis
@since: Sprint 6]]></Description>
					<X>70</X><Y>430</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660804951335</Id>
					<Name><![CDATA[v_totalElectricitySoldToClients_kWh]]></Name>
					<X>70</X><Y>450</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660804979322</Id>
					<Name><![CDATA[v_totalElectricityBoughtFromClients_kWh]]></Name>
					<X>70</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660805212026</Id>
					<Name><![CDATA[v_currentBalanceNat_eur]]></Name>
					<X>70</X><Y>520</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660805212029</Id>
					<Name><![CDATA[v_totalElectricitySoldToNat_kWh]]></Name>
					<X>70</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660805212031</Id>
					<Name><![CDATA[v_totalElectricityBoughtFromNat_kWh]]></Name>
					<X>70</X><Y>560</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1660810211679</Id>
					<Name><![CDATA[v_currentNettElectricityVolume_kWh]]></Name>
					<X>70</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661173036699</Id>
					<Name><![CDATA[v_currentBalanceElectricityClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for electricity traded with clients.

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>70</X><Y>330</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661173058952</Id>
					<Name><![CDATA[v_currentBalanceHeatClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for heat traded with clients.

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>70</X><Y>350</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661173096820</Id>
					<Name><![CDATA[v_currentBalanceMethaneClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for methane
@author: Jorrit
@since: Sprint 6]]></Description>
					<X>70</X><Y>370</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1661174191671</Id>
					<Name><![CDATA[v_currentBalanceHydrogenClients_eur]]></Name>
					<Description><![CDATA[Bank account balance for hydrogen traded with clients.

@author: Jorrit
@since: Sprint 6]]></Description>
					<X>70</X><Y>390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1675335068922</Id>
					<Name><![CDATA[j_ActorData]]></Name>
					<X>70</X><Y>680</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_ActorData]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736336144</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Unique identifier of this actor in String format. Designated in Config-excel and used to link actors to netConnections.

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-240</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736336142</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736336147</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-240</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736336145</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736336150</Id>
					<Name><![CDATA[p_parentActorID]]></Name>
					<Description><![CDATA[Unique actor identifier in String format of a designated parent actor. This may be designated in Config-excel and is used to create an agent link with a higher lying agent (e.g. a Coop or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>60</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736336148</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736336153</Id>
					<Name><![CDATA[p_parentActor]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a Coop or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>60</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[ConnectionOwner]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736336151</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746260066</Id>
					<Name><![CDATA[p_fixedElectricityPrice_eurpkWh]]></Name>
					<X>300</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746260064</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746283321</Id>
					<Name><![CDATA[p_fixedHeatPrice_eurpkWh]]></Name>
					<X>300</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746283319</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746306858</Id>
					<Name><![CDATA[p_fixedMethanePrice_eurpkWh]]></Name>
					<X>300</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746306856</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746679056</Id>
					<Name><![CDATA[p_fixedHydrogenPrice_eurpkWh]]></Name>
					<X>300</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746679054</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660746710965</Id>
					<Name><![CDATA[p_variableElectricityPriceOverNational_eurpkWh]]></Name>
					<X>300</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660746710963</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1667921811994</Id>
					<Name><![CDATA[p_fixedFeedinTariff_eurpkWh]]></Name>
					<X>300</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1667921811992</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1671620607517</Id>
					<Name><![CDATA[p_salderenActive]]></Name>
					<X>300</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1671620607515</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736336138</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>790</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo(ConnectingChildNode);
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736336141</Id>
					<Name><![CDATA[f_connectToParentActor]]></Name>
					<Description><![CDATA[Creates an agentLink in superConnection if a parentActorID is designated in the config-excel. Called from f_configureBackBone() in main for profiling reasons, so no parameters are given.

@param: none
@return: none
@since: Sprint 6
@author: HOUJ]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>780</X><Y>-40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( p_parentActorID != null ) {
	ConnectionOwner myParentActor = findFirst(main.pop_connectionOwners, p->p.p_actorID.equals(p_parentActorID)) ;
	if( myParentActor instanceof ConnectionOwner) {
		p_parentActor = myParentActor;
		superConnection.connectTo(myParentActor);
		myParentActor.f_connectToChild(this);
	}
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660743197178</Id>
					<Name><![CDATA[f_doEnergyTransaction]]></Name>
					<X>790</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[transactionVolume_kWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[contractType]]></Name>
						<Type><![CDATA[OL_ContractType]]></Type>
					</Parameter>
					<Body><![CDATA[double transactionCostClient_eur = 0;
double transactionCostNat_eur = 0;
/*switch (contractType) {
	case ELECTRICITY_FIXED:
			transactionCostClient_eur = transactionVolume_kWh * p_fixedElectricityPrice_eurpkWh;
			transactionCostNat_eur = - transactionVolume_kWh * v_currentVariableElectricityPrice_eurpkWh;
			v_totalElectricitySoldToClients_kWh += max(0,transactionVolume_kWh);
			v_totalElectricityBoughtFromClients_kWh -= min(0,transactionVolume_kWh);
			v_currentNettElectricityVolume_kWh += transactionVolume_kWh;
			v_currentBalanceElectricityClients_eur += transactionCostClient_eur;
		break;
	case ELECTRICITY_VARIABLE:
			transactionCostClient_eur = transactionVolume_kWh * (p_variableElectricityPriceOverNational_eurpkWh + v_currentVariableElectricityPrice_eurpkWh);
			transactionCostNat_eur = - transactionVolume_kWh * v_currentVariableElectricityPrice_eurpkWh;
			v_currentBalanceElectricityClients_eur += transactionCostClient_eur;
		break;
	case HEAT_FIXED:
			transactionCostClient_eur = transactionVolume_kWh * p_fixedHeatPrice_eurpkWh;
			transactionCostNat_eur = - transactionVolume_kWh * 0;
			v_currentBalanceHeatClients_eur += transactionCostClient_eur;
		break;
	case METHANE_FIXED:
			transactionCostClient_eur = transactionVolume_kWh * p_fixedMethanePrice_eurpkWh;
			transactionCostNat_eur = - transactionVolume_kWh * 0;
			v_currentBalanceMethaneClients_eur += transactionCostClient_eur;
		break;
	case HYDROGEN_FIXED:
			transactionCostClient_eur = transactionVolume_kWh * p_fixedHydrogenPrice_eurpkWh;
			transactionCostNat_eur = - transactionVolume_kWh * 0;
			v_currentBalanceHydrogenClients_eur += transactionCostClient_eur;
		break;
	default:
		throw new IllegalStateException("Invalid contract type: " + contractType);
}*/
v_currentBalanceClients_eur += transactionCostClient_eur;
return transactionCostClient_eur;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660746864022</Id>
					<Name><![CDATA[f_getVariableEnergyPrice]]></Name>
					<X>790</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[return v_currentVariableElectricityPrice_eurpkWh;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660746926252</Id>
					<Name><![CDATA[f_updateEnergyPrice]]></Name>
					<X>790</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_currentVariableElectricityPrice_eurpkWh = energyModel.nationalEnergyMarket.f_getNationalElectricityPrice_eurpMWh()/1000;
v_currentNettElectricityVolume_kWh = 0;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660806140354</Id>
					<Name><![CDATA[f_updateFinances]]></Name>
					<X>790</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_totalElectricityBoughtFromNat_kWh += max(0,v_currentNettElectricityVolume_kWh);
v_totalElectricitySoldToNat_kWh -= min(0,v_currentNettElectricityVolume_kWh);
v_currentBalanceNat_eur -= v_currentNettElectricityVolume_kWh * v_currentVariableElectricityPrice_eurpkWh;]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1660731377979</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736386946</Id>
					<Name><![CDATA[superConnection]]></Name>
					<Description><![CDATA[Link naar bovenliggende actor, bijv. een Coop, of energySupplier. Gebruikt om lid te worden van een Coop of aangesloten te zijn bij een energieleverancier.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>240</X><Y>-70</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736386948</Id>
					<Name><![CDATA[subConnections]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de Coop)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>240</X><Y>-40</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660731790387</Id>
					<Name><![CDATA[energyModel]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731377983</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Line>
					<Id>1667918539063</Id>
					<Name><![CDATA[line4]]></Name>
					<X>770</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667918539066</Id>
					<Name><![CDATA[text4]]></Name>
					<X>820</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Functions]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667918539068</Id>
					<Name><![CDATA[line5]]></Name>
					<X>760</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>40</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667918539070</Id>
					<Name><![CDATA[text6]]></Name>
					<X>740</X><Y>190</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Occuring]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667918539072</Id>
					<Name><![CDATA[line6]]></Name>
					<X>760</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>DOTTED</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>0</Dx>
					<Dy>80</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667918539074</Id>
					<Name><![CDATA[text5]]></Name>
					<X>740</X><Y>90</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>270.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Init]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667919493893</Id>
					<Name><![CDATA[line]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-270</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919493896</Id>
					<Name><![CDATA[text]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-240</X><Y>30</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[ID & connections]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
				<Line>
					<Id>1667919510566</Id>
					<Name><![CDATA[line1]]></Name>
					<X>290</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>240</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1667919510568</Id>
					<Name><![CDATA[text1]]></Name>
					<X>380</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Fixed tariffs]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731380915</Id>
			<Name><![CDATA[GridOperator]]></Name>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[Actor]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_actorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorSubgroup]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorGroup]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731380913</Id>
				<Name><![CDATA[1660731380913]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731380911</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731380914</CurrentLevel>
			<ConnectionsId>1660731380910</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1665060534142</Id>
					<Name><![CDATA[v_congestionAllowanceLevel_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>60</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665060582840</Id>
					<Name><![CDATA[v_congestionPriceConsumption_eurpkWh]]></Name>
					<Description><![CDATA[Euro per kW]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>60</X><Y>580</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665508504346</Id>
					<Name><![CDATA[v_congestionThreshold_fr]]></Name>
					<X>60</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0.0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665508939525</Id>
					<Name><![CDATA[b_applyCongestionPriceWithConsumption]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>60</X><Y>540</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1665508951785</Id>
					<Name><![CDATA[b_applyCongestionPriceWithProduction]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>60</X><Y>560</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666560746828</Id>
					<Name><![CDATA[v_congestionPriceProduction_eurpkWh]]></Name>
					<Description><![CDATA[Euro per kW]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>60</X><Y>600</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1675355743791</Id>
					<Name><![CDATA[j_ActorData]]></Name>
					<X>60</X><Y>270</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[J_ActorData]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1690962985581</Id>
					<Name><![CDATA[v_congestionPrice_eurpkWh]]></Name>
					<Description><![CDATA[Euro per kW]]></Description>
					<X>60</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0.2]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736411315</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Unique identifier of this actor in String format. Designated in Config-excel and used to link actors to netConnections.

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-220</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736411313</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736411318</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-220</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736411316</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736411321</Id>
					<Name><![CDATA[p_parentActorID]]></Name>
					<Description><![CDATA[Unique actor identifier in String format of a designated parent actor. This may be designated in Config-excel and is used to create an agent link with a higher lying agent (e.g. a Coop or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-220</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736411319</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1660736411324</Id>
					<Name><![CDATA[p_parentActor]]></Name>
					<Description><![CDATA[Pointer of the designated parent actor (e.g. a Coop or energy supplier)

@since: Sprint 6
@author: Gillis]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-220</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[ConnectionOwner]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1660736411322</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1674907095514</Id>
					<Name><![CDATA[p_capacitypricing_households_kW]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>60</X><Y>650</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1674907095512</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1674907099647</Id>
					<Name><![CDATA[p_capacitypricing_households_eur]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>60</X><Y>670</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1674907099645</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1674907106415</Id>
					<Name><![CDATA[p_hasCapacityPricing]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>60</X><Y>630</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1674907106413</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1675688426540</Id>
					<Name><![CDATA[p_hasCongestionPricing]]></Name>
					<X>60</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[true]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1675688426538</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1665076694603</Id>
					<Name><![CDATA[c_electricityGridNodes]]></Name>
					<X>700</X><Y>160</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666594012871</Id>
					<Name><![CDATA[c_congestedGNProduction]]></Name>
					<X>720</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1666594046997</Id>
					<Name><![CDATA[c_congestedGNConsumption]]></Name>
					<X>720</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridNode]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736411309</Id>
					<Name><![CDATA[f_connectToChild]]></Name>
					<X>700</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[GridNode]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[energyType]]></Name>
						<Type><![CDATA[OL_EnergyCarrierType]]></Type>
					</Parameter>
					<Body><![CDATA[subConnections.connectTo( ConnectingChildNode );
if (energyType == OL_EnergyCarrierType.ELECTRICITY) {
	c_electricityGridNodes.add( ConnectingChildNode );
}
else {
	traceln( "f_connectToChild vanuit GridOperator voegt een type Node toe wat geen ELECTRICITY gridNOde is");
}
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660736411312</Id>
					<Name><![CDATA[f_connectToParentActor]]></Name>
					<Description><![CDATA[Creates an agentLink in superConnection if a parentActorID is designated in the config-excel. Called from f_configureBackBone() in main for profiling reasons, so no parameters are given.

@param: none
@return: none
@since: Sprint 6
@author: HOUJ]]></Description>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>-220</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( p_parentActorID != null ) {
	ConnectionOwner myParentActor = findFirst(main.pop_connectionOwners, p->p.p_actorID.equals(p_parentActorID)) ;
	if( myParentActor instanceof ConnectionOwner) {
		p_parentActor = myParentActor;
		superConnection.connectTo(myParentActor);
		myParentActor.f_connectToChild(this);
	}
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664465199508</Id>
					<Name><![CDATA[f_updateCongestionTariff]]></Name>
					<X>700</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for( GridNode n : c_electricityGridNodes ){
	double currentLoad_kW = n.v_filteredLoadCongestionPricing_kW;
	
	if ( abs(currentLoad_kW) > v_congestionThreshold_fr * n.p_capacity_kW  ){
		n.v_congested = true;
		n.v_currentCongestionPrice_eurpkWh = signum(currentLoad_kW)*(abs(currentLoad_kW) / n.p_capacity_kW - v_congestionThreshold_fr ) / ( 1 - v_congestionThreshold_fr) * v_congestionPrice_eurpkWh;		
		n.f_setCongestionTariff(n.v_currentCongestionPrice_eurpkWh); 
		if (currentLoad_kW > 0) {
			n.v_congestionMode = "Overconsumption";
			//n.f_setCongestionTariff(n.v_currentCongestionPrice_eurpkWh); 
		} 
		else {
			n.v_congestionMode = "Overproduction";	
			//n.f_setCongestionTariff(-n.v_currentCongestionPrice_eurpkWh); 
		}
		if (!c_congestedGNConsumption.contains(n)){ c_congestedGNConsumption.add(n); }
	}
	else {
		if ( n.v_congested ){
			n.f_resetCongestionTariffs();
			n.v_congested = false;
			n.v_congestionMode = "No congestion atm";
			n.v_currentCongestionPrice_eurpkWh = 0;
			if (c_congestedGNProduction.contains(n)){ c_congestedGNProduction.remove(c_congestedGNProduction.indexOf(n));}
			if (c_congestedGNConsumption.contains(n)){ c_congestedGNConsumption.remove(c_congestedGNConsumption.indexOf(n));}
		}
	}
	
}

]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1660731380910</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736398362</Id>
					<Name><![CDATA[superConnection]]></Name>
					<Description><![CDATA[Link naar bovenliggende actor, bijv. een Coop, of energySupplier. Gebruikt om lid te worden van een Coop of aangesloten te zijn bij een energieleverancier.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>280</X><Y>-80</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1660736398364</Id>
					<Name><![CDATA[subConnections]]></Name>
					<Description><![CDATA[Link naar onderliggende actor of netConnection. Gebruikt om actoren te linken aan netConnection objecten, of actoren aan actoren te linken (bijv. leden van de Coop)

@since: Sprint 6
@author: Gillis]]></Description>
					<X>280</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>false</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660731855349</Id>
					<Name><![CDATA[energyModel]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731380914</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1660731384415</Id>
			<Name><![CDATA[NationalEnergyMarket]]></Name>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[Actor]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_actorID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorSubgroup]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_actorGroup]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1660731384413</Id>
				<Name><![CDATA[1660731384413]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1660809600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1660731384411</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1660731384414</CurrentLevel>
			<ConnectionsId>1660731384410</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1660752725660</Id>
					<Name><![CDATA[v_currentVariableElectricityPrice_eurpMWh]]></Name>
					<X>60</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660738813066</Id>
					<Name><![CDATA[f_getNationalElectricityPrice_eurpMWh]]></Name>
					<X>60</X><Y>230</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[return v_currentVariableElectricityPrice_eurpMWh;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1660752725657</Id>
					<Name><![CDATA[f_updateEnergyPrice]]></Name>
					<X>60</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if( energyModel.v_timeStepsElapsed % (1 / energyModel.p_timeStep_h) == 0){
	v_currentVariableElectricityPrice_eurpMWh = tf_dayAheadElectricityPricing_eurpMWh( time(HOUR) );
}]]></Body>
				</Function>
			</Functions>
			<TableFunctions>
				<TableFunction AccessType="public" StaticFunction="false">
					<Id>1660752214584</Id>
					<Name><![CDATA[tf_dayAheadElectricityPricing_eurpMWh]]></Name>
					<X>60</X><Y>140</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<InterpolationMethod>LINEAR</InterpolationMethod>
					<OutOfRangeBehaviour>REPEATING</OutOfRangeBehaviour>
					<OutOfRangeCustomValue><![CDATA[0.0]]></OutOfRangeCustomValue>
					<ApproximationOrder><![CDATA[1]]></ApproximationOrder>
					<LoadFromDatabase><![CDATA[true]]></LoadFromDatabase>
					<ValuesQuery>
						<TableReference>
							<PackageName><![CDATA[zero_engine]]></PackageName>
							<ClassName><![CDATA[profiles]]></ClassName>
						</TableReference>
							<ArgumentColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[t_h]]></ItemName>
							</ArgumentColumnReference>
							<ValueColumnReference>
								<PackageName><![CDATA[zero_engine]]></PackageName>
								<ClassName><![CDATA[profiles]]></ClassName>
								<ItemName><![CDATA[day_ahead_price_eur_mwh]]></ItemName>
							</ValueColumnReference>
					</ValuesQuery>
// arguments and values
					<Argument><![CDATA[0.0]]></Argument>
					<Value><![CDATA[0.0]]></Value>
				</TableFunction>
			</TableFunctions>
			<AgentLinks>
				<AgentLink>
					<Id>1660731384410</Id>
					<Name><![CDATA[connections]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1660731880833</Id>
					<Name><![CDATA[energyModel]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1660731384414</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1663772408667</Id>
			<Name><![CDATA[GCHouse]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_connectToJ_EA(J_EA j_ea){
	f_connectToJ_EA_default(j_ea);
	f_connectTo_J_EA_House(j_ea);
}

/*@Override
public void f_operateFixedConsumptionAssets(){
	f_operateFixedConsumptionAssets_overwrite();
}*/

@Override
public void f_operateFlexAssets(){
	f_operateFlexAssets_overwrite();
}

@Override
public void f_manageHeatingAssets(){
	f_manageHeatingAssets_overwrite();
}

@Override 
public void f_manageCharging(){
	f_manageCharging_overwrite();
}

/*@Override 
public void f_chargeOnPrice(double a, double b){
	f_chargeOnPrice_overwrite(a,b);
}*/

@Override
public void f_simpleCharging(){
	f_simpleCharging_overwrite();
}
]]></AdditionalClassCode>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_BuildingThermalAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyAssetList]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoStart_h]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoEnd_h]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_curtailer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatBuffer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gasBuffer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_cookingTracker]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyLabel]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_DHWAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_GISbuilding]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_longitude]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_latitude]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_company_name]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_huisnummer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_openbareR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_company_connection_id]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyProfile]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_GISPoint]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_woonplaats]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_huisletter]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_toevoeging]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_postcode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_pandIdentiteit]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1663772408665</Id>
				<Name><![CDATA[1663772408665]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1663772408663</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1663772408666</CurrentLevel>
			<ConnectionsId>1663772408662</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1674397034293</Id>
					<Name><![CDATA[v_vehicleSOC_fr]]></Name>
					<X>1120</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1674414939371</Id>
					<Name><![CDATA[v_vehicleChargingNeed]]></Name>
					<X>1120</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_EVChargingNeed]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1674899648649</Id>
					<Name><![CDATA[v_hpPreviousConsumptionLevel]]></Name>
					<X>2010</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1674900257329</Id>
					<Name><![CDATA[v_dailyHPConsumption_kWh]]></Name>
					<X>2010</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1675025488988</Id>
					<Name><![CDATA[v_currentPriceLevel]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1120</X><Y>510</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[OL_priceLevels]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1677597726836</Id>
					<Name><![CDATA[v_copHeatpump]]></Name>
					<X>2020</X><Y>390</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1690363061408</Id>
					<Name><![CDATA[v_electricHobConsumption_kWh]]></Name>
					<Description><![CDATA[This is part of the v_fixedConsumptionElectric_kW, thus variable only exists for additional information]]></Description>
					<X>150</X><Y>1490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704447485797</Id>
					<Name><![CDATA[v_gasHeatingCost_eurpkWh_TEMPORARY]]></Name>
					<X>1470</X><Y>215</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704447485799</Id>
					<Name><![CDATA[v_eHeatingCost_eurpkWh_TEMPORARY]]></Name>
					<X>1470</X><Y>195</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704447555064</Id>
					<Name><![CDATA[v_tempSetpoint_degC]]></Name>
					<X>1470</X><Y>20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
						<InitialValue Class="CodeValue">
							<Code><![CDATA[19]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704447555067</Id>
					<Name><![CDATA[v_currentIndoorTemp_degC]]></Name>
					<X>1470</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
						<InitialValue Class="CodeValue">
							<Code><![CDATA[20]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704447555069</Id>
					<Name><![CDATA[v_dayTempSetpoint_degC]]></Name>
					<X>1470</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704447555071</Id>
					<Name><![CDATA[v_nightTempSetpoint_degC]]></Name>
					<X>1470</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704447555073</Id>
					<Name><![CDATA[v_heatingOn_time]]></Name>
					<X>1470</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1704447555075</Id>
					<Name><![CDATA[v_heatingOff_time]]></Name>
					<X>1470</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1674464900101</Id>
					<Name><![CDATA[p_minEVChargeTarget_fr]]></Name>
					<X>250</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0.3]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1674464900099</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1675032836511</Id>
					<Name><![CDATA[p_householdEV]]></Name>
					<X>640</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EAEV]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1675032836509</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1675169216646</Id>
					<Name><![CDATA[p_minChargingPower_kW]]></Name>
					<X>250</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[2.0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1675169216644</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1678703448389</Id>
					<Name><![CDATA[p_smartChargingPowerAttenuation_fr]]></Name>
					<X>250</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[2.0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1678703448387</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1702369144256</Id>
					<Name><![CDATA[p_hasElectricHob]]></Name>
					<X>250</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1702369144254</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1702369144261</Id>
					<Name><![CDATA[p_smartHeatingEnabled]]></Name>
					<X>250</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[boolean]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1702369144259</Id>
							<EditorContolType>CHECK_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1702369144264</Id>
					<Name><![CDATA[p_pricelevelLowDifFromAvg_eurpkWh]]></Name>
					<X>250</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1702369144262</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1702369144267</Id>
					<Name><![CDATA[p_pricelevelHighDifFromAvg_eurpkWh]]></Name>
					<X>250</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1702369144265</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1702369144270</Id>
					<Name><![CDATA[p_heatingKickinTreshold_degC]]></Name>
					<Description><![CDATA[[degrees]]]></Description>
					<X>250</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[0.0]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1702369144268</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<Events>
				<Event>
					<Id>1674899601674</Id>
					<Name><![CDATA[e_measureHeatpump]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>2010</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties TriggerType="timeout" Mode="cyclic">
						<Timeout Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
						</Timeout>
						<Rate Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="RateUnits"><![CDATA[PER_HOUR]]></Unit>
						</Rate>
						<OccurrenceAtTime>true</OccurrenceAtTime>
						<OccurrenceDate>1674979200000</OccurrenceDate>
						<OccurrenceTime Class="CodeUnitValue">
							<Code><![CDATA[0.99]]></Code>
							<Unit Class="TimeUnits"><![CDATA[DAY]]></Unit>
						</OccurrenceTime>
						<RecurrenceCode Class="CodeUnitValue">
							<Code><![CDATA[1]]></Code>
							<Unit Class="TimeUnits"><![CDATA[DAY]]></Unit>
						</RecurrenceCode>
						<Condition><![CDATA[false]]></Condition>
					</Properties>
					<Action><![CDATA[if( p_primaryHeatingAsset.j_ea instanceof J_EAConversionHeatPump ){
	v_dailyHPConsumption_kWh = ((J_EAConversionHeatPump)p_primaryHeatingAsset.j_ea).totalElectricityConsumed_kWh - v_hpPreviousConsumptionLevel;
	v_hpPreviousConsumptionLevel = ((J_EAConversionHeatPump)p_primaryHeatingAsset.j_ea).totalElectricityConsumed_kWh;
}]]></Action>
				</Event>
			</Events>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664441996771</Id>
					<Name><![CDATA[f_manageHeatingAssets_overwrite]]></Name>
					<X>800</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if( p_DHWAsset != null){
	v_hotwaterDemand_kW = p_DHWAsset.heatConsumption_kW;
}
else {
	v_hotwaterDemand_kW = 0;
}
setThermostaat();
//p_BuildingThermalAsset.j_ea.updateAmbientTemperature(main.v_currentAmbientTemperature_degC);

// CASE: ONE HEATING ASSET --------------------------------------------------------------------------------------------------------------------------------------------
if ( p_secondaryHeatingAsset == null && p_primaryHeatingAsset != null) {
	v_currentIndoorTemp_degC = p_BuildingThermalAsset.getCurrentTemperature();
	if ( p_primaryHeatingAsset instanceof J_EAConversionGasBurner || p_primaryHeatingAsset instanceof J_EAConversionHeatDeliverySet) { // when there is only a gas burner or DH set
		if (v_currentIndoorTemp_degC < v_tempSetpoint_degC - p_heatingKickinTreshold_degC && p_BuildingThermalAsset!= null) {
			double powerDemand_kW = v_hotwaterDemand_kW + (v_tempSetpoint_degC - v_currentIndoorTemp_degC) * p_BuildingThermalAsset.getHeatCapacity_JpK() / 3.6e6;
			p_primaryHeatingAsset.v_powerFraction_fr = min(1, powerDemand_kW / p_primaryHeatingAsset.getHeatCapacity_kW()  );
			p_BuildingThermalAsset.v_powerFraction_fr = (  p_primaryHeatingAsset.v_powerFraction_fr * p_primaryHeatingAsset.capacityHeat_kW  - v_hotwaterDemand_kW ) / p_BuildingThermalAsset.getHeatCapacity_kW();			
			//traceln("p_primaryHeatingAsset.v_powerFraction_fr: %s, heatDemand: %s, building heat capacity: %s", p_primaryHeatingAsset.v_powerFraction_fr, powerDemand_kW, p_BuildingThermalAsset.getHeatCapacity_JpK());
		}
		else { // Just supply DHW
			p_primaryHeatingAsset.v_powerFraction_fr = v_hotwaterDemand_kW / p_primaryHeatingAsset.getHeatCapacity_kW();
			if (p_BuildingThermalAsset!=null) {
				p_BuildingThermalAsset.v_powerFraction_fr = 0;
			}
		}
	} 
	else if (p_primaryHeatingAsset instanceof J_EAConversionHeatPump){
			f_heatWithHeatpump( );
	}
	else {
		traceln("House " + p_gridConnectionID + " has a single unsupported heating asset!");
	}	
} else if ( p_secondaryHeatingAsset != null && p_primaryHeatingAsset != null) { // CASE: TWO HEATING ASSETS	-------------------------------------------------------------------------------------------------------------------------------------
	f_heatWithHybridHeatpump();
}

// Add heat from cooking assets to house
if (p_cookingTracker != null) { // check for presence of cooking asset
	p_cookingTracker.manageActivities(time(MINUTE)); // also calls f_updateAllFlows in HOB asset	
	v_electricHobConsumption_kW += p_cookingTracker.HOB.electricityConsumption_kW; // PowerFlows van consumption assets worden in f_calculateEnergyBalance opgeteld, dus ken dit niet toe aan totale consumptie!
	v_electricHobConsumption_kWh += v_electricHobConsumption_kW * energyModel.p_timeStep_h;
	v_residualHeatGasPit_kW = p_cookingTracker.HOB.heatProduction_kW;
	if (p_BuildingThermalAsset!=null) {
		p_BuildingThermalAsset.v_powerFraction_fr += v_residualHeatGasPit_kW / p_BuildingThermalAsset.getHeatCapacity_kW();
	}
	//if ( p_cookingTracker.v_ratio > 0 ) {
	//	traceln("Cooking session in House " + p_gridConnectionID + " with power fraction: " + p_cookingTracker.v_ratio );
	//}
}

if (p_BuildingThermalAsset!=null && p_primaryHeatingAsset != null) {
	p_primaryHeatingAsset.f_updateAllFlows(p_primaryHeatingAsset.v_powerFraction_fr);
	v_conversionPowerElectric_kW += p_primaryHeatingAsset.electricityConsumption_kW - p_primaryHeatingAsset.electricityProduction_kW;
	p_BuildingThermalAsset.f_updateAllFlows(p_BuildingThermalAsset.v_powerFraction_fr);


	//traceln("p_primaryHeatingAsset heat production: %s", p_primaryHeatingAsset.heatProduction_kW);
	//traceln("p_BuildingThermalAsset heat consumption: %s", p_BuildingThermalAsset.heatConsumption_kW);

	//v_currentPowerHeat_kW += p_BuildingThermalAsset.heatConsumption_kW - p_BuildingThermalAsset.heatProduction_kW;
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1664963959146</Id>
					<Name><![CDATA[f_operateFlexAssets_overwrite]]></Name>
					<X>800</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double availablePowerAtPrice_kW = p_connectionCapacity_kW;
if (l_ownerActor.getConnectedAgent()!=null){
	v_currentElectricityPriceConsumption_eurpkWh = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).f_getElectricityPrice( v_currentPowerElectricity_kW );
	availablePowerAtPrice_kW = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).f_getAvailablePowerAtPrice( v_currentPowerElectricity_kW );
} else {
	v_currentElectricityPriceConsumption_eurpkWh = 0.3;
}
//v_currentAveraged7kWElectricityPrice_eurpkWh = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).f_getAveragedElectricityPrice(v_currentPowerElectricity_kW, 7.0 );
v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( v_currentElectricityPriceConsumption_eurpkWh - v_electricityPriceLowPassed_eurpkWh );
//v_currentPriceLevel = f_getPriceLevel( v_currentElectricityPriceConsumption_eurpkWh );

f_manageHeatingAssets();

/*for( J_EAConversion v : c_conversionAssets ) {	
	v_currentPowerElectricity_kW += v.electricityConsumption_kW - v.electricityProduction_kW;
	
	v_currentPowerMethane_kW += v.methaneConsumption_kW - v.methaneProduction_kW;
	v_currentPowerHydrogen_kW += v.hydrogenConsumption_kW - v.hydrogenProduction_kW;
	v_currentPowerHeat_kW += v.heatConsumption_kW - v.heatProduction_kW;
	v_currentPowerDiesel_kW += v.dieselConsumption_kW;
}*/


/*for ( J_EAStorage e : c_storageAssets ) {
	v_currentPowerHeat_kW += e.heatConsumption_kW - e.heatProduction_kW; //peter 13-3-23: ik snap niet waarom dit hier staat. dit komt in de knoop met andere storage assets (zoals batterij)
}*/

if( p_householdEV != null){
	double availableCapacityFromBatteries = p_batteryAsset == null ? 0 : p_batteryAsset.getCapacityAvailable_kW(); 
	double availableChargingCapacity = v_allowedCapacity_kW + availableCapacityFromBatteries - v_currentPowerElectricity_kW;
	//f_maxPowerCharging( max(0, availableChargingCapacity));
	f_manageCharging();
	//v_currentPowerElectricity_kW += v_evChargingPowerElectric_kW;
}

if( p_batteryAsset != null){
	switch (p_batteryOperationMode){
		case HOUSEHOLD_LOAD:
			f_batteryManagementBalance(v_batterySOC_fr);
		break;
		case PRICE:
			f_batteryManagementPrice_overwrite(v_batterySOC_fr);
		break;
		default:
		break;
	}
	v_batteryPowerElectric_kW =  p_batteryAsset.electricityConsumption_kW - p_batteryAsset.electricityProduction_kW;
	//v_currentPowerElectricity_kW +=v_batteryPowerElectric_kW;
	v_batterySOC_fr = p_batteryAsset.getCurrentStateOfCharge();
}

v_currentLoadLowPassed_kW += v_lowPassFactorLoad_fr * ( v_currentPowerElectricity_kW - v_currentLoadLowPassed_kW ); ]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665498948452</Id>
					<Name><![CDATA[f_connectToChild_overwrite]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>780</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingParentNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[//assetLinks.connectTo(ConnectingParentNode);
EnergyAsset EA = (EnergyAsset) ConnectingParentNode;
J_EA j_instance = EA.j_ea;

//dont add asset to list if it is not a tangible asset (i.e. a heating model for buildings) [GH] How is this not a tangible asset??
//if(! (j_instance instanceof J_EAStorageHeat && ((J_EAStorageHeat)j_instance).heatStorageType == OL_EAStorageTypes.HEATMODEL_BUILDING)) {
	c_energyAssets.add(EA);
//}

if (j_instance instanceof J_EAConsumption) {
	//c_consumptionAssets.add(EA);
	if( EA.p_energyAssetType == OL_EnergyAssetType.HOT_WATER_CONSUMPTION ){
	 	//p_DHWAsset = EA;
 	}
 	else if (EA.j_ea instanceof J_EADieselVehicle) {
		//c_vehicleAssets.add( EA );
		//c_dieselVehicles.add( EA );
		//c_vehicleAssets.get( v_vehicleIndex ).v_powerFraction_fr = 1; // what's this??
		/*if (c_mobilityTrackers.size() == 0) {
			MobilityTracker m = main.add_mobilityTrackers();
			c_mobilityTrackers.add( m );
			m.p_gridConnection = this;
			m.p_mobilityPatternType = OL_MobilityPatternType.PRIVATE_VEHICLE;
			m.p_vehicleIndex = v_vehicleIndex;
			m.p_energyAsset = c_vehicleAssets.get( v_vehicleIndex );
			m.p_vehicleInstance = (J_EADieselVehicle)EA.j_ea;
			//m.p_vehicleInstance = (J_EADieselVehicle)m.p_vehicleInstance;
			
			m.f_getData();
		} else {
			c_mobilityTrackers.get(v_vehicleIndex).p_vehicleIndex = v_vehicleIndex;
			c_mobilityTrackers.get(v_vehicleIndex).p_energyAsset = c_vehicleAssets.get( v_vehicleIndex );
			c_mobilityTrackers.get(v_vehicleIndex).p_vehicleInstance = (J_EADieselVehicle)EA.j_ea;
		}
		((J_EADieselVehicle)EA.j_ea).setMobilityTracker( c_mobilityTrackers.get(v_vehicleIndex) );
		*/
	
		//v_vehicleIndex ++;
	}
 } 
else if (j_instance instanceof J_EAProduction ) {
	//c_productionAssets.add(EA);
	if (EA.p_energyAssetType == OL_EnergyAssetType.PHOTOVOLTAIC) {
		v_hasPV = true;
		traceln("PV system connected to House!");
	}
} 
else if (j_instance instanceof J_EAStorage ) {
	//traceln("storage asset type connecting to House: " + j_instance);
	if (j_instance instanceof J_EABuilding) {
		
		//p_BuildingThermalAsset = EA;

		if ( p_isolationLabel != null & p_gridConnectionType != null){ // Get building thermals from lookup table when isolation label and house type are available
			double lossFactor_WpK2 = main.v_buildingThermalPars.path( p_gridConnectionType.name() ).path(p_isolationLabel.name()).path("lossFactor_WpK").doubleValue();
			double heatCapacity_JpK2 = main.v_buildingThermalPars.path( p_gridConnectionType.name() ).path(p_isolationLabel.name()).path("heatCapacity_JpK").doubleValue();
			((J_EABuilding)EA.j_ea).lossFactor_WpK = lossFactor_WpK2;
			((J_EABuilding)EA.j_ea).heatCapacity_JpK = heatCapacity_JpK2;
			traceln("House thermal model updated!");
			traceln("House type: %s, energy label: %s", p_gridConnectionType, p_isolationLabel);
			traceln("lossfactor %s, heatcapacity %s", lossFactor_WpK2, heatCapacity_JpK2);
		}
		//traceln( "Household heat model has kWh: " + ((J_EAStorageHeat) j_instance).getStorageCapacity());
	}	
	else if (j_instance instanceof J_EAEV) {
		//c_storageAssets.add(EA);
		//c_vehicleAssets.add( j_instance );
		//EA.v_powerFraction_fr = 1;
		/*if (c_mobilityTrackers.size() == 0) {
			MobilityTracker m = main.add_mobilityTrackers();
			c_mobilityTrackers.add( m );
			m.p_vehicleIndex = v_vehicleIndex;
			m.p_gridConnection = this;
			m.p_energyAsset = EA;
			m.p_vehicleInstance = (J_EAEV)EA.j_ea;

			m.p_mobilityPatternType = PRIVATE_VEHICLE;
			m.f_getData();
		} else {
			traceln("Vehicle index in House " + p_gridConnectionID + " is: " + v_vehicleIndex);
			c_mobilityTrackers.get(v_vehicleIndex).p_vehicleIndex = v_vehicleIndex;
			c_mobilityTrackers.get(v_vehicleIndex).p_energyAsset = c_vehicleAssets.get( v_vehicleIndex );
			c_mobilityTrackers.get(v_vehicleIndex).p_vehicleInstance = EA.j_ea;
		}	
		((J_EAEV)EA.j_ea).setMobilityTracker( c_mobilityTrackers.get(v_vehicleIndex) );
		*/
		//p_householdEV = EA;
		//v_vehicleIndex ++;
	}
	else if(j_instance instanceof J_EAStorageElectric && ((J_EAStorageElectric)j_instance).getStorageCapacity_kWh() !=0) {
		//p_batteryAsset = EA;
		//c_storageAssets.add(EA);
		v_batterySOC_fr = p_batteryAsset.getCurrentStateOfCharge();
	}
	else if ( j_instance instanceof J_EAStorageHeat ) {
			if ( ((J_EAStorageHeat)j_instance).heatStorageType == OL_EAStorageTypes.HEATBUFFER ) {
				//c_storageAssets.add(EA);
				//p_heatBuffer = EA;				
			//traceln( "Heatbuffer has kWH: " +((J_EAStorageHeat) j_instance).getStorageCapacity());		
			}
	} 
	else{
		traceln(getName() + "storage asset create that cannot be identified (i.e. its not an EV and not an heatstorage");
	}
} 
else if (j_instance instanceof J_EAConversion) {
	c_conversionAssets.add((J_EAConversion)EA.j_ea );
	if (EA.p_energyAssetType == OL_EnergyAssetType.GAS_BURNER || EA.j_ea instanceof J_EAConversionHeatPump || EA.j_ea instanceof J_EAConversionHeatDeliverySet || EA.j_ea instanceof J_EAConversionElectricHeater ) {
		switch (p_heatingType) {
        	case HEATPUMP_AIR:
        		p_primaryHeatingAsset = (J_EAConversion)EA.j_ea;
        	break;
        	case HEATPUMP_GASPEAK:
				p_primaryHeatingAsset = p_primaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionHeatPump? (J_EAConversion)EA.j_ea : p_primaryHeatingAsset;
	            p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionGasBurner? (J_EAConversion)EA.j_ea : p_secondaryHeatingAsset;
            break;
            case HEATPUMP_BOILERPEAK:    // ambigue wat we met boiler bedoelen; eboiler of grootschalige DH_boiler = gasburner!
                p_primaryHeatingAsset = p_primaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionHeatPump? (J_EAConversion)EA.j_ea : p_primaryHeatingAsset;
                p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionGasBurner? (J_EAConversion)EA.j_ea : p_secondaryHeatingAsset;
                p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionElectricHeater? (J_EAConversion)EA.j_ea : p_secondaryHeatingAsset;                                          
            break;
            case GASBURNER:
                p_primaryHeatingAsset = p_primaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionGasBurner? (J_EAConversion)EA.j_ea : p_primaryHeatingAsset;
                p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionGasCHP? (J_EAConversion)EA.j_ea : p_secondaryHeatingAsset;
            break;
            case DISTRICTHEAT:
                if( EA.j_ea instanceof J_EAConversionHeatDeliverySet ){
					p_primaryHeatingAsset = (J_EAConversion)EA.j_ea;
				}
				else {
					p_secondaryHeatingAsset = (J_EAConversion)EA.j_ea;
					// set water/water heatpump source energy-asset
					//if( EA.j_ea instanceof J_EAConversionHeatPump && ((J_EAConversionHeatPump)EA.j_ea).getAmbientTempType().equals("WATER") && p_primaryHeatingAsset.j_ea instanceof J_EAConversionHeatDeliverySet ) {
					if( EA.j_ea instanceof J_EAConversionHeatPump ){	
						//EA.p_linkedSourceEnergyAsset = p_primaryHeatingAsset; Still need to rebuild link with class-based energy assets!!
						//EA.j_ea.updateAmbientTemperature( EA.p_linkedSourceEnergyAsset.j_ea.getCurrentTemperature() );
					}
				}	
            break;
            default: throw new IllegalStateException("Invalid DistrictHeating HeatingType: " + p_heatingType);
      	}
    }
	else if ( EA.p_energyAssetType == OL_EnergyAssetType.GAS_PIT){
		//f_connectToJ_EA(EA.j_ea);
		//p_hasElectricHob = false;
	}
	else if (EA.p_energyAssetType == OL_EnergyAssetType.ELECTRIC_HOB) {
		//f_connectToJ_EA(EA.j_ea);
		//p_hasElectricHob = true;
	}
}

else {
	traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingParentNode.getId() + " is of unknown type or null! ");
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669203453155</Id>
					<Name><![CDATA[f_createThermalStorageModel]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>770</X><Y>-30</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[OL_EAPresetStorageAssets isolationLevel;
switch(p_isolationLabel) {
	case A:
		isolationLevel = OL_EAPresetStorageAssets.House_heatmodel_A;
	break;
	case B:
		isolationLevel = OL_EAPresetStorageAssets.House_heatmodel_B;
	break;
	case C:
		isolationLevel = OL_EAPresetStorageAssets.House_heatmodel_C;
	break;
	case D:
		isolationLevel = OL_EAPresetStorageAssets.House_heatmodel_D;
	break;
	case E:
		isolationLevel = OL_EAPresetStorageAssets.House_heatmodel_E;
	break;
	case F:
		isolationLevel = OL_EAPresetStorageAssets.House_heatmodel_F;
	break;
	case G:
		isolationLevel = OL_EAPresetStorageAssets.House_heatmodel_G;
	break;
	default:
		traceln("f_createPresetStorageHeat: house without invalid label, label set to C");
		isolationLevel = OL_EAPresetStorageAssets.House_heatmodel_C;
	break;
}

//Get preset input from DB
List< Tuple > data = selectFrom( storage_assets ).where( storage_assets.name.eq( isolationLevel ) ).
list();

OL_EnergyAssetType assetType = null;
String energyAssetPresetName = isolationLevel.toString();
double capacityHeat_kW = 0;
double lossFactor_WpK = 0;
double heatCapacity_JpK = 0;
double minTemperature_degC = 0;
double maxTemperature_degC = 0;
double setTemperature_degC = 0;
String ambientTempType = "";


for( Tuple tup : data ) {
	assetType = tup.get( storage_assets.energy_asset_type );
	capacityHeat_kW = tup.get( storage_assets.capacity_heat_kw );
	lossFactor_WpK =  tup.get( storage_assets.loss_factor_wpk );
	heatCapacity_JpK =  tup.get( storage_assets.heat_capacity_jpk );
	minTemperature_degC = tup.get( storage_assets.min_temp_degc);
	maxTemperature_degC = tup.get( storage_assets.max_temp_degc);
	setTemperature_degC = tup.get( storage_assets.set_temp_degc);
	ambientTempType = tup.get( storage_assets.ambient_temp_type);
}

EnergyAsset e = main.add_pop_energyAssets( null, p_gridConnectionID,  assetType, isolationLevel.toString() );
e.j_ea = new J_EAStorageHeat(e, OL_EAStorageTypes.HEATMODEL_BUILDING, capacityHeat_kW, lossFactor_WpK, energyModel.p_timeStep_h, setTemperature_degC , minTemperature_degC, maxTemperature_degC, setTemperature_degC, heatCapacity_JpK, ambientTempType);
e.f_connectToParentNode( this );
main.c_storageAssets.add(e);
main.c_ambientAirDependentAssets.add(e);

// update static ambient temperature once for underground types
if( ambientTempType != null && ambientTempType.equals("GROUND") ) {
	e.j_ea.updateAmbientTemperature( main.p_undergroundTemperature_degC );
}
if( ambientTempType != null && ambientTempType.equals("AIR") ) {
	e.j_ea.updateAmbientTemperature( main.v_currentAmbientTemperature_degC );
}

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1674402121915</Id>
					<Name><![CDATA[f_chargeOnPrice_overwrite]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>830</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[currentElectricityPriceConsumption_eurpkWh]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Parameter>
						<Name><![CDATA[availablePowerOnGC_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[//J_EAEV EV_instance = (J_EAEV)p_householdEV.j_ea;

double chargingRatio = 0.0; // needs to be set at zero! 
double powerAvailableAtPrice_kW = 0;
double powerAvailableAtLastLoop_kW = 0;
double currentPowerDrawn_kW = v_currentPowerElectricity_kW;
boolean continueLoop = true;
double maxChargingPower_kW = p_householdEV.getElectricCapacity_kW();
ConnectionOwner owner = (ConnectionOwner)l_ownerActor.getConnectedAgent();
double electricityPrice_eurpkWh = 0;
String lastLoopsPriceLevel = "";
OL_priceLevels priceLevel;
int index = 0; // purely to not let loop go wild, if something goes wrong


if( p_householdEV.getAvailability() && p_householdEV.chargingNeed != OL_EVChargingNeed.NONE ){
	while ( continueLoop && index < 5 ){	
		powerAvailableAtPrice_kW += owner.f_getAvailablePowerAtPrice( currentPowerDrawn_kW );
		electricityPrice_eurpkWh = owner.f_getElectricityPrice( currentPowerDrawn_kW );
		priceLevel = f_getPriceLevel( electricityPrice_eurpkWh );
		
		if (powerAvailableAtPrice_kW > p_minChargingPower_kW){ // only charge if there is at least 2 OR 1 kW availablE
			// SCENARIO LOW CHARGING NEED -> Only when price is low
			if ( p_householdEV.chargingNeed == OL_EVChargingNeed.LOW) { 
				if( priceLevel == OL_priceLevels.LOW ) {
					if (powerAvailableAtPrice_kW >= p_householdEV.getElectricCapacity_kW() / p_smartChargingPowerAttenuation_fr ){
						chargingRatio = 1 / p_smartChargingPowerAttenuation_fr;
						continueLoop = false;
					}
					else{
						powerAvailableAtLastLoop_kW = powerAvailableAtPrice_kW;
						currentPowerDrawn_kW += powerAvailableAtPrice_kW;
						lastLoopsPriceLevel = "low";
					}
				}
				else if ( lastLoopsPriceLevel.equals("low")) {
					chargingRatio = min( powerAvailableAtLastLoop_kW, p_householdEV.getElectricCapacity_kW() ) / p_householdEV.getElectricCapacity_kW();
					continueLoop = false;
				}
				else {
					continueLoop = false;
				}
			}
			// SCENARIO MEDIUM CHARGING NEED -> Only when price is low or a bit when medium
			else if ( p_householdEV.chargingNeed == OL_EVChargingNeed.MEDIUM){
				if(  priceLevel == OL_priceLevels.LOW) { 
					if (powerAvailableAtPrice_kW >= p_householdEV.getElectricCapacity_kW() ){
						chargingRatio = 1 ;
						continueLoop = false;
					}
					else{
						powerAvailableAtLastLoop_kW = powerAvailableAtPrice_kW;
						currentPowerDrawn_kW += powerAvailableAtPrice_kW;
						lastLoopsPriceLevel = "low";
					}
				}
				else if(  priceLevel == OL_priceLevels.MEDIUM ) {   
					if( lastLoopsPriceLevel.equals("low") && powerAvailableAtLastLoop_kW > p_minChargingPower_kW ) { // charge what you can at low (/free) price and a bit on medium price
						chargingRatio = powerAvailableAtLastLoop_kW / p_householdEV.getElectricCapacity_kW() + p_householdEV.getElectricCapacity_kW() / 4;
						continueLoop = false;

					}
					else {	//hier zou je nog een extra min() statement bij kunnen zetten die het minimale neemt van de huidige min statment en powerAvailableAtPrice_kW, echter, komt hoogstwaarschijnlijk niet voor (1/4 van laadsnelheid is inprincipe altijd minder dan 2 + 'x' kW.). Ook is het geen ramp om HEEEEEL sporadisch op hoge prijs te laden. 
						chargingRatio = p_householdEV.getElectricCapacity_kW() / 4 ; //charge slow, if there is no hurry and price is average
						continueLoop = false;
					}
				}
				else if (lastLoopsPriceLevel.equals("low") && powerAvailableAtLastLoop_kW > p_minChargingPower_kW ){
					chargingRatio = powerAvailableAtLastLoop_kW / p_householdEV.getElectricCapacity_kW();
					continueLoop = false;
				}
				else{
					continueLoop = false;
				}
			}
			// SCENARIO HIGH CHARGING NEED -> charge full power, otherwise the EV will not get full
			else {
				chargingRatio = 1.0; // Hier kan er boven de gridconnectie geladen worden. Zeker als je 11 kW laders hebt met een warmtepomp erbij
				continueLoop = false;
			}
		}
		else { // Als er minder dan 2 kW beschikbaar is in deze prijsband (i.e. huidige loop), ga nog een keer door de loop heen in de volgende prijsband
			powerAvailableAtLastLoop_kW = powerAvailableAtPrice_kW;
			currentPowerDrawn_kW += powerAvailableAtPrice_kW;
		}
		index ++;
	}
}
if( p_householdEV.chargingNeed != OL_EVChargingNeed.HIGH){ //unless the charging need is high, limit the charging speed to grid connection.
	chargingRatio = min(1, min( availablePowerOnGC_kW / p_householdEV.getElectricCapacity_kW(), chargingRatio));
}
p_householdEV.f_updateAllFlows( chargingRatio );
v_evChargingPowerElectric_kW += p_householdEV.electricityConsumption_kW - p_householdEV.electricityProduction_kW;

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1675014184707</Id>
					<Name><![CDATA[f_manageCharging_overwrite]]></Name>
					<X>800</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double availableCapacityFromBatteries = p_batteryAsset == null ? 0 : p_batteryAsset.getCapacityAvailable_kW(); 
//double availableChargingCapacity = v_allowedCapacity_kW + availableCapacityFromBatteries - v_currentPowerElectricity_kW;
double availableChargingCapacity = p_connectionCapacity_kW + availableCapacityFromBatteries - v_currentPowerElectricity_kW;
v_vehicleSOC_fr = p_householdEV.getCurrentStateOfCharge();

switch (p_chargingAttitudeVehicles) {
	case SIMPLE:
		f_simpleCharging();
	break;
	case CHEAP:
		f_chargeOnPrice( v_currentElectricityPriceConsumption_eurpkWh, max(0, availableChargingCapacity));
	break;	
	case V2G:
		//v_currentElectricityPriceConsumption_eurpkWh = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).f_getElectricityPrice(p_connectionCapacity_kW); 
		//v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( v_currentElectricityPriceConsumption_eurpkWh - v_electricityPriceLowPassed_eurpkWh );
		f_chargeOnPrice_V2G( v_currentElectricityPriceConsumption_eurpkWh, max(0, availableChargingCapacity));
	break;	
	default:
		traceln("Incorrect charging mode in household @f_manageCharging_overwrite");
}
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1675033218897</Id>
					<Name><![CDATA[f_simpleCharging_overwrite]]></Name>
					<Description><![CDATA[Charging when arriving home, not taking grid limits into account]]></Description>
					<X>830</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double powerFraction_fr = 0;
if( p_householdEV.getCurrentStateOfCharge() < 1 ) {
	powerFraction_fr = 1;
	/*if ( p_hasSmartFlexAssets ){
		ConnectionOwner owner = ((ConnectionOwner)l_ownerActor.getConnectedAgent());
		if (! owner.v_currentCongestionType.equals("Overconsumption") && owner.p_capacityTariffApplicable ){
			chargingRatio = min (1, owner.p_capacityLevel_kW / p_householdEV.getElectricCapacity_kW()); // dont charge faster than the congestion level (although with household demand power drawn will be slightly higher)
		}
	}*/
}
p_householdEV.f_updateAllFlows(powerFraction_fr);
v_evChargingPowerElectric_kW += p_householdEV.electricityConsumption_kW - p_householdEV.electricityProduction_kW;

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1675034695162</Id>
					<Name><![CDATA[f_determineChargingDemandOfEV]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>800</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[//J_EAEV EVinstance = (J_EAEV)p_householdEV;
if( p_householdEV != null && p_chargingAttitudeVehicles == OL_ChargingAttitude.CHEAP ){
	if(! p_householdEV.getAvailability() ){ // not at home
		p_householdEV.chargingNeed = OL_EVChargingNeed.EV_NOT_AVAILABLE;
	}
	else if( p_householdEV.getCurrentStateOfCharge() >= 1){ // is full
		p_householdEV.chargingNeed = OL_EVChargingNeed.NONE;
	}
	else { // could use some charging
		double chargeNeedForNextTrip_kWh = max(0, p_householdEV.tripTracker.v_energyNeedForNextTrip_kWh + p_householdEV.getStorageCapacity_kWh() * (p_minEVChargeTarget_fr - p_householdEV.getCurrentStateOfCharge()));
		double timeToNextTrip_min = p_householdEV.tripTracker.v_nextEventStartTime_min - time ( MINUTE );
		double chargeDeadline_min = floor((p_householdEV.tripTracker.v_nextEventStartTime_min / 60 - chargeNeedForNextTrip_kWh / p_householdEV.getElectricCapacity_kW()) / energyModel.p_timeStep_h) * 60 * energyModel.p_timeStep_h;
		if ( chargeNeedForNextTrip_kWh == 0) { 
			p_householdEV.chargingNeed = OL_EVChargingNeed.LOW;
		}
		else if (time(MINUTE) < chargeDeadline_min ){
			//traceln(time(MINUTE) + ", " + chargeDeadline_min);
			//traceln(chargeNeedForNextTrip_kWh);
			p_householdEV.chargingNeed = OL_EVChargingNeed.MEDIUM;
		}
		else {
			p_householdEV.chargingNeed = OL_EVChargingNeed.HIGH;
		}
	}
	v_vehicleChargingNeed = p_householdEV.chargingNeed;
}
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1676477303264</Id>
					<Name><![CDATA[f_heatWithHeatpump]]></Name>
					<X>1730</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double powerFraction_heatBuffer_fr = 0;
double powerFraction_heatPump_fr = 0;
double avgElectricityPrice_eurpkWh = 10;
J_EAConversionHeatPump hp = (J_EAConversionHeatPump)p_primaryHeatingAsset;
v_copHeatpump = hp.getCOP();


if ( p_smartHeatingEnabled ) {
	avgElectricityPrice_eurpkWh = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).f_getAveragedElectricityPrice( v_currentPowerElectricity_kW, hp.getElectricCapacity_kW() );
	//traceln("avg electircity rprice for HP: " + avgElectricityPrice_eurpkWh);
}

//heat the buffer if it requires heat
if ( p_heatBuffer != null ){
	if ( p_heatBuffer.requiresHeat ){
		powerFraction_heatPump_fr = 1;
		powerFraction_heatBuffer_fr = hp.getHeatCapacity_kW() / p_heatBuffer.getHeatCapacity_kW() ;
		//traceln(getName() + " heat buffer cus of need");
	} else if( p_smartHeatingEnabled && avgElectricityPrice_eurpkWh < v_electricityPriceLowPassed_eurpkWh - p_pricelevelLowDifFromAvg_eurpkWh
		//also heat the buffer if the price is cheap, the buffer has some room and the vehicle does not need charging
		&& p_heatBuffer.getCurrentStateOfCharge() < 0.7)
	{
		if( p_householdEV == null ){
			powerFraction_heatPump_fr = 1;
			powerFraction_heatBuffer_fr = hp.getHeatCapacity_kW() / p_heatBuffer.getHeatCapacity_kW();
		} else if (p_householdEV.chargingNeed != OL_EVChargingNeed.HIGH){
			powerFraction_heatPump_fr = 1;
			//traceln("heat buffer cus cheap");
			powerFraction_heatBuffer_fr = hp.getHeatCapacity_kW() / p_heatBuffer.getHeatCapacity_kW();
		}
	}
	//reduce the powerfraction in the buffer with the hot water demand.
	powerFraction_heatBuffer_fr += -v_hotwaterDemand_kW / p_heatBuffer.getHeatCapacity_kW();
}

//heat the house
if( powerFraction_heatPump_fr == 0 ){ // Why this check?
	if (v_currentIndoorTemp_degC < v_tempSetpoint_degC - p_heatingKickinTreshold_degC ) {
		powerFraction_heatPump_fr = 1; 
		//traceln("heat house cus of need");
		p_BuildingThermalAsset.v_powerFraction_fr = hp.getHeatCapacity_kW() / p_BuildingThermalAsset.getHeatCapacity_kW();
	} else if( p_smartHeatingEnabled && avgElectricityPrice_eurpkWh < v_electricityPriceLowPassed_eurpkWh - p_pricelevelLowDifFromAvg_eurpkWh
		&& v_currentIndoorTemp_degC < v_tempSetpoint_degC + 1) {
		//also heat the house if the price is cheap, the the house is colder than desired + 1 and the vehicle does not need charging
		if( p_householdEV == null ){
			powerFraction_heatPump_fr = 1;
			p_BuildingThermalAsset.v_powerFraction_fr = hp.getHeatCapacity_kW() / p_BuildingThermalAsset.getHeatCapacity_kW();
		} else if (p_householdEV.chargingNeed != OL_EVChargingNeed.HIGH){ // only use heatpump if the vehicle is not about to charge
			powerFraction_heatPump_fr = 1;
			//traceln("heat house cus of cheap");
			p_BuildingThermalAsset.v_powerFraction_fr = hp.getHeatCapacity_kW() / p_BuildingThermalAsset.getHeatCapacity_kW();
		}
	} else {
		p_BuildingThermalAsset.v_powerFraction_fr = 0;
	}
} else {
	p_BuildingThermalAsset.v_powerFraction_fr = 0; // Whut?
}

if ( p_heatBuffer != null ){
	p_heatBuffer.v_powerFraction_fr = powerFraction_heatBuffer_fr;
	p_heatBuffer.f_updateAllFlows(powerFraction_heatBuffer_fr);
}
p_primaryHeatingAsset.v_powerFraction_fr = powerFraction_heatPump_fr;
//traceln( "heatpumpt power fraction: " + powerFraction_heatPump_fr);
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1676976246060</Id>
					<Name><![CDATA[f_heatWithHybridHeatpump]]></Name>
					<X>1730</X><Y>100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( p_primaryHeatingAsset instanceof J_EAConversionHeatPump & p_secondaryHeatingAsset instanceof J_EAConversionGasBurner) { // Heatpump and gasburner, switch based on heatpump COP)
	J_EAConversionHeatPump HP = (J_EAConversionHeatPump)p_primaryHeatingAsset;
	v_copHeatpump = HP.getCOP();
	if (v_currentIndoorTemp_degC < v_tempSetpoint_degC - p_heatingKickinTreshold_degC) {
		//HP.updateAmbientTemp(main.v_currentAmbientTemperature_degC); // update heatpump temp levels! <-- waarom dit gebeurt al in de main (peter 21-02-23)
		boolean gasCheaper = f_calcCheapestHeatingPrice();
		if ( gasCheaper ) { // heat with gas
			traceln("gas is cheaper");
			double powerDemand_kW = v_hotwaterDemand_kW + (v_tempSetpoint_degC - v_currentIndoorTemp_degC) * p_BuildingThermalAsset.getHeatCapacity_JpK() / 3.6e6;
			p_primaryHeatingAsset.v_powerFraction_fr = 0;
			p_secondaryHeatingAsset.v_powerFraction_fr = min(1, powerDemand_kW / p_secondaryHeatingAsset.getHeatCapacity_kW());
			p_BuildingThermalAsset.v_powerFraction_fr = (p_secondaryHeatingAsset.v_powerFraction_fr * p_secondaryHeatingAsset.getHeatCapacity_kW() - v_hotwaterDemand_kW ) / p_BuildingThermalAsset.getHeatCapacity_kW();
		} else { // heat with heatpump
			//double powerDemand_kW = (v_tempSetpoint_degC - houseTemp) * ((J_EAStorageHeat)p_BuildingThermalAsset.j_ea).getHeatCapacity_JpK() / 3.6e6;
			p_primaryHeatingAsset.v_powerFraction_fr = 1;//min(1,powerDemand_kW / p_primaryHeatingAsset.j_ea.getHeatCapacity_kW());
			p_secondaryHeatingAsset.v_powerFraction_fr = min(1,v_hotwaterDemand_kW / p_secondaryHeatingAsset.getHeatCapacity_kW());
			p_BuildingThermalAsset.v_powerFraction_fr = HP.getHeatCapacity_kW() / p_BuildingThermalAsset.getHeatCapacity_kW();
			traceln("HP is cheaper");
		}
	} else { // Just supply DHW demand with gas burner
		p_secondaryHeatingAsset.v_powerFraction_fr = v_hotwaterDemand_kW / p_secondaryHeatingAsset.getHeatCapacity_kW();
		p_primaryHeatingAsset.v_powerFraction_fr = 0;
		p_BuildingThermalAsset.v_powerFraction_fr = 0;
		traceln("just DHW");
	}
	p_secondaryHeatingAsset.f_updateAllFlows( p_secondaryHeatingAsset.v_powerFraction_fr );
} else if( p_primaryHeatingAsset instanceof J_EAConversionHeatDeliverySet && ( p_secondaryHeatingAsset instanceof J_EAConversionElectricHeater || p_secondaryHeatingAsset instanceof J_EAConversionHeatPump ) && p_heatBuffer instanceof J_EAStorageHeat ) { // Heat Delivery Set and booster water/water heatpump with buffer for hotwater, )
	p_primaryHeatingAsset.v_powerFraction_fr = 0;
	p_secondaryHeatingAsset.v_powerFraction_fr = 0;
	p_heatBuffer.v_powerFraction_fr = 0;
	
	traceln("bivalent DH system with buffer operating mode");
	double v_bufferTemp_degC = p_heatBuffer.getCurrentTemperature();
	double houseTemperature_degC = p_BuildingThermalAsset.getCurrentTemperature();
	
	// buffer instead of heatpump! TODO: change to refill buffer! double secondaryDemand_kW = v_hotwaterDemand_kW;
	traceln(" thermalstoragetemp "+ p_BuildingThermalAsset.getCurrentTemperature() + ",  v_setpoint_degC " + v_tempSetpoint_degC);
	
	// 1) w/w heatpump feeds (only) the local heat buffer for tapwater when temperature is beneath buffer setpoint:
	boolean b_bufferTempBelowSetpoint = v_bufferTemp_degC < p_heatBuffer.getSetTemperature_degC();
	
	p_secondaryHeatingAsset.v_powerFraction_fr = b_bufferTempBelowSetpoint ? 1 : 0;
	p_secondaryHeatingAsset.f_updateAllFlows( p_secondaryHeatingAsset.v_powerFraction_fr );
	
	double heatSupplyToBuffer_kW = p_secondaryHeatingAsset.heatProduction_kW;
		
	// 2) supply tapwater from local heatbuffer on demand, AND take in heat from the heatpump
	p_heatBuffer.v_powerFraction_fr = ( - v_hotwaterDemand_kW + heatSupplyToBuffer_kW ) / p_heatBuffer.capacityHeat_kW;
	p_heatBuffer.f_updateAllFlows( p_heatBuffer.v_powerFraction_fr );
	
	// 3) heat the house from heat delivery set directly, and take care to add this heat load to the existing heat flow from w/w heatpump consumption!
	boolean b_houseTempBelowSetpoint = houseTemperature_degC < v_tempSetpoint_degC? true : false;
	
	p_primaryHeatingAsset.v_powerFraction_fr += b_houseTempBelowSetpoint? 1 : 0;  // maybe cap for maximum 1?
	//p_primaryHeatingAsset.f_updateAllFlows(	p_primaryHeatingAsset.v_powerFraction_fr );
	
	double heatFlowToHouse_kW = p_primaryHeatingAsset.getHeatCapacity_kW() * p_primaryHeatingAsset.v_powerFraction_fr - p_secondaryHeatingAsset.heatConsumption_kW;
	p_BuildingThermalAsset.v_powerFraction_fr = (heatFlowToHouse_kW / p_BuildingThermalAsset.capacityHeat_kW );
	//p_primaryHeatingAsset.v_powerFraction_fr = p_BuildingThermalAsset.j_ea.getCurrentTemperature() < v_tempSetpoint_degC ? 1 : 0;
	//traceln("b_primaryOperate = "+ b_primaryOperate + ", GCHouse f_heatWithHybridHeatpump: p_secondaryHeatingAsset.j_ea.capacityHeat_kW = " + p_secondaryHeatingAsset.j_ea.capacityHeat_kW + ". p_secondaryHeatingAsset.j_ea =  "+p_secondaryHeatingAsset.j_ea.toString());
	
	//boolean b_primaryOperate = houseTemperature_degC < v_tempSetpoint_degC ? true : false;
	
	
	//p_secondaryHeatingAsset.v_powerFraction_fr = secondaryDemand_kW / p_secondaryHeatingAsset.j_ea.getHeatCapacity_kW(); 
	
	
	//p_BuildingThermalAsset.v_powerFraction_fr = p_primaryHeatingAsset.j_ea.capacityHeat_kW * p_primaryHeatingAsset.v_powerFraction_fr;

	//traceln("GCHouse f_heatwithhybrid... -> p_primaryHeatingAsset.v_powerFraction_fr = " + p_primaryHeatingAsset.v_powerFraction_fr + ", p_secondaryHeatingAsset.v_powerFraction_fr = " + p_secondaryHeatingAsset.v_powerFraction_fr + ", p_BuildingThermalAsset.v_powerFraction_fr" + p_BuildingThermalAsset.v_powerFraction_fr);
	//p_secondaryHeatingAsset.f_updateAllFlows(p_secondaryHeatingAsset.v_powerFraction_fr);
	//p_primaryHeatingAsset.f_updateAllFlows(p_primaryHeatingAsset.v_powerFraction_fr);
	//p_BuildingThermalAsset.f_updateAllFlows(p_BuildingThermalAsset.v_powerFraction_fr);
	
} else {
	traceln("**** EXCEPTION ****: Unsupported combination of heatings systems in house " + p_gridConnectionID);
	p_primaryHeatingAsset.v_powerFraction_fr = 0;
	p_secondaryHeatingAsset.v_powerFraction_fr = 0;
	p_BuildingThermalAsset.v_powerFraction_fr = 0;
}

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1677664183773</Id>
					<Name><![CDATA[f_chargeOnPriceSimpler]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>910</X><Y>460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[availablePowerOnGc_kW]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[double chargingRatio = 0;
if( p_householdEV.getAvailability() && p_householdEV.chargingNeed != OL_EVChargingNeed.NONE ){	
	OL_priceLevels priceLevel = f_getPriceLevel(v_currentAveraged7kWElectricityPrice_eurpkWh);
	if ( p_householdEV.chargingNeed == OL_EVChargingNeed.LOW) { 
		if( priceLevel == OL_priceLevels.LOW ) {
			chargingRatio = 1.0;
		}
	}
	else if ( p_householdEV.chargingNeed == OL_EVChargingNeed.MEDIUM){
		if ( priceLevel == OL_priceLevels.LOW) { 
			chargingRatio = 1.0;
		}
		else if(  priceLevel == OL_priceLevels.MEDIUM ) {
			chargingRatio = p_householdEV.capacityElectric_kW / 4;
		}
	}
	// SCENARIO HIGH CHARGING NEED -> charge full power, otherwise the EV will not get full
	else {
		chargingRatio = 1.0; // Hier kan er boven de gridconnectie geladen worden. Zeker als je 11 kW laders hebt met een warmtepomp erbij
	}
}
if( p_householdEV.chargingNeed != OL_EVChargingNeed.HIGH){ //unless the charging need is high, limit the charging speed to grid connection.
	chargingRatio = min(1, min( availablePowerOnGc_kW / p_householdEV.getElectricCapacity_kW(), chargingRatio));
}
v_evChargingPowerElectric_kW += p_householdEV.ownerAsset.f_updateElectricityFlows( chargingRatio );
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1678708804201</Id>
					<Name><![CDATA[f_batteryManagementLoad]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>800</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double powerfraction_fr = 0;
if ( v_currentPowerElectricity_kW < 0 && p_batteryAsset.getCurrentStateOfCharge() < 1 && v_currentPriceLevel !=  OL_priceLevels.HIGH ){
	powerfraction_fr = 1;
}
else if( v_currentPowerElectricity_kW > v_currentLoadLowPassed_kW && p_batteryAsset.getCurrentStateOfCharge() > 0){
	powerfraction_fr = -1;
}
else if ( v_batterySOC_fr < 0.6 && v_currentPowerElectricity_kW < 1 && v_currentPriceLevel !=  OL_priceLevels.HIGH){
	powerfraction_fr = min( 1, p_batteryAsset.capacityElectric_kW / 2.5);
}
p_batteryAsset.v_powerFraction_fr = powerfraction_fr;
p_batteryAsset.f_updateAllFlows( p_batteryAsset.v_powerFraction_fr );
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1678709047802</Id>
					<Name><![CDATA[f_batteryManagementPrice_overwrite]]></Name>
					<X>800</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[currentBatteryStateOfCharge]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[if (p_batteryAsset.getStorageCapacity_kWh() != 0){
	//double willingnessToPayDefault_eurpkWh = 0.3;
	double chargeDischarge_offset_eurpkWh = 0.0;
	double WTPfeedbackGain_eurpSOC = 0.25; // When SOC-error is 100%, adjust WTP price by 1 eurpkWh
	double priceGain = 2; // How strongly to ramp up power with price-delta's
	//double congestionTariffCoop_eurpkWh = -(((ConnectionOwner)p_ownerActor).p_CoopParent.v_electricitySurplus_kW + v_previousPowerElectricity_kW)/1200*0.1;
	
	double chargeSetpoint_kW = 0;
	
	if(l_ownerActor.getConnectedAgent() instanceof ConnectionOwner) {
		ConnectionOwner ownerActor = (ConnectionOwner)l_ownerActor.getConnectedAgent();
		//traceln("Initial Mappings are: " + ((ConnectionOwner)p_ownerActor).v_currentPriceBands);
		double currentElectricityPriceCharge_eurpkWh = ownerActor.f_getElectricityPrice(v_currentPowerElectricity_kW + 10.0); // query price at 100kW charging
		double currentElectricityPriceDischarge_eurpkWh = ownerActor.f_getElectricityPrice(v_currentPowerElectricity_kW - 10.0); // query price at -100kW charging
		//double lowPassFraction = min(1,1*1.2*energyModel.p_timeStep_h); // smaller value results in more filtering
		//v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( currentElectricityPriceCharge_eurpkWh - v_electricityPriceLowPassed_eurpkWh );
		
		//double currentPricePowerBandPos_kW = ownerActor.v_priceBandsDelivery.ceilingKey(10.0); // Up to what power does this price hold?
		//double currentPricePowerBandNeg_kW = ownerActor.v_priceBandsDelivery.floorKey(10.0); // Down to what power does this price hold?
		
		double SOC_setp_fr = 0.5;
		//traceln("Current price is " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, between " + currentPricePowerBandNeg_kW + " kW and " + currentPricePowerBandPos_kW + " kW");
		if (!c_vehicleAssets.isEmpty()) {
			SOC_setp_fr = 0.5 + 0.25 * Math.sin(2*Math.PI*(time(HOUR)-12)/24); // Sinusoidal setpoint: aim for low SOC at 6:00h, high SOC at 18:00h. 
		} else if (p_gridConnectionCategory == OL_GridConnectionCategory.WINDFARM) {
			SOC_setp_fr = 0.9 - 0.8 * energyModel.v_WindYieldForecast_fr;
			//traceln("Forecast-based SOC setpoint: " + SOC_setp_fr + " %");
		}
		double SOC_deficit_fr = SOC_setp_fr - currentBatteryStateOfCharge; // How far away from desired SOC? SOC too LOW is a POSITIVE deficit
		
		// Define WTP price for charging and discharging!
		double WTP_charge_eurpkWh = v_electricityPriceLowPassed_eurpkWh - chargeDischarge_offset_eurpkWh + SOC_deficit_fr * WTPfeedbackGain_eurpSOC;
		double WTP_discharge_eurpkWh = v_electricityPriceLowPassed_eurpkWh + chargeDischarge_offset_eurpkWh + SOC_deficit_fr * WTPfeedbackGain_eurpSOC;
		
		//traceln("WTP charge is " + WTP_charge_eurpkWh + " eurpkWh, discharge is " + WTP_discharge_eurpkWh + " eurpkWh");
		// Choose charging power based on prices and desired SOC level
		if ( WTP_charge_eurpkWh > currentElectricityPriceCharge_eurpkWh ) { // if willingness to pay higher than current electricity price
			//chargeSetpoint_kW = min(p_batteryAsset.getElectricCapacity_kW()*(WTP_charge_eurpkWh - currentElectricityPriceCharge_eurpkWh)*priceGain, currentPricePowerBandPos_kW)  ;
			chargeSetpoint_kW = p_batteryAsset.getElectricCapacity_kW()*(WTP_charge_eurpkWh - currentElectricityPriceCharge_eurpkWh)*priceGain;
			//traceln("WTP charge " + WTP_charge_eurpkWh + " eurpkWh is high than electricity price " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, so charge!") ;
		} else if (WTP_discharge_eurpkWh < currentElectricityPriceDischarge_eurpkWh) {
			//chargeSetpoint_kW = -min(p_batteryAsset.getElectricCapacity_kW()*(currentElectricityPriceDischarge_eurpkWh - WTP_discharge_eurpkWh)*priceGain, currentPricePowerBandPos_kW);
			chargeSetpoint_kW = -p_batteryAsset.getElectricCapacity_kW()*(currentElectricityPriceDischarge_eurpkWh - WTP_discharge_eurpkWh)*priceGain;
			//traceln("WTP discharge " + WTP_discharge_eurpkWh + " eurpkWh is lower than electricity price " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, so discharge!") ;
		}
		
		// limit charging power to available connection capacity
		boolean b_stayWithinConnectionLimits = true;
		if( b_stayWithinConnectionLimits ) {	
	
			double electricitySurplus_kW = - v_currentPowerElectricity_kW; 
			
			double availableChargePower_kW = electricitySurplus_kW + v_allowedCapacity_kW; // Max battery charging power within grid capacity
			double availableDischargePower_kW = electricitySurplus_kW - v_allowedCapacity_kW; // Max discharging power within grid capacity
			chargeSetpoint_kW = min(max(chargeSetpoint_kW, availableDischargePower_kW),availableChargePower_kW); // Don't allow too much (dis)charging!
		}			
	
		p_batteryAsset.v_powerFraction_fr = max(-1,min(1, chargeSetpoint_kW / p_batteryAsset.getElectricCapacity_kW())); // Convert to powerFraction and limit power
	}
	p_batteryAsset.f_updateAllFlows( p_batteryAsset.v_powerFraction_fr );
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1693300820997</Id>
					<Name><![CDATA[f_connectTo_J_EA_House]]></Name>
					<X>970</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[j_ea]]></Name>
						<Type><![CDATA[J_EA]]></Type>
					</Parameter>
					<Body><![CDATA[if (j_ea instanceof J_EAConversion) {
	if (j_ea.energyAssetType == OL_EnergyAssetType.GAS_BURNER || j_ea instanceof J_EAConversionHeatPump || j_ea instanceof J_EAConversionHeatDeliverySet || j_ea instanceof J_EAConversionElectricHeater ) {
		switch (p_heatingType) {
        	case HEATPUMP_AIR:
        		p_primaryHeatingAsset = (J_EAConversion)j_ea;
        	break;
        	case HEATPUMP_GASPEAK:
				p_primaryHeatingAsset = p_primaryHeatingAsset == null && j_ea instanceof J_EAConversionHeatPump? (J_EAConversion)j_ea : p_primaryHeatingAsset;
	            p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && j_ea instanceof J_EAConversionGasBurner? (J_EAConversion)j_ea : p_secondaryHeatingAsset;
            break;
            case HEATPUMP_BOILERPEAK:    // ambigue wat we met boiler bedoelen; eboiler of grootschalige DH_boiler = gasburner!
                p_primaryHeatingAsset = p_primaryHeatingAsset == null && j_ea instanceof J_EAConversionHeatPump? (J_EAConversion)j_ea : p_primaryHeatingAsset;
                p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && j_ea instanceof J_EAConversionGasBurner? (J_EAConversion)j_ea : p_secondaryHeatingAsset;
                p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && j_ea instanceof J_EAConversionElectricHeater? (J_EAConversion)j_ea : p_secondaryHeatingAsset;                                          
            break;
            case GASBURNER:
                p_primaryHeatingAsset = p_primaryHeatingAsset == null && j_ea instanceof J_EAConversionGasBurner? (J_EAConversion)j_ea : p_primaryHeatingAsset;
                p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && j_ea instanceof J_EAConversionGasCHP? (J_EAConversion)j_ea : p_secondaryHeatingAsset;
            break;
            case DISTRICTHEAT:
                if( j_ea instanceof J_EAConversionHeatDeliverySet ){
					p_primaryHeatingAsset = (J_EAConversion)j_ea;
				}
				else {
					p_secondaryHeatingAsset = (J_EAConversion)j_ea;
					// set water/water heatpump source energy-asset
					if( j_ea instanceof J_EAConversionHeatPump && ((J_EAConversionHeatPump)j_ea).getAmbientTempType().equals("WATER") && p_primaryHeatingAsset instanceof J_EAConversionHeatDeliverySet ) {
						((J_EAConversionHeatPump)j_ea).p_linkedSourceEnergyAsset = p_primaryHeatingAsset;
						j_ea.updateAmbientTemperature( ((J_EAConversionHeatPump)j_ea).p_linkedSourceEnergyAsset.getCurrentTemperature() );
					}
				}	
            break;
            default: throw new IllegalStateException("Invalid DistrictHeating HeatingType: " + p_heatingType);
      	}
    }
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1696923950404</Id>
					<Name><![CDATA[f_setAnnualEnergyDemand]]></Name>
					<X>970</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[traceln("Placeholder function f_setAnnualEnergyDemand called! Nothing will happen.");]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1696924006982</Id>
					<Name><![CDATA[f_setEnergyLabel]]></Name>
					<X>970</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[traceln("Placeholder function f_setEnergyLabel called! Nothing will happen.");]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1702369252216</Id>
					<Name><![CDATA[setThermostaat]]></Name>
					<X>1730</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( getHourOfDay() > v_heatingOn_time && getHourOfDay() < v_heatingOff_time){
	v_tempSetpoint_degC = v_dayTempSetpoint_degC ; 
}
else {
	v_tempSetpoint_degC = v_nightTempSetpoint_degC;
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[boolean]]></ReturnType>
					<Id>1702369294416</Id>
					<Name><![CDATA[f_calcCheapestHeatingPrice]]></Name>
					<X>1750</X><Y>120</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double HP_COP = ((J_EAConversionHeatPump)p_primaryHeatingAsset).getCOP();
boolean isGasCheaper = false;

if(l_ownerActor.getConnectedAgent() instanceof ConnectionOwner) {
	v_gasHeatingCost_eurpkWh_TEMPORARY = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).f_getMethanePrice();
	v_eHeatingCost_eurpkWh_TEMPORARY = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).f_getAveragedElectricityPrice( v_currentPowerElectricity_kW, p_primaryHeatingAsset.getElectricCapacity_kW() ) / HP_COP;
	isGasCheaper = v_gasHeatingCost_eurpkWh_TEMPORARY < v_eHeatingCost_eurpkWh_TEMPORARY ? true:false;
}	

return isGasCheaper;]]></Body>
				</Function>
			</Functions>
			<AnalysisData>
    			<DataSet>
					<Id>1674899624978</Id>
					<Name><![CDATA[d_heatpumpDailyConsumption]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>2170</X><Y>50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<AutoUpdate>true</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1674979200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[DAY]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[DAY]]></Unit>
					</RecurrenceCode>
					<FreezeXAxis>true</FreezeXAxis>
					<VerticalAxisExpression><![CDATA[v_dailyHPConsumption_kWh]]></VerticalAxisExpression>
					<SamplesToKeep>100</SamplesToKeep>
				</DataSet>
			</AnalysisData>
			<AgentLinks>
				<AgentLink>
					<Id>1663772408662</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1663772679600</Id>
					<Name><![CDATA[energyModel]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1663772408666</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
    			<TimePlot>
					<Id>1674899851745</Id>
					<Name><![CDATA[HeatpumpPlot]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1970</X><Y>110</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1674979200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>490</Width>
					<Height>260</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>410</Width>
						<Height>170</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>30</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>DAY</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[Heatpump daily consumption kWh ]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[d_heatpumpDailyConsumption]]></Expression>
					<Color>-2987746</Color>
					<Expression2><![CDATA[0]]></Expression2>
					<Expression2Flag>false</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>25</SamplesToKeep>
					<TimeWindowExpression><![CDATA[25]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>dd_MM</LabelFormat>
    			</TimePlot>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1663773810345</Id>
			<Name><![CDATA[GCDistrictHeating]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_operateFlexAssets(){
	f_operateAssetsDistrictHeating();
}

@Override
public void f_connectToJ_EA(J_EA j_ea){
	f_connectToJ_EA_default(j_ea);
	f_connectToJ_EA_DistrictHeating(j_ea);
}]]></AdditionalClassCode>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_BuildingThermalAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyAssetList]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoStart_h]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoEnd_h]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_curtailer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatBuffer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gasBuffer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_cookingTracker]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyLabel]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_DHWAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_GISbuilding]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_longitude]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_latitude]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_company_name]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_huisnummer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_openbareR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_company_connection_id]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyProfile]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_GISPoint]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_woonplaats]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_huisletter]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_toevoeging]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_postcode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_pandIdentiteit]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1663773810343</Id>
				<Name><![CDATA[1663773810343]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1663773810341</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1663773810344</CurrentLevel>
			<ConnectionsId>1663773810340</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1664534447977</Id>
					<Name><![CDATA[b_incentiveNationalPrice]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>660</X><Y>260</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664534582189</Id>
					<Name><![CDATA[b_incentiveGridNodePrice]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>660</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1664534594839</Id>
					<Name><![CDATA[b_incentiveCoopPrice]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>660</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[false]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1666196152392</Id>
					<Name><![CDATA[v_bufferTemp_degC]]></Name>
					<X>50</X><Y>440</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1677512038554</Id>
					<Name><![CDATA[b_monovalentSystem]]></Name>
					<X>50</X><Y>300</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1677512061721</Id>
					<Name><![CDATA[b_bivalentSystem]]></Name>
					<X>50</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1677512068434</Id>
					<Name><![CDATA[b_validLocalBuffer]]></Name>
					<X>50</X><Y>340</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1677512088967</Id>
					<Name><![CDATA[b_storageBelowSetpoint]]></Name>
					<X>50</X><Y>360</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1677512107241</Id>
					<Name><![CDATA[b_storageBelowMinimum]]></Name>
					<X>50</X><Y>380</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1677512121917</Id>
					<Name><![CDATA[b_storageBelowNetworkTemp]]></Name>
					<X>50</X><Y>400</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1677512160570</Id>
					<Name><![CDATA[b_residualHeatLTSource]]></Name>
					<X>50</X><Y>420</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[boolean]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1678448870527</Id>
					<Name><![CDATA[v_chpElectricityPrice]]></Name>
					<X>1120</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1677500555195</Id>
					<Name><![CDATA[p_residualHeatLTSource]]></Name>
					<X>480</X><Y>410</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[J_EAProduction]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[null]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1677500555193</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1688462266916</Id>
					<Name><![CDATA[c_electricityPriceList]]></Name>
					<X>1120</X><Y>490</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[Double]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1663773953770</Id>
					<Name><![CDATA[f_operateAssetsDistrictHeating]]></Name>
					<X>800</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// District heating system, heating power based on temperature of buffer of heating system. (big or small) Heat transfer from DH_GridConnection to heat NetNode is based on temperature difference between heating-buffer and water in heating network
//traceln("Operating District Heating agent = "+ this + " -> DH primary heating asset = " + p_primaryHeatingAsset.j_ea.ownerAsset.toString());
//traceln("Operating District Heating agent = "+ this + " -> DH secondary heating asset = " + p_secondaryHeatingAsset.j_ea.ownerAsset.toString());

double tempSetpoint_degC = 0;
double minBufferTemp_degC = 0;
double maxTempBuffer_degC = 0;
double storageTemp_degC = 0;
double DHnetworkTemp_degC = 0;

double electricitySurplussCoop_kW = 0;
double totalHeatingPower_kWth = 0;

v_currentElectricityPriceConsumption_eurpkWh = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).f_getElectricityPrice( v_currentPowerElectricity_kW );

if (l_ownerActor.getConnectedAgent() instanceof EnergyCoop){
	electricitySurplussCoop_kW = ((EnergyCoop)l_ownerActor.getConnectedAgent()).v_electricitySurplus_kW + v_previousPowerElectricity_kW; // From last timestep! So compensate for own electric power
	//traceln("DH function! Electricity surpluss in Coop: " + electricitySurplussCoop_kW + ", own power " + v_previousPowerElectricity_kW,1 );
}
	
//		((J_EAConversionHeatPump)e.j_ea).updateParameters(main.p_undergroundTemperature_degC, storageTemp_degC); // update heatpump temp levels!

tempSetpoint_degC = p_BuildingThermalAsset.getSetTemperature_degC();
minBufferTemp_degC = p_BuildingThermalAsset.getMinTemperature_degC();
maxTempBuffer_degC = p_BuildingThermalAsset.getMaxTemperature_degC();
storageTemp_degC = p_BuildingThermalAsset.getCurrentTemperature();

b_storageBelowSetpoint = storageTemp_degC < tempSetpoint_degC;
b_storageBelowMinimum = storageTemp_degC < minBufferTemp_degC;
b_storageBelowNetworkTemp = storageTemp_degC < DHnetworkTemp_degC;


// traceln("network temperature: "+DHnetworkTemp_degC+", bivalent system? :"+b_bivalentSystem+", storage current Temp = "+storageTemp_degC+", storage minTemp = "+minBufferTemp_degC+", storage below setpoint ? : "+b_storageBelowSetpoint + ", storage below minimumTemp? "+b_storageBelowMinimum+", storage below network temp: "+b_storageBelowNetworkTemp);

DHnetworkTemp_degC = l_parentNodeHeat.getConnectedAgent().p_transportBuffer.getCurrentTemperature();
v_bufferTemp_degC = storageTemp_degC;
double heatTransferToNetworkCoefficient_kWpK = 100;
//traceln("storageTemp_degC: " + storageTemp_degC + ", DHnetworkTemp_degC: " + DHnetworkTemp_degC);
double heatTransferToNetwork_kW = max( storageTemp_degC - DHnetworkTemp_degC, 0 ) * heatTransferToNetworkCoefficient_kWpK;
//traceln("storageTemp_degC: "+storageTemp_degC+", network current temp_degC: " + DHnetworkTemp_degC + ", heatTransferToNetwork_kW: "+heatTransferToNetwork_kW);

boolean b_LTresidualHeatAssetTempAboveTargetTemp = b_residualHeatLTSource && p_residualHeatLTSource.getCurrentTemperature() > storageTemp_degC? true : false;
boolean b_primarySourceTempAboveTargetTemp = p_primaryHeatingAsset.getCurrentTemperature() > storageTemp_degC? true : false;
boolean b_secondarySourceTempAboveTargetTemp = false;  // set later if present but be available outside if-context

if( b_monovalentSystem ) {
	//traceln("monovalent DHsystem logic");
	p_primaryHeatingAsset.v_powerFraction_fr = b_storageBelowSetpoint && b_primarySourceTempAboveTargetTemp? 1 : 0;
	
	totalHeatingPower_kWth = b_primarySourceTempAboveTargetTemp? p_primaryHeatingAsset.v_powerFraction_fr * p_primaryHeatingAsset.getHeatCapacity_kW() : 0; // only model net heat flow when temperature levels allow this
	//traceln("totalHeatingPower " +totalHeatingPower_kWth);
	//traceln("DHGRC storage temp: "+storageTemp_degC+", LT-residual temp: "+p_residualHeatLTSource.j_ea.getCurrentTemperature()+", primary source temp = "+ p_primaryHeatingAsset.j_ea.getCurrentTemperature()+", primary source above target temp: "+b_primarySourceTempAboveTargetTemp);	
}
else if( b_bivalentSystem ) {
	//traceln("bivalent DHsystem logic");
	p_primaryHeatingAsset.v_powerFraction_fr = 0;
	p_secondaryHeatingAsset.v_powerFraction_fr = 0;
	/*if (p_smartHeatingEnabled ) {
		f_operateSmartHeating();
	}
	else{*/
	b_secondarySourceTempAboveTargetTemp = p_secondaryHeatingAsset.getCurrentTemperature() > storageTemp_degC? true : false;

	//double maxPrimaryPower_kW = b_primarySourceTempAboveTargetTemp? p_primaryHeatingAsset.j_ea.getHeatCapacity_kW() : 0; // only count effective power when hot enough to actually heat.

	p_primaryHeatingAsset.v_powerFraction_fr = b_primarySourceTempAboveTargetTemp && b_storageBelowSetpoint? 1 : 0;
	p_secondaryHeatingAsset.v_powerFraction_fr = b_secondarySourceTempAboveTargetTemp && (b_storageBelowMinimum || b_storageBelowNetworkTemp)? 1 : 0;
	
	totalHeatingPower_kWth = p_primaryHeatingAsset.v_powerFraction_fr * p_primaryHeatingAsset.getHeatCapacity_kW() +
		p_secondaryHeatingAsset.v_powerFraction_fr * p_secondaryHeatingAsset.getHeatCapacity_kW() ;// + p_backupHeatingAsset.v_powerFraction_fr * p_backupHeatingAsset.j_ea.getHeatCapacity_kW();
		//traceln("DHGRC storage temp: "+storageTemp_degC+", LT-residual temp: "+p_residualHeatLTSource.j_ea.getCurrentTemperature()+", primary source temp = "+ p_primaryHeatingAsset.j_ea.getCurrentTemperature()+", primary source above target temp: "+b_primarySourceTempAboveTargetTemp+", second temp: "+p_secondaryHeatingAsset.j_ea.getCurrentTemperature()+", second above target temp: "+b_secondarySourceTempAboveTargetTemp);	
}

// Block (passive energy flows if too cold
//heatTransferToNetwork_kW = b_storageBelowNetworkTemp? 0 : heatTransferToNetwork_kW;

p_primaryHeatingAsset.f_updateAllFlows( p_primaryHeatingAsset.v_powerFraction_fr );

if( b_bivalentSystem ) {
	p_secondaryHeatingAsset.f_updateAllFlows(p_secondaryHeatingAsset.v_powerFraction_fr);
}
if( b_validLocalBuffer ) {
	//traceln("Thermal storage asset heatCapacity: " + p_BuildingThermalAsset.j_ea.getHeatCapacity_kW());
	//traceln("Total heating power: " +totalHeatingPower_kWth);
	//traceln("heatTransferToNetwork_kW: " + heatTransferToNetwork_kW);
	p_BuildingThermalAsset.v_powerFraction_fr = ( totalHeatingPower_kWth - heatTransferToNetwork_kW ) / p_BuildingThermalAsset.getHeatCapacity_kW();
	p_BuildingThermalAsset.f_updateAllFlows(p_BuildingThermalAsset.v_powerFraction_fr);
}

//traceln("District heating " + p_parentNodeHeatID + " storage temperature " + storageTemp_degC + " degC" + ", district heating network temperature " + p_parentNodeHeat.p_transportBuffer.getCurrentTemperature() + " deg C" );

for( J_EAConversion v : c_conversionAssets ) {	
	//v_currentPowerElectricity_kW += v.electricityConsumption_kW - v.electricityProduction_kW;
	v_conversionPowerElectric_kW += v.electricityConsumption_kW - v.electricityProduction_kW;
	//v_currentPowerMethane_kW += v.methaneConsumption_kW - v.methaneProduction_kW;
	//v_currentPowerHydrogen_kW += v.hydrogenConsumption_kW - v.hydrogenProduction_kW;
	//v_currentPowerHeat_kW += v.heatConsumption_kW - v.heatProduction_kW;
	//v_currentPowerDiesel_kW += v.dieselConsumption_kW;
}


for( J_EA e : c_productionAssets ){
	e.f_updateAllFlows( e.v_powerFraction_fr );
	//v_currentPowerHeat_kW += e.heatConsumption_kW - e.heatProduction_kW;
}


//v_currentPowerHeat_kW += p_BuildingThermalAsset.heatConsumption_kW - p_BuildingThermalAsset.heatProduction_kW;

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666266296956</Id>
					<Name><![CDATA[f_connectToChildDistrictHeating]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>770</X><Y>-80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[//assetLinks.connectTo(ConnectingChildNode);
EnergyAsset EA = (EnergyAsset) ConnectingChildNode;
c_energyAssets.add(EA);

if (EA.j_ea instanceof J_EAConsumption) {
	c_consumptionAssets.add(EA);
} else if (EA.j_ea instanceof J_EAProduction ) {
	c_productionAssets.add(EA);
	if( EA.p_energyAssetType == OL_EnergyAssetType.RESIDUALHEATLT) {
		// handle residual heat not as a direct heat source!
		p_residualHeatLTSource = EA;
	}
	else {
		c_productionAssets.add(EA);
		
	}
		
} else if (EA.j_ea instanceof J_EAStorage ) {
	c_storageAssets.add(EA);
	if (EA.j_ea instanceof J_EAStorageHeat) {
		p_BuildingThermalAsset = EA;
	}
} else if (EA.j_ea instanceof J_EAConversion) {
	c_conversionAssets.add((J_EAConversion)EA.j_ea );
	
	switch (p_heatingType) {
		case HEATPUMP_GASPEAK:
			p_primaryHeatingAsset = p_primaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionHeatPump? EA : p_primaryHeatingAsset;
			p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionGasBurner? EA : p_secondaryHeatingAsset;
		break;
		case GASFIRED:
			p_primaryHeatingAsset = p_primaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionGasBurner? EA : p_primaryHeatingAsset;
			p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionGasBurner? EA : p_secondaryHeatingAsset;
		break;
		case HYDROGENFIRED:
			p_primaryHeatingAsset = p_primaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionHydrogenBurner? EA : p_primaryHeatingAsset;
			p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionHydrogenBurner? EA : p_secondaryHeatingAsset;
		break;
		case HEATPUMP_BOILERPEAK:    // ambigue wat we met boiler bedoelen; eboiler of grootschalige DH_boiler = gasburner!
			p_primaryHeatingAsset = p_primaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionHeatPump? EA : p_primaryHeatingAsset;
			p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionGasBurner? EA : p_secondaryHeatingAsset;
		break;
		case GASFIRED_CHPPEAK:
			p_primaryHeatingAsset = p_primaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionGasCHP? EA : p_primaryHeatingAsset;
			p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionGasBurner? EA : p_secondaryHeatingAsset;
		break;
		case DISTRICT_EBOILER_CHP:
			p_primaryHeatingAsset = p_primaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionElectricHeater? EA : p_primaryHeatingAsset;
			p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionGasCHP? EA : p_secondaryHeatingAsset;
		break;
		
		case LT_RESIDUAL_HEATPUMP_GASPEAK:
			p_primaryHeatingAsset = p_primaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionHeatPump? EA : p_primaryHeatingAsset;
			p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && EA.j_ea instanceof J_EAConversionGasBurner? EA : p_secondaryHeatingAsset;
		break;
		default:
			throw new IllegalStateException("Invalid DistrictHeating HeatingType: " + p_heatingType);
	}
	
		
	//if (EA.j_ea instanceof J_EAConversionGasBurner || EA.j_ea instanceof J_EAConversionHeatPump || EA.j_ea instanceof J_EAConversionHeatDeliverySet || EA.j_ea instanceof J_EAConversionElectricHeater || EA.j_ea instanceof J_EAConversionGasCHP ) {
	//	if (p_primaryHeatingAsset == null) {
	//		p_primaryHeatingAsset = EA;
	//	} else if (p_secondaryHeatingAsset == null) {
	//		p_secondaryHeatingAsset = EA;
	//	} else {
	//		traceln("District Heating gridconnection already has two heating systems!");
	//	}
	//	//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
	if( ((J_EAConversion)EA.j_ea) instanceof J_EAConversionHeatPump && ((J_EAConversionHeatPump)EA.j_ea).getAmbientTempType().equals("WATER") ) {
		EA.p_linkedSourceEnergyAsset = p_residualHeatLTSource;
		((J_EAConversionHeatPump)EA.j_ea).setSourceAssetHeatPower( EA.p_linkedSourceEnergyAsset.j_ea.capacityHeat_kW );
	}
//}
} else {
	traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingChildNode.getId() + " is of unknown type or null! ");
}



/*
// create a local list of energyAssets connected to its netConnection Agent for easy reference
List<EnergyAsset> connectedEnergyAssets = subConnections.getConnections();

int numberOfEnergyAssets = connectedEnergyAssets.size();
for( int i = 0; i < numberOfEnergyAssets; i++ ) {
	if( connectedEnergyAssets.get(i) instanceof EnergyAsset ) {
		c_connectedEnergyAssets.add(connectedEnergyAssets.get(i));

	}
}

List<EnergyAsset> consumptionAssets = filter(c_connectedEnergyAssets, b -> b.j_ea instanceof J_EAConsumption);
List<EnergyAsset> productionAssets = filter(c_connectedEnergyAssets, b -> b.j_ea instanceof J_EAProduction);
List<EnergyAsset> storageAssets = filter(c_connectedEnergyAssets, b -> b.j_ea instanceof J_EAStorage);
List<EnergyAsset> conversionAssets = filter(c_connectedEnergyAssets, b -> b.j_ea instanceof J_EAConversion);
traceln("NetConnection connecting to " + numberOfEnergyAssets + " EnergyAssets");
*/
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1677511998575</Id>
					<Name><![CDATA[f_setConfigurationBooleans]]></Name>
					<X>50</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[// one time setting of booleans marking system configuration for use in transparant logic switching
b_monovalentSystem = p_primaryHeatingAsset instanceof J_EA & p_secondaryHeatingAsset == null? true : false;
b_bivalentSystem = p_primaryHeatingAsset instanceof J_EA & p_secondaryHeatingAsset != null? true : false;
b_residualHeatLTSource = p_residualHeatLTSource instanceof J_EAProduction? true : false;

// Check if buffer is present and has physically correct parameters
if (p_BuildingThermalAsset instanceof J_EABuilding) {
	if(p_BuildingThermalAsset.getHeatCapacity_kW() > 0 & p_BuildingThermalAsset.getHeatCapacity_JpK()> 0 ) {
		b_validLocalBuffer = true;
	}
}

// first update parameters of any heatpumps if present // [GH] This logic should only be run once, not every timestep! updateAmbientTemp should also be triggered from main.
for(J_EA e : c_energyAssets) {
	if(e instanceof J_EAConversionHeatPump) {
		if ( ((J_EAConversionHeatPump)e).getAmbientTempType().equals("WATER") && b_residualHeatLTSource ) {
			//traceln("water ambientTempType for LTresidual heat with heatpump check!");
			((J_EAConversionHeatPump)e).f_setLinkedVariable(energyModel, "WATER", ((J_EAConversionHeatPump)e).p_linkedSourceEnergyAsset );
			e.updateAmbientTemperature( ((J_EAConversionHeatPump)e).p_baseTemperatureReference );
		}
	}
}	]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1678448031698</Id>
					<Name><![CDATA[f_operateSmartHeating]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>800</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_chpElectricityPrice = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).f_getAveragedElectricityPrice(v_currentPowerElectricity_kW, - p_secondaryHeatingAsset.capacityElectric_kW   );
v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( v_chpElectricityPrice - v_electricityPriceLowPassed_eurpkWh );
//v_currentPriceLevel = f_getPriceLevel( v_currentElectricityPriceConsumption_eurpkWh );

c_electricityPriceList.add( v_chpElectricityPrice );
if (c_electricityPriceList.size() > 30) {
    c_electricityPriceList.remove(0);
}

double runningAverage = c_electricityPriceList.stream()
        .mapToDouble(Double::doubleValue)
        .average()
        .orElse(0.0);

double variance = c_electricityPriceList.stream()
        .mapToDouble(value -> Math.pow(value - runningAverage, 2))
        .average()
        .orElse(0.0);


double standardDeviation = Math.sqrt(variance);
double currentDeviation = Math.abs(v_chpElectricityPrice - runningAverage) / standardDeviation;

GridNode superNodeElectric = l_parentNodeElectric.getConnectedAgent().superConnection.getConnectedAgent();
switch (p_heatingType) {
	case GASFIRED_CHPPEAK:
		if( v_chpElectricityPrice > (v_electricityPriceLowPassed_eurpkWh + p_pricelevelHighDifFromAvg_eurpkWh) && p_BuildingThermalAsset.getCurrentTemperature() < p_BuildingThermalAsset.getMaxTemperature_degC() ){
			p_secondaryHeatingAsset.v_powerFraction_fr = 1;
		}
		if ( p_BuildingThermalAsset.getCurrentTemperature() <= p_BuildingThermalAsset.getMinTemperature_degC() ){
 			p_primaryHeatingAsset.v_powerFraction_fr = 1; //max(0, (p_primaryHeatingAsset.j_ea.capacityHeat_kW - p_secondaryHeatingAsset.j_ea.capacityHeat_kW * p_secondaryHeatingAsset.v_powerFraction_fr) / p_primaryHeatingAsset.j_ea.capacityHeat_kW );
		}
	break;
	case DISTRICT_EBOILER_CHP:
		if ( p_BuildingThermalAsset.getCurrentTemperature() <= p_BuildingThermalAsset.getMinTemperature_degC() ){
 			//als minimum temp is bereikt, allebei aan
 			traceln("beide aan");
 			p_primaryHeatingAsset.v_powerFraction_fr = 1; 
			p_secondaryHeatingAsset.v_powerFraction_fr = 1;	
		}
		//else if ( superNodeElectric.v_currentLoadElectricity_kW < 0 && p_BuildingThermalAsset.j_ea.getCurrentTemperature() < p_BuildingThermalAsset.j_ea.getMaxTemperature_degC() ){
		else if( v_chpElectricityPrice < ( runningAverage - 3.0 * standardDeviation ) && p_BuildingThermalAsset.getCurrentTemperature() < p_BuildingThermalAsset.getMaxTemperature_degC() - 1 ){
			p_primaryHeatingAsset.v_powerFraction_fr = 0.5;
		}
		else if( v_chpElectricityPrice < ( runningAverage - 1.0 * standardDeviation ) && p_BuildingThermalAsset.getCurrentTemperature() < p_BuildingThermalAsset.getMaxTemperature_degC() - 1 ){
			p_primaryHeatingAsset.v_powerFraction_fr = 0.25;
		}
		else if( v_chpElectricityPrice > ( runningAverage + 4.0 * standardDeviation ) && p_BuildingThermalAsset.getCurrentTemperature() < p_BuildingThermalAsset.getMaxTemperature_degC() - 1 ){
			p_secondaryHeatingAsset.v_powerFraction_fr = 0.5;
		}
		else if( v_chpElectricityPrice > ( runningAverage + 3.0 * standardDeviation ) && p_BuildingThermalAsset.getCurrentTemperature() < p_BuildingThermalAsset.getMaxTemperature_degC() - 1 ){
			p_secondaryHeatingAsset.v_powerFraction_fr = 0.25;
		}		
		else if ( p_BuildingThermalAsset.getCurrentTemperature() < p_BuildingThermalAsset.getSetTemperature_degC() ) {
			p_primaryHeatingAsset.v_powerFraction_fr = 0.5;
			p_secondaryHeatingAsset.v_powerFraction_fr = 0.5;
		}
	break;
	default:
		traceln("ERROR DISTRICT heating wants to use smart assets but does not have correct heating assets");
	break;
}
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1693302929918</Id>
					<Name><![CDATA[f_connectToJ_EA_DistrictHeating]]></Name>
					<X>950</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[j_ea]]></Name>
						<Type><![CDATA[J_EA]]></Type>
					</Parameter>
					<Body><![CDATA[if (j_ea instanceof J_EAProduction ) {
	//c_productionAssets.add(EA);
	if( j_ea.energyAssetType == OL_EnergyAssetType.RESIDUALHEATLT) {
		// handle residual heat not as a direct heat source!
		p_residualHeatLTSource = (J_EAProduction)j_ea;
	}
} else if (j_ea instanceof J_EAConversion) {	
	switch (p_heatingType) {
		case HEATPUMP_GASPEAK:
			p_primaryHeatingAsset = p_primaryHeatingAsset == null && j_ea instanceof J_EAConversionHeatPump? (J_EAConversion)j_ea : p_primaryHeatingAsset;
			p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && j_ea instanceof J_EAConversionGasBurner? (J_EAConversion)j_ea : p_secondaryHeatingAsset;
		break;
		case GASFIRED:
			p_primaryHeatingAsset = p_primaryHeatingAsset == null && j_ea instanceof J_EAConversionGasBurner? (J_EAConversion)j_ea : p_primaryHeatingAsset;
			p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && j_ea instanceof J_EAConversionGasBurner? (J_EAConversion)j_ea : p_secondaryHeatingAsset;
		break;
		case HYDROGENFIRED:
			p_primaryHeatingAsset = p_primaryHeatingAsset == null && j_ea instanceof J_EAConversionHydrogenBurner? (J_EAConversion)j_ea : p_primaryHeatingAsset;
			p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && j_ea instanceof J_EAConversionHydrogenBurner? (J_EAConversion)j_ea : p_secondaryHeatingAsset;
		break;
		case HEATPUMP_BOILERPEAK:    // ambigue wat we met boiler bedoelen; eboiler of grootschalige DH_boiler = gasburner!
			p_primaryHeatingAsset = p_primaryHeatingAsset == null && j_ea instanceof J_EAConversionHeatPump? (J_EAConversion)j_ea : p_primaryHeatingAsset;
			p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && j_ea instanceof J_EAConversionGasBurner? (J_EAConversion)j_ea : p_secondaryHeatingAsset;
		break;
		case GASFIRED_CHPPEAK:
			p_primaryHeatingAsset = p_primaryHeatingAsset == null && j_ea instanceof J_EAConversionGasCHP? (J_EAConversion)j_ea : p_primaryHeatingAsset;
			p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && j_ea instanceof J_EAConversionGasBurner? (J_EAConversion)j_ea : p_secondaryHeatingAsset;
		break;
		case DISTRICT_EBOILER_CHP:
			p_primaryHeatingAsset = p_primaryHeatingAsset == null && j_ea instanceof J_EAConversionElectricHeater? (J_EAConversion)j_ea : p_primaryHeatingAsset;
			p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && j_ea instanceof J_EAConversionGasCHP? (J_EAConversion)j_ea : p_secondaryHeatingAsset;
		break;
		
		case LT_RESIDUAL_HEATPUMP_GASPEAK:
			p_primaryHeatingAsset = p_primaryHeatingAsset == null && j_ea instanceof J_EAConversionHeatPump? (J_EAConversion)j_ea : p_primaryHeatingAsset;
			p_secondaryHeatingAsset = p_secondaryHeatingAsset == null && j_ea instanceof J_EAConversionGasBurner? (J_EAConversion)j_ea : p_secondaryHeatingAsset;
		break;
		default:
			throw new IllegalStateException("Invalid DistrictHeating HeatingType: " + p_heatingType);
	}
	
		
	//if (EA.j_ea instanceof J_EAConversionGasBurner || EA.j_ea instanceof J_EAConversionHeatPump || EA.j_ea instanceof J_EAConversionHeatDeliverySet || EA.j_ea instanceof J_EAConversionElectricHeater || EA.j_ea instanceof J_EAConversionGasCHP ) {
	//	if (p_primaryHeatingAsset == null) {
	//		p_primaryHeatingAsset = EA;
	//	} else if (p_secondaryHeatingAsset == null) {
	//		p_secondaryHeatingAsset = EA;
	//	} else {
	//		traceln("District Heating gridconnection already has two heating systems!");
	//	}
	//	//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
	if( j_ea instanceof J_EAConversionHeatPump && ((J_EAConversionHeatPump)j_ea).getAmbientTempType().equals("WATER") ) {
		((J_EAConversionHeatPump)j_ea).p_linkedSourceEnergyAsset = p_residualHeatLTSource;
		((J_EAConversionHeatPump)j_ea).setSourceAssetHeatPower( ((J_EAConversionHeatPump)j_ea).p_linkedSourceEnergyAsset.capacityHeat_kW );
	}
//}
} else {
	traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + j_ea + " is of unknown type or null! ");
}



/*
// create a local list of energyAssets connected to its netConnection Agent for easy reference
List<EnergyAsset> connectedEnergyAssets = subConnections.getConnections();

int numberOfEnergyAssets = connectedEnergyAssets.size();
for( int i = 0; i < numberOfEnergyAssets; i++ ) {
	if( connectedEnergyAssets.get(i) instanceof EnergyAsset ) {
		c_connectedEnergyAssets.add(connectedEnergyAssets.get(i));

	}
}

List<EnergyAsset> consumptionAssets = filter(c_connectedEnergyAssets, b -> b.j_ea instanceof J_EAConsumption);
List<EnergyAsset> productionAssets = filter(c_connectedEnergyAssets, b -> b.j_ea instanceof J_EAProduction);
List<EnergyAsset> storageAssets = filter(c_connectedEnergyAssets, b -> b.j_ea instanceof J_EAStorage);
List<EnergyAsset> conversionAssets = filter(c_connectedEnergyAssets, b -> b.j_ea instanceof J_EAConversion);
traceln("NetConnection connecting to " + numberOfEnergyAssets + " EnergyAssets");
*/
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>RETURNS_VALUE</ReturnModificator>
					<ReturnType><![CDATA[boolean]]></ReturnType>
					<Id>1702369244977</Id>
					<Name><![CDATA[f_calcCheapestHeatingPrice]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1800</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[double HP_COP = ((J_EAConversionHeatPump)p_primaryHeatingAsset).getCOP();
boolean isGasCheaper = false;

if(l_ownerActor.getConnectedAgent() instanceof ConnectionOwner) {
	v_gasHeatingCost_eurpkWh_TEMPORARY = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).f_getMethanePrice();
	v_eHeatingCost_eurpkWh_TEMPORARY = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).f_getAveragedElectricityPrice( v_currentPowerElectricity_kW, p_primaryHeatingAsset.getElectricCapacity_kW() ) / HP_COP;
	isGasCheaper = v_gasHeatingCost_eurpkWh_TEMPORARY < v_eHeatingCost_eurpkWh_TEMPORARY ? true:false;
}	

return isGasCheaper;]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1702369244982</Id>
					<Name><![CDATA[f_heatWithHeatpump]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1780</X><Y>50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[
double powerFraction_heatPump_fr = 0; 
double powerFraction_heatModel_fr = 0;
double avgElectricityPrice_eurpkWh = 10;
J_EAConversionHeatPump hp = (J_EAConversionHeatPump)p_primaryHeatingAsset;

if ( p_smartHeatingEnabled ) {
	avgElectricityPrice_eurpkWh = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).f_getAveragedElectricityPrice( v_currentPowerElectricity_kW, hp.getElectricCapacity_kW() );
	//traceln("avg electircity rprice for HP: " + avgElectricityPrice_eurpkWh);
}

//heat the house
if (v_currentIndoorTemp_degC < v_tempSetpoint_degC - p_heatingKickinTreshold_degC ) {
	powerFraction_heatPump_fr = 1; 
	powerFraction_heatModel_fr = hp.getHeatCapacity_kW() / p_BuildingThermalAsset.getHeatCapacity_kW();
}
//also heat the house if the price is cheap, the the house is colder than desired + 1 and the vehicle does not need charging
else if( 	p_smartHeatingEnabled && avgElectricityPrice_eurpkWh < v_electricityPriceLowPassed_eurpkWh - p_pricelevelLowDifFromAvg_eurpkWh 
			&& v_currentIndoorTemp_degC < v_tempSetpoint_degC + 1) {
	powerFraction_heatPump_fr = 1;
	powerFraction_heatModel_fr = hp.getHeatCapacity_kW() / p_heatBuffer.getHeatCapacity_kW();
}

p_BuildingThermalAsset.v_powerFraction_fr = powerFraction_heatModel_fr;
p_primaryHeatingAsset.v_powerFraction_fr = powerFraction_heatPump_fr;
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1702369244984</Id>
					<Name><![CDATA[f_heatWithHybridHeatpump]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1780</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[
// Heatpump and gasburner, switch based on heatpump COP)
if (v_currentIndoorTemp_degC < ( v_tempSetpoint_degC - p_heatingKickinTreshold_degC) ) {
	
	J_EAConversionHeatPump HP = (J_EAConversionHeatPump)p_primaryHeatingAsset;
	//HP.updateAmbientTemp(main.v_currentAmbientTemperature_degC); // update heatpump temp levels! <-- waarom dit gebeurt al in de main (peter 21-02-23)
	boolean gasCheaper = f_calcCheapestHeatingPrice();
	traceln("isGasCheaper: "+gasCheaper);
	
	if ( gasCheaper ) { // heat with gas
		double powerDemand_kW = (v_tempSetpoint_degC - v_currentIndoorTemp_degC) * ((J_EAStorageHeat)p_BuildingThermalAsset).getHeatCapacity_JpK() / 3.6e6;
		p_primaryHeatingAsset.v_powerFraction_fr = 0;
		p_secondaryHeatingAsset.v_powerFraction_fr = min(1, powerDemand_kW / p_secondaryHeatingAsset.getHeatCapacity_kW());
		p_BuildingThermalAsset.v_powerFraction_fr = p_secondaryHeatingAsset.v_powerFraction_fr * p_secondaryHeatingAsset.getHeatCapacity_kW() / p_BuildingThermalAsset.getHeatCapacity_kW();
	} else { // heat with heatpump
		p_primaryHeatingAsset.v_powerFraction_fr = 1;//min(1,powerDemand_kW / p_primaryHeatingAsset.getHeatCapacity_kW());
		p_secondaryHeatingAsset.v_powerFraction_fr = 0;
		p_BuildingThermalAsset.v_powerFraction_fr = HP.getHeatCapacity_kW() / p_BuildingThermalAsset.getHeatCapacity_kW();
	}
}
else{
	p_primaryHeatingAsset.v_powerFraction_fr = 0;
	p_secondaryHeatingAsset.v_powerFraction_fr = 0;
	p_BuildingThermalAsset.v_powerFraction_fr = 0;
}

p_secondaryHeatingAsset.f_updateAllFlows(p_secondaryHeatingAsset.v_powerFraction_fr);]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1663773810340</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1663774444750</Id>
					<Name><![CDATA[energyModel]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1663773810344</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
    			<TimePlot>
					<Id>1678448899357</Id>
					<Name><![CDATA[pl_SOC1]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>1030</X><Y>500</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>true</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1668499200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[15]]></Code>
						<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>500</Width>
					<Height>280</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>420</Width>
						<Height>160</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>60</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[current electricity price]]></Title>
					<Id>1678448899351</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-32944</Color>
					<Expression2><![CDATA[v_currentElectricityPriceConsumption_eurpkWh]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[ElectricityPrice LowPassed]]></Title>
					<Id>1678448899352</Id>
					<Expression><![CDATA[my_dataset8]]></Expression>
					<Color>-13447886</Color>
					<Expression2><![CDATA[v_electricityPriceLowPassed_eurpkWh]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<DatasetExpression>  
						<Title><![CDATA[CHP full power current price]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset9]]></Expression>
					<Color>-9404272</Color>
					<Expression2><![CDATA[v_chpElectricityPrice]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>1000</SamplesToKeep>
					<TimeWindowExpression><![CDATA[48]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>HH_mm</LabelFormat>
    			</TimePlot>
    			<TimePlot>
					<Id>1678452019907</Id>
					<Name><![CDATA[pl_SOC2]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>760</X><Y>840</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>false</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1668499200000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[15]]></Code>
						<Unit Class="TimeUnits"><![CDATA[MINUTE]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>500</Width>
					<Height>280</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>420</Width>
						<Height>160</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>60</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[Storage temp]]></Title>
					<Id>1678452019904</Id>
					<Expression><![CDATA[my_dataset9]]></Expression>
					<Color>-65536</Color>
					<Expression2><![CDATA[v_bufferTemp_degC]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>1000</SamplesToKeep>
					<TimeWindowExpression><![CDATA[48]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>HH_mm</LabelFormat>
    			</TimePlot>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1663773842879</Id>
			<Name><![CDATA[GCEnergyProduction]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_operateFlexAssets(){
	f_operateFlexAssets_overwrite();
}]]></AdditionalClassCode>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_BuildingThermalAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyAssetList]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoStart_h]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoEnd_h]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_curtailer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatBuffer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gasBuffer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_cookingTracker]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyLabel]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_DHWAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_GISbuilding]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_longitude]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_latitude]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_company_name]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_huisnummer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_openbareR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_company_connection_id]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyProfile]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_GISPoint]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_woonplaats]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_huisletter]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_toevoeging]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_postcode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_pandIdentiteit]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1663773842877</Id>
				<Name><![CDATA[1663773842877]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1663773842875</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1663773842878</CurrentLevel>
			<ConnectionsId>1663773842874</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1671113514350</Id>
					<Name><![CDATA[v_hydrogenProductionDeficit_kWh]]></Name>
					<X>1120</X><Y>460</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1671111800831</Id>
					<Name><![CDATA[f_operateFlexAssets_overwrite]]></Name>
					<X>800</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for( J_EA v : c_conversionAssets ){
	if (v instanceof J_EAConversionElektrolyser) {
		f_manageElektrolyser((J_EAConversionElektrolyser)v);
	}
	if (v instanceof J_EAConversionCurtailer) {
		// Must go last! 
	} /*else {		
		v_currentPowerElectricity_kW += v.electricityConsumption_kW - v.electricityProduction_kW;
		v_conversionPowerElectric_kW += v.electricityConsumption_kW - v.electricityProduction_kW;
		v_currentPowerMethane_kW += v.methaneConsumption_kW - v.methaneProduction_kW;
		v_currentPowerHydrogen_kW += v.hydrogenConsumption_kW - v.hydrogenProduction_kW;
		v_currentPowerHeat_kW += v.heatConsumption_kW - v.heatProduction_kW;
		v_currentPowerDiesel_kW += v.dieselConsumption_kW;
	} */
}

// Determine EV charging
f_manageCharging();
//v_currentPowerElectricity_kW += v_evChargingPowerElectric_kW;

// Operate battery
if (p_batteryAsset != null){
	v_batterySOC_fr = p_batteryAsset.getCurrentStateOfCharge();
	if( p_batteryOperationMode == OL_BatteryOperationMode.BALANCE) {
		f_batteryManagementBalanceCoop( v_batterySOC_fr );
	}
	else {
		f_batteryManagementPrice( v_batterySOC_fr );
	}
	p_batteryAsset.f_updateAllFlows(p_batteryAsset.v_powerFraction_fr);
	//v_batteryPowerElectric_kW = p_batteryAsset.electricityConsumption_kW - p_batteryAsset.electricityProduction_kW;
	v_currentPowerElectricity_kW += v_batteryPowerElectric_kW;
}

// Operate curtailer. Must be the last asset to run!!

if (p_curtailer != null){
	f_manageCurtailer(p_curtailer);
	//v_currentPowerElectricity_kW += p_curtailer.electricityConsumption_kW;
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1671112355094</Id>
					<Name><![CDATA[f_manageElektrolyser]]></Name>
					<X>800</X><Y>480</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ElektrolyserAsset]]></Name>
						<Type><![CDATA[J_EAConversionElektrolyser]]></Type>
					</Parameter>
					<Body><![CDATA[if (ElektrolyserAsset.getElectricCapacity_kW()>0) {
	
	//double availableCapacityFromBatteries_kW = p_batteryAsset == null ? 0 : ((J_EAStorageElectric)p_batteryAsset.j_ea).getCapacityAvailable_kW(); 
	double availableElectricPower_kW = v_allowedCapacity_kW - v_currentPowerElectricity_kW;
	double excessElectricPower_kW = -(v_currentPowerElectricity_kW + v_allowedCapacity_kW); // Should at least draw this much power to stay within connection limits. Doesn't account for a battery!
	double eta_r = ElektrolyserAsset.getEta_r();
	double connectionCapacity_kW = v_allowedCapacity_kW; // Use only 90% of capacity for robustness against delay
	double ProductionSetpoint_kW = ElektrolyserAsset.getElectricCapacity_kW() * 0.30 * eta_r; // Aim for average production power of xx% of elektrolyser peak power
	double elektrolyserSetpointElectric_kW = 0;
	
	if (p_elektrolyserOperationMode==OL_ElektrolyserOperationMode.BALANCE) {
		double FeedbackGain_kWpkWh = 1.0/24; // Try to recover deficit in 24 hours
		elektrolyserSetpointElectric_kW = ProductionSetpoint_kW/eta_r + v_hydrogenProductionDeficit_kWh * FeedbackGain_kWpkWh /eta_r ;
	
		//traceln("Elektrolyser electric power setpoint: " + elektrolyserSetpointElectric_kW + " kW");
		//traceln("Elektrolyser power fraction: " + elektrolyserSetpointElectric_kW/ElektrolyserAsset.j_ea.getElectricCapacity_kW());
	} else if (p_elektrolyserOperationMode==OL_ElektrolyserOperationMode.PRICE) {
		//if(l_ownerActor.getConnectedAgent() instanceof ConnectionOwner) {
		ConnectionOwner ownerActor = (ConnectionOwner)l_ownerActor.getConnectedAgent();
		//double currentElectricityPriceCharge_eurpkWh = ownerActor.v_priceBandsDelivery.ceilingEntry(100.0).getValue(); // query price at 1kW
		double currentElectricityPriceCharge_eurpkWh = ownerActor.f_getElectricityPrice(-excessElectricPower_kW); // query price at 1kW
		//traceln("Current electricity price for electrolyser: " + currentElectricityPriceCharge_eurpkWh);
		v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( currentElectricityPriceCharge_eurpkWh - v_electricityPriceLowPassed_eurpkWh );
		double deficitGain_eurpkWh = 1.0/1000000; // When SOC-error is 100%, adjust WTP price by 1 eurpkWh
		double priceGain_peur = 5; // How strongly to ramp up power with price-delta's	
		double WTP_eurpkWh = v_electricityPriceLowPassed_eurpkWh + deficitGain_eurpkWh * v_hydrogenProductionDeficit_kWh;
		elektrolyserSetpointElectric_kW = max(0,ElektrolyserAsset.getElectricCapacity_kW()*(WTP_eurpkWh - currentElectricityPriceCharge_eurpkWh)*priceGain_peur)  ;
		//traceln("WTP hydrogen production is " + roundToDecimal(WTP_eurpkWh,3) + " eurpkWh is higher than electricity price " + roundToDecimal(currentElectricityPriceCharge_eurpkWh,3) + " eurpkWh, so produce! Setpoint power: " + round(elektrolyserSetpointElectric_kW) + " kW");
	}	
	
	// Limit elektrolyser power to available electric power on connection (assuming it is last in merit!)
	elektrolyserSetpointElectric_kW = min(availableElectricPower_kW,max(elektrolyserSetpointElectric_kW,excessElectricPower_kW));
	
	ElektrolyserAsset.f_updateAllFlows(elektrolyserSetpointElectric_kW/ElektrolyserAsset.getElectricCapacity_kW());
	
	v_hydrogenProductionDeficit_kWh += ProductionSetpoint_kW - ElektrolyserAsset.hydrogenProduction_kW;	// Update hydrogen production deficit
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1676965986339</Id>
					<Name><![CDATA[f_manageCurtailer]]></Name>
					<X>800</X><Y>503</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[CurtailerAsset]]></Name>
						<Type><![CDATA[J_EAConversionCurtailer]]></Type>
					</Parameter>
					<Body><![CDATA[//traceln("Hello! " + CurtailerAsset.j_ea.getElectricCapacity_kW());
if (CurtailerAsset.getElectricCapacity_kW()>0) {
	double curtailerSetpointElectric_kW = -min(0,v_currentPowerElectricity_kW + p_connectionCapacity_kW);
	CurtailerAsset.f_updateAllFlows(curtailerSetpointElectric_kW/CurtailerAsset.getElectricCapacity_kW());
	
	/*if ( curtailerSetpointElectric_kW > 0 ) {
		traceln("Windfarm is curtailing " + curtailerSetpointElectric_kW + " kW!");
	}*/
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1677836046815</Id>
					<Name><![CDATA[f_batteryManagementBalanceCoop]]></Name>
					<Description><![CDATA[Regeling voor balancering van Coop-load.

@author: Gillis Hommen
@since: 28-12-2022]]></Description>
					<X>800</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[batterySOC]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[if ((p_batteryAsset).getStorageCapacity_kWh() != 0){
	if(l_ownerActor.getConnectedAgent() instanceof ConnectionOwner) {
		if(((ConnectionOwner)l_ownerActor.getConnectedAgent()).p_CoopParent instanceof EnergyCoop ) {
//			v_previousPowerElectricity_kW = p_batteryAsset.v_powerFraction_fr * p_batteryAsset.j_ea.getElectricCapacity_kW();
			v_previousPowerElectricity_kW = p_batteryAsset.electricityConsumption_kW-p_batteryAsset.electricityProduction_kW;
			//traceln("Previous battery power: " + v_previousPowerElectricity_kW);
			double currentCoopElectricitySurplus_kW = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).p_CoopParent.v_electricitySurplus_kW + v_previousPowerElectricity_kW;
			//v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( currentCoopElectricitySurplus_kW - v_electricityPriceLowPassed_eurpkWh );
			
			double CoopConnectionCapacity_kW = 0.9*((ConnectionOwner)l_ownerActor.getConnectedAgent()).p_CoopParent.v_allowedCapacity_kW; // Use only 90% of capacity for robustness against delay
			double availableChargePower_kW = CoopConnectionCapacity_kW + currentCoopElectricitySurplus_kW; // Max battery charging power within grid capacity
			double availableDischargePower_kW = currentCoopElectricitySurplus_kW - CoopConnectionCapacity_kW; // Max discharging power within grid capacity
			double SOC_setp_fr = 0.5;			
			if (energyModel.v_totalInstalledWindPower_kW > 10000) {
				SOC_setp_fr = 0.95 - 0.95 * energyModel.v_WindYieldForecast_fr - 0.9*energyModel.v_SolarYieldForecast_fr;
				//traceln("Forecast-based SOC setpoint: " + SOC_setp_fr + " %");
			} else {
				SOC_setp_fr = (0.5 + 0.35 * Math.sin(2*Math.PI*(time(HOUR)-10)/24))*(1-0.8*energyModel.v_WindYieldForecast_fr); // Sinusoidal setpoint: aim for low SOC at 6:00h, high SOC at 18:00h. 
			}
			double FeedbackGain_kWpSOC = 1.5 * p_batteryAsset.getElectricCapacity_kW(); // How strongly to aim for SOC setpoint
			double FeedforwardGain_kWpKw = 0.1; // Feedforward based on current surpluss in Coop
			double chargeOffset_kW = 0; // Charging 'bias', basically increases SOC setpoint slightly during the whole day.
			double chargeSetpoint_kW = 0;
			chargeSetpoint_kW = FeedforwardGain_kWpKw * (currentCoopElectricitySurplus_kW - chargeOffset_kW) + (SOC_setp_fr - batterySOC) * FeedbackGain_kWpSOC;
			chargeSetpoint_kW = min(max(chargeSetpoint_kW, availableDischargePower_kW),availableChargePower_kW); // Don't allow too much (dis)charging!
			p_batteryAsset.v_powerFraction_fr = max(-1,min(1, chargeSetpoint_kW / p_batteryAsset.getElectricCapacity_kW())); // Convert to powerFraction and limit power
			//traceln("Coop surpluss " + currentCoopElectricitySurplus_kW + "kW, Battery charging power " + p_batteryAsset.v_powerFraction_fr*p_batteryAsset.j_ea.getElectricCapacity_kW() + " kW at " + currentBatteryStateOfCharge*100 + " % SOC");
		}
	}
}]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1663773842874</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1663774465365</Id>
					<Name><![CDATA[energyModel]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1663773842878</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1663773857868</Id>
			<Name><![CDATA[GCSolarfarm]]></Name>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_BuildingThermalAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyAssetList]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoStart_h]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoEnd_h]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_curtailer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatBuffer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gasBuffer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_cookingTracker]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyLabel]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_DHWAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_GISbuilding]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_longitude]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_latitude]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_company_name]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_huisnummer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_openbareR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_company_connection_id]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyProfile]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_GISPoint]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_woonplaats]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_huisletter]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_toevoeging]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_postcode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_pandIdentiteit]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1663773857866</Id>
				<Name><![CDATA[1663773857866]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1663773857864</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1663773857867</CurrentLevel>
			<ConnectionsId>1663773857863</ConnectionsId>
			<AgentLinks>
				<AgentLink>
					<Id>1663773857863</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1663774487514</Id>
					<Name><![CDATA[energyModel]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1663773857867</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1665480522864</Id>
			<Name><![CDATA[GCIndustry]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_connectToJ_EA(J_EA j_ea){
	f_connectToJ_EA_default(j_ea);
	f_connectTo_J_EA_Industry(j_ea);
}

@Override
public void f_operateFlexAssets(){
	f_operateFlexAssets_overwrite();
}]]></AdditionalClassCode>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_BuildingThermalAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyAssetList]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoStart_h]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoEnd_h]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_curtailer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatBuffer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gasBuffer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_cookingTracker]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyLabel]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_DHWAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_GISbuilding]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_longitude]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_latitude]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_company_name]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_huisnummer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_openbareR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_company_connection_id]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyProfile]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_GISPoint]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_woonplaats]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_huisletter]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_toevoeging]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_postcode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_pandIdentiteit]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1665480522862</Id>
				<Name><![CDATA[1665480522862]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1665561600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1665480522860</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1665480522863</CurrentLevel>
			<ConnectionsId>1665480522859</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1684919215378</Id>
					<Name><![CDATA[v_previousPowerMethane_kW]]></Name>
					<X>1120</X><Y>470</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[double]]></Type>        
						<InitialValue Class="CodeValue">
							<Code><![CDATA[0]]></Code>
						</InitialValue>
					</Properties>
				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665498760168</Id>
					<Name><![CDATA[f_connectToChild_overwrite]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>780</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingParentNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[//assetLinks.connectTo(ConnectingParentNode);
EnergyAsset EA = (EnergyAsset) ConnectingParentNode;
c_energyAssets.add(EA);

if (EA.j_ea instanceof J_EAConsumption) {
	//c_consumptionAssets.add(EA);
} else if (EA.j_ea instanceof J_EAProduction ) {
//c_productionAssets.add(EA);
} else if (EA.j_ea instanceof J_EAStorage ) {
	//c_storageAssets.add(EA);
	if (EA.j_ea instanceof J_EAStorageHeat) {
		//p_BuildingThermalAsset = EA; Obsolete! Need to replace in connectToJ_EA
	}
	else if (EA.j_ea instanceof J_EAEV) {
		//c_vehicleAssets.add( EA );
		//c_vehicleAssets.get( v_vehicleIndex ).v_powerFraction_fr = 1;
		/*MobilityTracker m = main.add_mobilityTrackers();
		c_mobilityTrackers.add( m );
		m.p_vehicleIndex = v_vehicleIndex;
		m.p_gridConnection = this;
		m.p_vehicleInstance = (J_EAEV)m.p_vehicleInstance;
		m.p_energyAsset = c_vehicleAssets.get( v_vehicleIndex );
		m.p_vehicleInstance = (J_EAEV)m.p_energyAsset.j_ea;
		m.p_mobilityPatternType = OL_MobilityPatternType.TRUCK;
		((J_EAEV)m.p_vehicleInstance).setMobilityTracker( m );
		m.f_getData();*/
		//v_vehicleIndex ++;
	}
} else if (EA.j_ea instanceof J_EAConversion) {
	c_conversionAssets.add((J_EAConversion)EA.j_ea);
	if(p_gridConnectionType == OL_GridConnectionType.AGRO_ENERGYHUB) {
	
		if (EA.j_ea instanceof J_EAConversionGasBurner || EA.j_ea instanceof J_EAConversionHydrogenBurner) {
			if (p_primaryHeatingAsset==null) {
				p_primaryHeatingAsset = (J_EAConversion)EA.j_ea ;
			} else { 
				p_secondaryHeatingAsset = (J_EAConversion)EA.j_ea ;
			}
		} else if ( EA.j_ea instanceof J_EAConversionHeatPump  || EA.j_ea instanceof J_EAConversionGasCHP) {
			if (p_primaryHeatingAsset==null) {
				//p_primaryHeatingAsset = EA; Obsolete!
			} else { 
				p_secondaryHeatingAsset = p_primaryHeatingAsset;
				//p_primaryHeatingAsset = EA; Obsolete!
			}
			if (EA.j_ea instanceof J_EAConversionHeatPump) {
				((J_EAConversionHeatPump)p_primaryHeatingAsset).outputTemperature_degC = 80; // For pastorizing milk
			}
			//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
		} else 	if (EA.j_ea instanceof J_EAConversionCurtailer || EA.j_ea instanceof J_EAConversionCurtailerHeat) {
			p_curtailer = (J_EAConversionCurtailer)EA.j_ea ;
		} else {
			traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingParentNode.getId() + " is of unknown type or null! ");
		}
	} else {
		if (EA.j_ea instanceof J_EAConversionGasBurner || EA.j_ea instanceof J_EAConversionHeatPump || EA.j_ea instanceof J_EAConversionHydrogenBurner ) {
			p_primaryHeatingAsset = (J_EAConversion)EA.j_ea ;
		} else {
			traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingParentNode.getId() + " is of unknown type or null! ");
		}
	}

}
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665499506761</Id>
					<Name><![CDATA[f_operateFixedConsumptionAssets_overwrite]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>800</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[switch( p_gridConnectionType ) {
	case STEEL:
		for(EnergyAsset ea : c_consumptionAssets) {
			if( ea.p_energyAssetType == OL_EnergyAssetType.ELECTRICITY_DEMAND ) {
				ea.f_updateElectricityFlows( main.v_currentIndustrySteelElectricityDemand_fr );
			}
			else if( ea.p_energyAssetType == OL_EnergyAssetType.HEAT_DEMAND ) {
				ea.f_updateAllFlows( main.v_currentIndustrySteelHeatDemand_fr );
			}
			else {
				ea.v_powerFraction_fr = 0; // To disable other asset
				traceln("industry has other consumption assets than modeled so far");
			}
		}
	break;
	case INDUSTRY_OTHER:
		for(EnergyAsset ea : c_consumptionAssets) {
			if( ea.p_energyAssetType == OL_EnergyAssetType.ELECTRICITY_CONSUMPTION_PROFILE ) {
				ea.f_updateElectricityFlows( main.v_currentIndustryOtherElectricityDemand_fr );
			}
			else if( ea.p_energyAssetType == OL_EnergyAssetType.HEAT_DEMAND ) {
				ea.f_updateAllFlows( main.v_currentIndustryOtherHeatDemand_fr );
			}
			else {
				ea.v_powerFraction_fr = 0; // To disable other asset
				traceln("industry has other consumption assets than modeled so far");
			}
		}
	break;
	default:
		traceln("industry not modeled so far");

	break;
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1665501255400</Id>
					<Name><![CDATA[f_operateFlexAssets_overwrite]]></Name>
					<X>800</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if(p_gridConnectionType == OL_GridConnectionType.AGRO_ENERGYHUB) {
	f_operateFlexAssets_agroenergyhub();
	for( J_EAStorage v : c_storageAssets ) {	
		//v_currentPowerElectricity_kW += v.electricityConsumption_kW - v.electricityProduction_kW;
		v_conversionPowerElectric_kW += v.electricityConsumption_kW - v.electricityProduction_kW;
		//v_currentPowerMethane_kW += v.methaneConsumption_kW - v.methaneProduction_kW;
		//v_currentPowerHydrogen_kW += v.hydrogenConsumption_kW - v.hydrogenProduction_kW;
		//v_currentPowerHeat_kW += v.heatConsumption_kW - v.heatProduction_kW;
		//v_currentPowerDiesel_kW += v.dieselConsumption_kW;
	}
	
	//traceln("Agroenergyhub logic!");
} else {
	
	// Determine house heating
	f_manageHeatingAssets();
	
}

for( J_EAConversion v : c_conversionAssets ) {	
	//v_currentPowerElectricity_kW += v.electricityConsumption_kW - v.electricityProduction_kW;
	v_conversionPowerElectric_kW += v.electricityConsumption_kW - v.electricityProduction_kW;
	//v_currentPowerMethane_kW += v.methaneConsumption_kW - v.methaneProduction_kW;
	//v_currentPowerHydrogen_kW += v.hydrogenConsumption_kW - v.hydrogenProduction_kW;
	//v_currentPowerHeat_kW += v.heatConsumption_kW - v.heatProduction_kW;
	//v_currentPowerDiesel_kW += v.dieselConsumption_kW;
}

v_previousPowerMethane_kW = v_currentPowerMethane_kW;

]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1684397492292</Id>
					<Name><![CDATA[f_operateFlexAssets_agroenergyhub]]></Name>
					<X>800</X><Y>510</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[
double heatDemand_kW = v_currentPowerHeat_kW;
double biogasSupply_kW = 0;
if(l_ownerActor.getConnectedAgent() instanceof ConnectionOwner) {
	if(((ConnectionOwner)l_ownerActor.getConnectedAgent()).p_methaneSupplier instanceof EnergyCoop ) {
		EnergyCoop CoopParent = (EnergyCoop)(((ConnectionOwner)l_ownerActor.getConnectedAgent()).p_methaneSupplier);
		biogasSupply_kW = -CoopParent.v_methaneVolume_kWh/energyModel.p_timeStep_h + v_previousPowerMethane_kW;
	}
}

//traceln("BiogasSupply from mestvergister: " + biogasSupply_kW + " kW");
//traceln("Heat demand agroenergyhub:" + heatDemand_kW);

if ( p_secondaryHeatingAsset == null) { // Just one heating asset
	if ( p_primaryHeatingAsset== null ) {
		traceln("No heating assets for industry gridconnection " + p_gridConnectionID);
	} else {
		if ( p_primaryHeatingAsset instanceof J_EAConversionGasBurner || p_primaryHeatingAsset instanceof J_EAConversionHeatPump || p_primaryHeatingAsset instanceof J_EAConversionHydrogenBurner) { // when there is only a gas burner or DH set
				p_primaryHeatingAsset.v_powerFraction_fr = min(1,heatDemand_kW / p_primaryHeatingAsset.getHeatCapacity_kW());
				//traceln("Running manageHeatingAsset for single heating asset");
		} else {
			traceln("GridConnection " + p_gridConnectionID + " has a single unsupported heating asset!");
		}
	}
} else { // Two heating assets
	if ( p_primaryHeatingAsset instanceof J_EAConversionHeatPump & p_secondaryHeatingAsset instanceof J_EAConversionGasCHP) { // Heatpump and gasburner, switch based on heatpump COP)
		//((J_EAConversionHeatPump)p_primaryHeatingAsset.j_ea).updateAmbientTemp(main.v_currentAmbientTemperature_degC); // update heatpump temp levels! <-- waarom dit gebeurt al in de main (peter 21-02-23)
		double HP_COP = ((J_EAConversionHeatPump)p_primaryHeatingAsset).getCOP();
		double HP_powerDemand_kW = heatDemand_kW / HP_COP;
		// Decide to use CHP or HeatPump to fulfill heat demand based on 'SoC' of gasbuffer and current electricity use on site
		if ( (-v_currentPowerElectricity_kW > 0.5*p_connectionCapacity_kW*2*(p_gasBuffer.getCurrentStateOfCharge()-0.5) | p_gasBuffer.getCurrentStateOfCharge() < 0.05) & p_gasBuffer.getCurrentStateOfCharge() < 0.9) { // Use heatpump when it can be done selfsufficiently or when methane supply is zero
			//traceln("HeatPump in operation with COP " + HP_COP);
			p_secondaryHeatingAsset.v_powerFraction_fr = 0;
			p_primaryHeatingAsset.v_powerFraction_fr = min(1,HP_powerDemand_kW / p_primaryHeatingAsset.getElectricCapacity_kW());
		} else { // CHP when there is no electricity surpluss or when gas tank is overfilling
			//traceln("CHP capacityHeat_kW: " + p_primaryHeatingAsset.j_ea.getHeatCapacity_kW());
			p_secondaryHeatingAsset.v_powerFraction_fr = min(1,heatDemand_kW / p_secondaryHeatingAsset.getHeatCapacity_kW());
			//p_primaryHeatingAsset.v_powerFraction_fr = 0;//min(1,currentDHWdemand_kW / p_secondaryHeatingAsset.j_ea.getHeatCapacity_kW());
			// Let heatpump fill heatdemand gap if it exists
			p_primaryHeatingAsset.v_powerFraction_fr = max(0,min(1,(heatDemand_kW-p_secondaryHeatingAsset.v_powerFraction_fr*p_secondaryHeatingAsset.getHeatCapacity_kW()) / p_primaryHeatingAsset.getHeatCapacity_kW())); // Let gas burner fill the heatdemandgap
		}
	} else if ( p_primaryHeatingAsset instanceof J_EAConversionGasCHP & p_secondaryHeatingAsset instanceof J_EAConversionGasBurner) { // CHP & gas burner
		if ( p_gasBuffer.getCurrentStateOfCharge() < 0.05) { // Use regular gas burner when biogas buffer is nearly empty
//		if ( (-v_currentPowerElectricity_kW > 0.5*p_connectionCapacity_kW*2*(p_gasBuffer.j_ea.getCurrentStateOfCharge()-0.5) | p_gasBuffer.j_ea.getCurrentStateOfCharge() < 0.05) & p_gasBuffer.j_ea.getCurrentStateOfCharge() < 0.9) { // Use gas burner when biogas is depleted or when there is too much PV and CHP would lead to curtailment
			//traceln("HeatPump in operation with COP " + HP_COP);
			p_primaryHeatingAsset.v_powerFraction_fr = 0;
			p_secondaryHeatingAsset.v_powerFraction_fr = min(1,heatDemand_kW / p_secondaryHeatingAsset.getHeatCapacity_kW());
		} else { // CHP when there is sufficient biogas
			//traceln("CHP capacityHeat_kW: " + p_primaryHeatingAsset.j_ea.getHeatCapacity_kW());
			if ( p_gasBuffer.getCurrentStateOfCharge() < 0.9 ) { // Biogas tank not full, allow reduced CHP power when it prevents curtailment.
				p_primaryHeatingAsset.v_powerFraction_fr = min(min(1,heatDemand_kW / p_primaryHeatingAsset.getHeatCapacity_kW()),(p_connectionCapacity_kW + v_currentPowerElectricity_kW) / p_primaryHeatingAsset.getElectricCapacity_kW());
			} else {
				p_primaryHeatingAsset.v_powerFraction_fr = min(1,heatDemand_kW / p_primaryHeatingAsset.getHeatCapacity_kW());
				//if ( p_gasBuffer.j_ea.getCurrentStateOfCharge() > 0.98 ) { // Biogas tank not full, allow reduced CHP power when it prevents curtailment.				
				//	traceln("Biogas tank 98% full! must run CHP! Heat demand: " + heatDemand_kW + " kW");
				//}
			}
			p_secondaryHeatingAsset.v_powerFraction_fr = max(0,min(1,(heatDemand_kW-p_primaryHeatingAsset.v_powerFraction_fr*p_primaryHeatingAsset.getHeatCapacity_kW()) / p_secondaryHeatingAsset.getHeatCapacity_kW())); // Let gas burner fill the heatdemandgap
		}
	} else if ( p_primaryHeatingAsset instanceof J_EAConversionHeatPump & p_secondaryHeatingAsset instanceof J_EAConversionGasBurner) { // Heatpump and gasburner, switch based on heatpump COP)
		//((J_EAConversionHeatPump)p_primaryHeatingAsset.j_ea).updateAmbientTemp(main.v_currentAmbientTemperature_degC); // update heatpump temp levels! <-- waarom dit gebeurt al in de main (peter 21-02-23)
		//double HP_COP = ((J_EAConversionHeatPump)p_primaryHeatingAsset.j_ea).getCOP();
		//double HP_powerDemand_kW = heatDemand_kW / HP_COP;
		p_primaryHeatingAsset.v_powerFraction_fr = min(1,heatDemand_kW / p_primaryHeatingAsset.getHeatCapacity_kW());
		p_secondaryHeatingAsset.v_powerFraction_fr = max(0,min(1,(heatDemand_kW-p_primaryHeatingAsset.v_powerFraction_fr*p_primaryHeatingAsset.getHeatCapacity_kW()) / p_secondaryHeatingAsset.getHeatCapacity_kW())); // Let gas burner fill the heatdemandgap
	} else {
		traceln("**** EXCEPTION ****: Unsupported combination of heatings systems in GridConnection " + p_gridConnectionID);
		p_primaryHeatingAsset.v_powerFraction_fr = 0;
		p_secondaryHeatingAsset.v_powerFraction_fr = 0;
		//p_BuildingThermalAsset.v_powerFraction_fr = 0;
	}
	p_secondaryHeatingAsset.f_updateAllFlows(p_secondaryHeatingAsset.v_powerFraction_fr);
}
if (p_primaryHeatingAsset != null) {
	p_primaryHeatingAsset.f_updateAllFlows(p_primaryHeatingAsset.v_powerFraction_fr);
}

if (p_gasBuffer != null) {
//	if (p_secondaryHeatingAsset != null) {
//		p_gasBuffer.v_powerFraction_fr = (biogasSupply_kW - p_primaryHeatingAsset.v_currentConsumptionMethane_kW - p_secondaryHeatingAsset.v_currentConsumptionMethane_kW)/p_gasBuffer.j_ea.getGasCapacity_kW();
//	} else {
	if (p_primaryHeatingAsset instanceof J_EAConversionGasCHP) {
		p_gasBuffer.v_powerFraction_fr = (biogasSupply_kW - p_primaryHeatingAsset.methaneConsumption_kW) / p_gasBuffer.getGasCapacity_kW();
	} else if (p_secondaryHeatingAsset != null) {
		if (p_secondaryHeatingAsset instanceof J_EAConversionGasCHP) {
			p_gasBuffer.v_powerFraction_fr = (biogasSupply_kW - p_secondaryHeatingAsset.methaneConsumption_kW) / p_gasBuffer.getGasCapacity_kW();
		}
	}
//	}
	p_gasBuffer.f_updateAllFlows(p_gasBuffer.v_powerFraction_fr);
}

if (p_curtailer != null) {
	//traceln("Hello! " + CurtailerAsset.j_ea.getElectricCapacity_kW());
	if (p_curtailer.getElectricCapacity_kW()>0) {
		double curtailerSetpointElectric_kW = 0.0;
		if ( p_primaryHeatingAsset instanceof J_EAConversionGasCHP ) {
			curtailerSetpointElectric_kW = -min(0,v_currentPowerElectricity_kW - p_primaryHeatingAsset.heatProduction_kW + p_connectionCapacity_kW);
		} else {
			curtailerSetpointElectric_kW = -min(0,v_currentPowerElectricity_kW + p_connectionCapacity_kW);
		}
		p_curtailer.f_updateAllFlows(curtailerSetpointElectric_kW/p_curtailer.getElectricCapacity_kW());
		
		/*if ( curtailerSetpointElectric_kW > 0 ) {
			traceln("Windfarm is curtailing " + curtailerSetpointElectric_kW + " kW!");
		}*/
	}
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1684940409126</Id>
					<Name><![CDATA[f_manageCurtailer]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>830</X><Y>530</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[CurtailerAsset]]></Name>
						<Type><![CDATA[EnergyAsset]]></Type>
					</Parameter>
					<Body><![CDATA[//traceln("Hello! " + CurtailerAsset.j_ea.getElectricCapacity_kW());
if (CurtailerAsset.j_ea.getElectricCapacity_kW()>0) {
	double curtailerSetpointElectric_kW = -min(0,v_currentPowerElectricity_kW + p_connectionCapacity_kW);
	CurtailerAsset.f_updateAllFlows(curtailerSetpointElectric_kW/CurtailerAsset.j_ea.getElectricCapacity_kW());
	
	/*if ( curtailerSetpointElectric_kW > 0 ) {
		traceln("Windfarm is curtailing " + curtailerSetpointElectric_kW + " kW!");
	}*/
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1693299907029</Id>
					<Name><![CDATA[f_connectTo_J_EA_Industry]]></Name>
					<X>950</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[j_ea]]></Name>
						<Type><![CDATA[J_EA]]></Type>
					</Parameter>
					<Body><![CDATA[
if (j_ea instanceof J_EAConversion) {
	c_conversionAssets.add((J_EAConversion)j_ea);
	if(p_gridConnectionType == OL_GridConnectionType.AGRO_ENERGYHUB) {
	
		if (j_ea instanceof J_EAConversionGasBurner || j_ea instanceof J_EAConversionHydrogenBurner) {
			if (p_primaryHeatingAsset == null) {
				p_primaryHeatingAsset = (J_EAConversion)j_ea ;
			} else if ( p_primaryHeatingAsset!=j_ea ) {
				p_secondaryHeatingAsset = (J_EAConversion)j_ea ;
			}
		} else if ( j_ea instanceof J_EAConversionHeatPump  || j_ea instanceof J_EAConversionGasCHP) {
			if (p_primaryHeatingAsset==null) {
				p_primaryHeatingAsset = (J_EAConversion)j_ea;
			} else { 
				p_secondaryHeatingAsset = p_primaryHeatingAsset;
				p_primaryHeatingAsset = (J_EAConversion)j_ea;
			}
			if (j_ea instanceof J_EAConversionHeatPump) {
				((J_EAConversionHeatPump)p_primaryHeatingAsset).outputTemperature_degC = 80; // For pastorizing milk
			}
			//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
		} else 	if (j_ea instanceof J_EAConversionCurtailer) {
			p_curtailer = (J_EAConversionCurtailer)j_ea ;
		} else {
			traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + j_ea + " is of unknown type or null! ");
		}
	} else {
		if (j_ea instanceof J_EAConversionGasBurner || j_ea instanceof J_EAConversionHeatPump || j_ea instanceof J_EAConversionHydrogenBurner ) {
			if (p_primaryHeatingAsset == null) {
				p_primaryHeatingAsset = (J_EAConversion)j_ea ;
			} else if ( p_primaryHeatingAsset!=j_ea ) {
				p_secondaryHeatingAsset = (J_EAConversion)j_ea ;
			}
		} else {
			traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + j_ea + " is of unknown type or null! ");
		}
	}
} 	
		
	

]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1665480522859</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1665480565440</Id>
					<Name><![CDATA[energyModel]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>40</X><Y>-50</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1665480522863</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1666956363819</Id>
			<Name><![CDATA[GCGridBattery]]></Name>
			<AdditionalClassCode><![CDATA[/*@Override
public void f_connectToChild(J_EA j_ea){
	f_connectToChild_overwrite(j_ea);
}*/

@Override
public void f_operateFlexAssets(){
	f_operateFlexAssets_overwrite();
}

@Override
public void f_batteryManagementBalance( double batterySOC ){
	f_batteryManagementBalanceCoop( batterySOC );
}

@Override
public void f_batteryManagementPrice( double batterySOC ){
	f_batteryManagementPriceCoop( batterySOC );
}

@Override
public void f_calculateEnergyBalance(){
	f_calculateEnergyBalance_overwrite();
}]]></AdditionalClassCode>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_BuildingThermalAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyAssetList]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoStart_h]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoEnd_h]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_curtailer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatBuffer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gasBuffer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_cookingTracker]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyLabel]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_DHWAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_GISbuilding]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_longitude]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_latitude]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_company_name]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_huisnummer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_openbareR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_company_connection_id]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyProfile]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_GISPoint]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_woonplaats]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_huisletter]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_toevoeging]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_postcode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_pandIdentiteit]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1666956363817</Id>
				<Name><![CDATA[1666956363817]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1667030400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1666956363815</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1666956363818</CurrentLevel>
			<ConnectionsId>1666956363814</ConnectionsId>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666956397906</Id>
					<Name><![CDATA[f_connectToChild_overwrite]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>770</X><Y>-150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[ConnectingChildNode]]></Name>
						<Type><![CDATA[Agent]]></Type>
					</Parameter>
					<Body><![CDATA[//assetLinks.connectTo(ConnectingChildNode);
EnergyAsset EA = (EnergyAsset) ConnectingChildNode;
c_energyAssets.add(EA);

if (EA.j_ea instanceof J_EAConsumption) {
	//c_consumptionAssets.add(EA);
} else if (EA.j_ea instanceof J_EAProduction ) {
	//c_productionAssets.add(EA);
} else if (EA.j_ea instanceof J_EAStorage ) {
	//c_storageAssets.add(EA);
	if (EA.j_ea instanceof J_EAStorageHeat) {
		//p_BuildingThermalAsset = EA;
	}
	else if(EA.j_ea instanceof J_EAStorageElectric && ((J_EAStorageElectric)EA.j_ea).getStorageCapacity_kWh() !=0) {
		//p_batteryAsset = EA;
	}
} else if (EA.j_ea instanceof J_EAConversion) {
	c_conversionAssets.add((J_EAConversion)EA.j_ea);
	if (EA.j_ea instanceof J_EAConversionGasBurner || EA.j_ea instanceof J_EAConversionHeatPump || EA.j_ea instanceof J_EAConversionHeatDeliverySet || EA.j_ea instanceof J_EAConversionElectricHeater ) {
		if (p_primaryHeatingAsset == null) {
			p_primaryHeatingAsset = (J_EAConversion)EA.j_ea;
		} else if (p_secondaryHeatingAsset == null) {
			p_secondaryHeatingAsset = (J_EAConversion)EA.j_ea;
		} else {
			traceln("District Heating gridconnection already has two heating systems!");
		}
		//traceln("heatingAsset class " + p_spaceHeatingAsset.getClass().toString());
	}
} else {
	traceln("f_connectToChild in EnergyAsset: Exception! EnergyAsset " + ConnectingChildNode.getId() + " is of unknown type or null! ");
}


/*
// create a local list of energyAssets connected to its netConnection Agent for easy reference
List<EnergyAsset> connectedEnergyAssets = subConnections.getConnections();

int numberOfEnergyAssets = connectedEnergyAssets.size();
for( int i = 0; i < numberOfEnergyAssets; i++ ) {
	if( connectedEnergyAssets.get(i) instanceof EnergyAsset ) {
		c_connectedEnergyAssets.add(connectedEnergyAssets.get(i));

	}
}

List<EnergyAsset> consumptionAssets = filter(c_connectedEnergyAssets, b -> b.j_ea instanceof J_EAConsumption);
List<EnergyAsset> productionAssets = filter(c_connectedEnergyAssets, b -> b.j_ea instanceof J_EAProduction);
List<EnergyAsset> storageAssets = filter(c_connectedEnergyAssets, b -> b.j_ea instanceof J_EAStorage);
List<EnergyAsset> conversionAssets = filter(c_connectedEnergyAssets, b -> b.j_ea instanceof J_EAConversion);
traceln("NetConnection connecting to " + numberOfEnergyAssets + " EnergyAssets");
*/
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666956527771</Id>
					<Name><![CDATA[f_operateFlexAssets_overwrite]]></Name>
					<X>800</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if ( p_batteryAsset != null ) {
	v_batterySOC_fr = p_batteryAsset.getCurrentStateOfCharge();
	
	if( p_batteryOperationMode == OL_BatteryOperationMode.BALANCE){
		//f_batteryManagementGridLoad(v_batterySOC_fr);
		f_batteryManagementBalance(v_batterySOC_fr);
	}
	else if (p_batteryOperationMode == OL_BatteryOperationMode.PRICE){
		f_batteryManagementPrice(v_batterySOC_fr);
	}
	
	if ( p_batteryAsset.getStorageCapacity_kWh() != 0.0) {
		p_batteryAsset.f_updateAllFlows(p_batteryAsset.v_powerFraction_fr);	
		v_batteryPowerElectric_kW = p_batteryAsset.electricityConsumption_kW - p_batteryAsset.electricityProduction_kW;
		//v_currentPowerElectricity_kW += v_batteryPowerElectric_kW;
	}
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1666967854749</Id>
					<Name><![CDATA[f_operateFixedConsumptionAssets_overwrite]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>800</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for(EnergyAsset e : c_consumptionAssets) {
	if( e.p_energyAssetType == OL_EnergyAssetType.ELECTRICITY_CONSUMPTION_PROFILE ) {
		e.f_updateElectricityFlows( main.v_currentBuildingOtherElectricityDemand_fr );
	}
	else {
		traceln("Grid battery has other consumption assets than 'other electricity consumption'");
		e.v_powerFraction_fr = 0;
	}
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1669022533963</Id>
					<Name><![CDATA[f_batteryManagementPriceCoop]]></Name>
					<Description><![CDATA[Regeling voor prijsgestuurd balancering van Coop-load.

@author: Gillis Hommen
@since: 28-12-2022]]></Description>
					<X>800</X><Y>299</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[currentBatteryStateOfCharge_fr]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[if (p_batteryAsset.getStorageCapacity_kWh() != 0){
	//double willingnessToPayDefault_eurpkWh = 0.3;
	double chargeDischarge_offset_eurpkWh = 0.0;
	double WTPfeedbackGain_eurpSOC = 0.5; // When SOC-error is 100%, adjust WTP price by 1 eurpkWh
	double priceGain = 2; // How strongly to ramp up power with price-delta's
	//double congestionTariffCoop_eurpkWh = -(((ConnectionOwner)p_ownerActor).p_CoopParent.v_electricitySurplus_kW + v_previousPowerElectricity_kW)/1200*0.1;
	
	double chargeSetpoint_kW = 0;	
	
	if(l_ownerActor.getConnectedAgent() instanceof ConnectionOwner) {
		ConnectionOwner ownerActor = (ConnectionOwner)l_ownerActor.getConnectedAgent();
		double currentElectricityPriceCharge_eurpkWh = ownerActor.f_getElectricityPrice(v_currentPowerElectricity_kW+100.0); // query price at 100kW charging
		double currentElectricityPriceDischarge_eurpkWh = ownerActor.f_getElectricityPrice(v_currentPowerElectricity_kW-100.0); // query price at -100kW charging
		v_electricityPriceLowPassed_eurpkWh += v_lowPassFactor_fr * ( currentElectricityPriceCharge_eurpkWh - v_electricityPriceLowPassed_eurpkWh );
		
		//double currentPricePowerBandPos_kW = ownerActor.v_priceBandsDelivery.ceilingKey(100.0); // Up to what power does this price hold?
		//double currentPricePowerBandNeg_kW = ownerActor.v_priceBandsDelivery.floorKey(100.0); // Down to what power does this price hold?

//		double SOC_setp_fr = 0.6 + 0.3 * Math.sin(2*Math.PI*(time(HOUR)-12)/24); // Sinusoidal setpoint: aim for low SOC at 6:00h, high SOC at 18:00h. 
//		double SOC_deficit_fr = SOC_setp_fr - currentBatteryStateOfCharge; // How far away from desired SOC? SOC too LOW is a POSITIVE deficit		
		double SOC_setp_fr = 0.5;			
		/*if (main.v_totalInstalledWindPower_kW > 5000) {
			SOC_setp_fr = 0.9 - 0.8 * main.v_WindYieldForecast_fr;
			//traceln("Forecast-based SOC setpoint: " + SOC_setp_fr + " %");
		} else if (main.v_totalInstalledPVPower_kW > 500) {
			
			SOC_setp_fr = 0.9 - 0.8 * main.v_SolarYieldForecast_fr;
		
		} else {
			SOC_setp_fr = 0.6 + 0.25 * Math.sin(2*Math.PI*(main.t_h-12)/24); // Sinusoidal setpoint: aim for low SOC at 6:00h, high SOC at 18:00h. 
		}*/
		double SOC_deficit_fr = SOC_setp_fr - currentBatteryStateOfCharge_fr;
		
		// Define WTP price for charging and discharging!
		double WTP_charge_eurpkWh = v_electricityPriceLowPassed_eurpkWh - chargeDischarge_offset_eurpkWh + SOC_deficit_fr * WTPfeedbackGain_eurpSOC;
		double WTP_discharge_eurpkWh = v_electricityPriceLowPassed_eurpkWh + chargeDischarge_offset_eurpkWh + SOC_deficit_fr * WTPfeedbackGain_eurpSOC;
		
		//traceln("WTP charge is " + WTP_charge_eurpkWh + " eurpkWh, discharge is " + WTP_discharge_eurpkWh + " eurpkWh");
		// Choose charging power based on prices and desired SOC level
		if ( WTP_charge_eurpkWh > currentElectricityPriceCharge_eurpkWh ) { // if willingness to pay higher than current electricity price
			//chargeSetpoint_kW = min(p_batteryAsset.getElectricCapacity_kW()*(WTP_charge_eurpkWh - currentElectricityPriceCharge_eurpkWh)*priceGain, currentPricePowerBandPos_kW)  ;
			chargeSetpoint_kW = p_batteryAsset.getElectricCapacity_kW()*(WTP_charge_eurpkWh - currentElectricityPriceCharge_eurpkWh)*priceGain ;
			//traceln("WTP charge " + WTP_charge_eurpkWh + " eurpkWh is high than electricity price " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, so charge!") ;
		} 
		else if (WTP_discharge_eurpkWh < currentElectricityPriceDischarge_eurpkWh) {
			//chargeSetpoint_kW = -min(p_batteryAsset.getElectricCapacity_kW()*(currentElectricityPriceDischarge_eurpkWh - WTP_discharge_eurpkWh)*priceGain, currentPricePowerBandPos_kW);
			chargeSetpoint_kW = -p_batteryAsset.getElectricCapacity_kW()*(currentElectricityPriceDischarge_eurpkWh - WTP_discharge_eurpkWh)*priceGain;
			//traceln("WTP discharge " + WTP_discharge_eurpkWh + " eurpkWh is lower than electricity price " + currentElectricityPriceCharge_eurpkWh + " eurpkWh, so discharge!") ;
		}
		
		// limit charging power to available connection capacity in Coop when applicable
		if(ownerActor.p_CoopParent instanceof EnergyCoop ) {	
			double currentCoopElectricitySurplus_kW = ownerActor.p_CoopParent.v_electricitySurplus_kW + v_previousPowerElectricity_kW;
			double CoopConnectionCapacity_kW = 0.9*ownerActor.p_CoopParent.p_connectionCapacity_kW; // Use only 90% of capacity for robustness against delay
			double availableChargePower_kW = currentCoopElectricitySurplus_kW + CoopConnectionCapacity_kW; // Max battery charging power within grid capacity
			double availableDischargePower_kW = currentCoopElectricitySurplus_kW - CoopConnectionCapacity_kW; // Max discharging power within grid capacity
			//traceln("Current Coop Electricity Surpluss: " + currentCoopElectricitySurplus_kW + " kW, battery power lower bound: " + availableDischargePower_kW + " kW");
			chargeSetpoint_kW = min(max(chargeSetpoint_kW, availableDischargePower_kW),availableChargePower_kW); // Don't allow too much (dis)charging!
		}			
	
		p_batteryAsset.v_powerFraction_fr = max(-1,min(1, chargeSetpoint_kW / p_batteryAsset.getElectricCapacity_kW())); // Convert to powerFraction and limit power
	}
}]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1678114662587</Id>
					<Name><![CDATA[f_batteryManagementBalanceCoop]]></Name>
					<Description><![CDATA[Regeling voor balancering van Coop-load.

@author: Gillis Hommen
@since: 28-12-2022]]></Description>
					<X>800</X><Y>280</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Parameter>
						<Name><![CDATA[batterySOC]]></Name>
						<Type><![CDATA[double]]></Type>
					</Parameter>
					<Body><![CDATA[if (p_batteryAsset.getStorageCapacity_kWh() != 0){	
	double currentCoopElectricitySurplus_kW = 0;
	double CoopConnectionCapacity_kW = 0;
	double v_previousPowerBattery_kW = p_batteryAsset.electricityConsumption_kW-p_batteryAsset.electricityProduction_kW;
	//traceln("Previous battery power: " + v_previousPowerElectricity_kW);
	if(l_ownerActor.getConnectedAgent() instanceof ConnectionOwner) {
		if(((ConnectionOwner)l_ownerActor.getConnectedAgent()).p_CoopParent instanceof EnergyCoop ) { // get electricity balance from Coop 			
			currentCoopElectricitySurplus_kW = ((ConnectionOwner)l_ownerActor.getConnectedAgent()).p_CoopParent.v_electricitySurplus_kW + v_previousPowerBattery_kW;
			CoopConnectionCapacity_kW = 0.9*((ConnectionOwner)l_ownerActor.getConnectedAgent()).p_CoopParent.v_allowedCapacity_kW; // Use only 90% of capacity for robustness against delay			
		} else { // Get gridload directly from node
			GridNode node = l_parentNodeElectric.getConnectedAgent();
			currentCoopElectricitySurplus_kW = -node.v_currentLoadElectricity_kW + v_previousPowerBattery_kW;			
			CoopConnectionCapacity_kW = 0.9*node.p_capacity_kW; // Use only 90% of capacity for robustness against delay
		}
	} else { // Get gridload directly from node
		GridNode node = l_parentNodeElectric.getConnectedAgent();
		currentCoopElectricitySurplus_kW = -node.v_currentLoadElectricity_kW + v_previousPowerBattery_kW;			
		CoopConnectionCapacity_kW = 0.95*node.p_capacity_kW; // Use only 90% of capacity for robustness against delay
	}
	//traceln("Operating buurtbatterij, current local surplus is %s kW.", currentCoopElectricitySurplus_kW);
	
	double availableChargePower_kW = CoopConnectionCapacity_kW + currentCoopElectricitySurplus_kW; // Max battery charging power within grid capacity
	double availableDischargePower_kW = currentCoopElectricitySurplus_kW - CoopConnectionCapacity_kW; // Max discharging power within grid capacity
	
	double FeedbackGain_kWpSOC = 2*1.5 * p_batteryAsset.getElectricCapacity_kW(); // How strongly to aim for SOC setpoint
	double FeedforwardGain_kWpKw = 0.1; // Feedforward based on current surpluss in Coop
	double chargeOffset_kW = 0; // Charging 'bias', basically increases SOC setpoint slightly during the whole day.
	double chargeSetpoint_kW = 0;
	
	double SOC_setp_fr = 0.5;
	/*if (main.v_totalInstalledWindPower_kW > 10000) {
		SOC_setp_fr = 0.95 - 0.95 * main.v_WindYieldForecast_fr - 0.9*main.v_SolarYieldForecast_fr;
		traceln("Forecast-based SOC setpoint: " + SOC_setp_fr + " %");
	} else if (main.v_totalInstalledWindPower_kW == 0 & main.v_totalInstalledPVPower_kW > 50) {		// this logic should activate for the buurtelektrificatie-casus	
		SOC_setp_fr = (0.7 + 0.2 * Math.sin(2*Math.PI*(time(HOUR)-10)/24))-2*main.v_SolarYieldForecast_fr; // Sinusoidal setpoint: aim for high SOC at 18:00h
		//traceln("Previous battery power: " + v_previousPowerElectricity_kW + ", previous Coop surpluss: " + currentCoopElectricitySurplus_kW);
		FeedforwardGain_kWpKw = 0.0; // Feedforward based on current surpluss in Coop			
	} else { // this logic should activate for the bedrijventerrein-casus	*/
	//if (main.v_totalInstalledWindPower_kW > 0) {
	
	FeedforwardGain_kWpKw = 0.1; // Feedforward based on current surpluss in Coop
	//SOC_setp_fr = (0.5 + 0.35 * Math.sin(2*Math.PI*(main.t_h-10)/24))*(1-0.8*main.v_WindYieldForecast_fr); // Sinusoidal setpoint: aim for low SOC at 6:00h, high SOC at 18:00h. 
	FeedforwardGain_kWpKw = 0.3; // Feedforward based on current surpluss in Coop
	FeedbackGain_kWpSOC = 0.6 * p_batteryAsset.getElectricCapacity_kW();
	SOC_setp_fr = (0.8);
	if (energyModel.v_totalInstalledWindPower_kW > 0) {
		SOC_setp_fr=SOC_setp_fr*(1-0.8*energyModel.v_WindYieldForecast_fr); 
	}
	//} else {
	//	FeedforwardGain_kWpKw = 0.0; // Feedforward based on current surpluss in Coop
	//	SOC_setp_fr = (0.8 + 0.2 * Math.sin(2*Math.PI*(main.t_h-10)/24)); // Sinusoidal setpoint: aim for low SOC at 6:00h, high SOC at 18:00h. 
	//}
	//}
	
	chargeSetpoint_kW = FeedforwardGain_kWpKw * (currentCoopElectricitySurplus_kW - chargeOffset_kW) + (SOC_setp_fr - batterySOC) * FeedbackGain_kWpSOC;
	chargeSetpoint_kW = min(max(chargeSetpoint_kW, availableDischargePower_kW),availableChargePower_kW); // Don't allow too much (dis)charging!
	p_batteryAsset.v_powerFraction_fr = max(-1,min(1, chargeSetpoint_kW / p_batteryAsset.getElectricCapacity_kW())); // Convert to powerFraction and limit power
	//traceln("Coop surpluss " + currentCoopElectricitySurplus_kW + "kW, Battery charging power " + p_batteryAsset.v_powerFraction_fr*p_batteryAsset.j_ea.getElectricCapacity_kW() + " kW at " + currentBatteryStateOfCharge*100 + " % SOC");
}
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1688369593905</Id>
					<Name><![CDATA[f_calculateEnergyBalance_overwrite]]></Name>
					<X>780</X><Y>180</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[v_previousPowerElectricity_kW = v_currentPowerElectricity_kW;
v_currentPowerElectricity_kW = 0;
v_currentPowerMethane_kW = 0;
v_currentPowerHydrogen_kW = 0;
v_currentPowerHeat_kW = 0;
v_currentPowerDiesel_kW = 0;
v_fixedConsumptionElectric_kW = 0;
v_electricHobConsumption_kW = 0;
v_evChargingPowerElectric_kW = 0;
v_batteryPowerElectric_kW = 0;
v_windProductionElectric_kW = 0;
v_pvProductionElectric_kW = 0;
v_conversionPowerElectric_kW = 0;

f_operateFlexAssets();
f_connectionMetering();

v_electricityTotalsCheck_kWh = v_electricityConsumedFixedProfile_kWh + v_electricityConvertedToX_kWh + v_electricityChargedByEVs_kWh  + v_electricityDeliveredToGrid_kWh 
- v_electricityProducedPV_kWh - v_electricityProducedWind_kWh - v_electricityDrawnFromGrid_kWh - v_xConvertedToElectricity_kWh + v_electricityChargedByBattery_kWh - v_electricityDischargedByBattery_kWh;

/*
// Total Energy Use and Production
v_totalEnergyUsed_kWh = 0;
v_totalEnergyProduced_kWh = 0;
for (EnergyAsset EA : c_energyAssets ) {
	double energyUse_kWh=EA.j_ea.getEnergyUsed_kWh();
	if (EA.j_ea instanceof J_EAConversionCurtailer) {
		v_totalEnergyProduced_kWh -= max(0, energyUse_kWh);
	} else {
		v_totalEnergyUsed_kWh += max(0, energyUse_kWh);
		v_totalEnergyProduced_kWh -= min(0, energyUse_kWh);
	}
}

v_selfConsumption_fr = 1 - (v_electricityDeliveredToGrid_kWh + v_heatDelivered_kWh + v_methaneDelivered_kWh + v_hydrogenDelivered_kWh + v_dieselDelivered_kWh ) / v_totalEnergyProduced_kWh; // Doesn't make sense to sum different energy carriers!
v_selfSufficiency_fr = 1 - (v_electricityDrawnFromGrid_kWh + v_heatDrawn_kWh + v_methaneDrawn_kWh + v_hydrogenDrawn_kWh + v_dieselDrawn_kWh) / v_totalEnergyUsed_kWh; // Need to account for energy in storages
v_maxConnectionLoad_fr = max(v_maxConnectionLoad_fr, abs(v_currentPowerElectricity_kW / v_allowedCapacity_kW ));
*/
if (energyModel.b_addKpiVisuals) {
	//pl_SOC.updateData();
	pl_powerFlows.updateData();
}
]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1666956363814</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1666957377035</Id>
					<Name><![CDATA[energyModel]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1666956363818</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
    			<TimePlot>
					<Id>1682065741241</Id>
					<Name><![CDATA[SOC_plot]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>840</X><Y>790</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<AutoUpdate>true</AutoUpdate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1682150400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Width>510</Width>
					<Height>270</Height>
					<BackgroundColor/>
					<BorderColor/>
					<ChartArea>
						<XOffset>50</XOffset>
						<YOffset>30</YOffset>
						<Width>430</Width>
						<Height>180</Height>
						<BackgroundColor>-1</BackgroundColor>
						<BorderColor>-16777216</BorderColor>
						<GridColor>-12566464</GridColor>
					</ChartArea>
					<Legend>
						<Place>SOUTH</Place>
						<TextColor>-16777216</TextColor>
						<Size>30</Size>
					</Legend>
					<Labels>
						<HorLabelsPosition>DEFAULT</HorLabelsPosition>
						<VerLabelsPosition>DEFAULT</VerLabelsPosition>
						<TextColor>-12566464</TextColor>
					</Labels>
					<ShowLegend>true</ShowLegend>
					<TimeWindowsMovementType>MOVEMENT_WITH_TIME</TimeWindowsMovementType>		
					<TimeWindowUnits>MODEL_TIME_UNIT</TimeWindowUnits>
					<VerScaleFromExpression><![CDATA[0]]></VerScaleFromExpression>
					<VerScaleToExpression><![CDATA[1]]></VerScaleToExpression>
					<VerScaleType>AUTO</VerScaleType>
					<DrawLine>true</DrawLine>
					<Interpolation>LINEAR</Interpolation>
					<DatasetExpression>  
						<Title><![CDATA[SOC]]></Title>
					<Id>0</Id>
					<Expression><![CDATA[my_dataset]]></Expression>
					<Color>-10496</Color>
					<Expression2><![CDATA[v_batterySOC_fr]]></Expression2>
					<Expression2Flag>true</Expression2Flag>
						<PointStyle>NONE</PointStyle>
						<LineWidth>1.0</LineWidth>
					</DatasetExpression>
					<SamplesToKeep>192</SamplesToKeep>
					<TimeWindowExpression><![CDATA[100]]></TimeWindowExpression>
					<FillAreaUnderLine>false</FillAreaUnderLine>
					<LabelFormat>MODEL_TIME_UNITS</LabelFormat>
    			</TimePlot>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1667726338857</Id>
			<Name><![CDATA[GIS_Area]]></Name>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1667726338855</Id>
				<Name><![CDATA[1667726338855]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1667808000000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1667726338853</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1667726338856</CurrentLevel>
			<ConnectionsId>1667726338852</ConnectionsId>
			<Variables>
				<Variable Class="Parameter">
					<Id>1697009799975</Id>
					<Name><![CDATA[gisRegion]]></Name>
					<X>50</X><Y>130</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[GISRegion]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1697009799973</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1697009799980</Id>
					<Name><![CDATA[p_longitude]]></Name>
					<X>50</X><Y>60</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1697009799978</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1697009799984</Id>
					<Name><![CDATA[p_latitude]]></Name>
					<X>50</X><Y>80</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1697009799982</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1697464235545</Id>
					<Name><![CDATA[p_AreaType]]></Name>
					<X>50</X><Y>20</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_AreaType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[OL_AreaType.BUSINESS]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1697464235543</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1702547667207</Id>
					<Name><![CDATA[p_GISRegionAreacoords]]></Name>
					<X>50</X><Y>150</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1702547667205</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1697009799967</Id>
					<Name><![CDATA[c_buildingsInArea]]></Name>
					<X>50</X><Y>200</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GIS_Building]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<AgentLinks>
				<AgentLink>
					<Id>1667726338852</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1697464974649</Id>
					<Name><![CDATA[energyModel]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1667726338856</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1672138285227</Id>
			<Name><![CDATA[GCUtility]]></Name>
			<AdditionalClassCode><![CDATA[@Override
public void f_operateFlexAssets(){
	f_operateFlexAssets_overwrite();
}]]></AdditionalClassCode>
			<ExtendsReference>
				<PackageName><![CDATA[zero_engine]]></PackageName>
				<ClassName><![CDATA[GridConnection]]></ClassName>
			</ExtendsReference>
			<Parameters>
				<Parameter>
					<Name><![CDATA[p_gridConnectionCategory]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_connectionCapacity_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeElectricID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gridConnectionID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_parentNodeHeatID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_BuildingThermalAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_primaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_ownerID]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_secondaryHeatingAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatingType]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyAssetList]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_chargingAttitudeVehicles]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_batteryAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoStart_h]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoEnd_h]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_nfatoLvl_kW]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_elektrolyserOperationMode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_curtailer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_heatBuffer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_gasBuffer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_cookingTracker]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyLabel]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_DHWAsset]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_GISbuilding]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_longitude]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_latitude]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_company_name]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_huisnummer]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_openbareR]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_company_connection_id]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_energyProfile]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_floorSurfaceArea_m2]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_GISPoint]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_woonplaats]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_huisletter]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_toevoeging]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_postcode]]></Name>
				</Parameter>
				<Parameter>
					<Name><![CDATA[p_pandIdentiteit]]></Name>
				</Parameter>
			</Parameters>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1672138285225</Id>
				<Name><![CDATA[1672138285225]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1672214400000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1672138285223</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1672138285226</CurrentLevel>
			<ConnectionsId>1672138285222</ConnectionsId>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1698936515692</Id>
					<Name><![CDATA[f_operateFlexAssets_overwrite]]></Name>
					<X>800</X><Y>220</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[f_manageHeatingAssets();
/*for ( J_EAStorage e : c_storageAssets ) {
	v_currentPowerHeat_kW += e.heatConsumption_kW - e.heatProduction_kW; //peter 13-3-23: ik snap niet waarom dit hier staat. dit komt in de knoop met andere storage assets (zoals batterij)
}*/

f_manageCharging();
/*for( J_EAVehicle v: c_vehicleAssets) {
	v_currentPowerElectricity_kW += v.electricityConsumption_kW - v.electricityProduction_kW;
}*/

v_currentLoadLowPassed_kW += v_lowPassFactorLoad_fr * ( v_currentPowerElectricity_kW - v_currentLoadLowPassed_kW ); //you want to do deterine the lowpassLoad BEFORE the using the battery. As this behavior of the battery should nog be dependent on the load of the battery in the previous timesteps

/*if( p_batteryAsset != null){
	switch (p_batteryOperationMode){
		case HOUSEHOLD_LOAD:
			f_batteryManagementBalance(v_batterySOC_fr);
		break;
		case PRICE:
			f_batteryManagementPrice_overwrite(v_batterySOC_fr);
		break;
		default:
		break;
	}
	v_batteryPowerElectric_kW =  p_batteryAsset.electricityConsumption_kW - p_batteryAsset.electricityProduction_kW;
	v_currentPowerElectricity_kW +=v_batteryPowerElectric_kW;
	v_batterySOC_fr = p_batteryAsset.getCurrentStateOfCharge();
}*/
]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1672138285222</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1696862765126</Id>
					<Name><![CDATA[energyModel]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>40</X><Y>-40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1672138285226</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>


				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1674662535386</Id>
			<Name><![CDATA[Actor]]></Name>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1674662535384</Id>
				<Name><![CDATA[1674662535384]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1674720000000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1674662535382</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1674662535385</CurrentLevel>
			<ConnectionsId>1674662535381</ConnectionsId>
			<Variables>
				<Variable Class="Parameter">
					<Id>1674662727346</Id>
					<Name><![CDATA[p_actorID]]></Name>
					<Description><![CDATA[Unique identifier of this actor in String format. Designated in Config-excel and used to link actors to netConnections.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>70</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1674662727344</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1674662727350</Id>
					<Name><![CDATA[p_actorType]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>90</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_ActorType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1674662727348</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1692112728484</Id>
					<Name><![CDATA[p_actorGroup]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>60</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1692112728482</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1692112731344</Id>
					<Name><![CDATA[p_actorSubgroup]]></Name>
					<Description><![CDATA[Actor type in OL_ActorType format. Designated in Config-excel and used to determine actor-type specific functionalities later.

@since: Sprint 6
@author: Gillis]]></Description>
					<X>160</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1692112731342</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
			</Variables>
			<AgentLinks>
				<AgentLink>
					<Id>1674662535381</Id>
					<Name><![CDATA[connections]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>60</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
				<AgentLink>
					<Id>1704289471860</Id>
					<Name><![CDATA[gridConnections]]></Name>
					<X>60</X><Y>-20</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentReferenceId>1658499438203</AgentReferenceId>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<BidirectionalPeerId>1671020599243</BidirectionalPeerId>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>


			<Presentation>
				<Level>
					<Id>1674662535385</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Line>
					<Id>1674662718508</Id>
					<Name><![CDATA[line]]></Name>
					<X>20</X><Y>40</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<ZHeight>10</ZHeight>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineMaterial>null</LineMaterial>
					<LineStyle>SOLID</LineStyle>
					<BeginArrowSize>1</BeginArrowSize>
					<BeginArrowStyle>0</BeginArrowStyle>
					<EndArrowSize>1</EndArrowSize>
					<EndArrowStyle>0</EndArrowStyle>
					<Dx>140</Dx>
					<Dy>0</Dy>
					<Dz>0</Dz>
				</Line>
				<Text>
					<Id>1674662718511</Id>
					<Name><![CDATA[text]]></Name>
					<X>50</X><Y>20</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[ID & connections]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>11</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>

		</ActiveObjectClass>
		<!--   =========   Active Object Class   ========  -->
		<ActiveObjectClass>
			<Id>1676382560905</Id>
			<Name><![CDATA[GIS_Building]]></Name>
			<Generic>false</Generic>
			<GenericParameter>
				<Id>1676382560900</Id>
				<Name><![CDATA[1676382560900]]></Name>
				<GenericParameterValue Class="CodeValue">
					<Code><![CDATA[T extends Agent]]></Code>
				</GenericParameterValue>
				<GenericParameterLabel><![CDATA[Generic parameter:]]></GenericParameterLabel>
			</GenericParameter>
			<FlowChartsUsage>ENTITY</FlowChartsUsage>
			<SamplesToKeep>100</SamplesToKeep>
			<LimitNumberOfArrayElements>false</LimitNumberOfArrayElements>
			<ElementsLimitValue>100</ElementsLimitValue>
			<MakeDefaultViewArea>true</MakeDefaultViewArea>
			<SceneGridColor/>
			<SceneBackgroundColor/>
			<SceneSkybox>null</SceneSkybox>
			<AgentProperties>
				<EnvironmentDefinesInitialLocation>true</EnvironmentDefinesInitialLocation>
				<RotateAnimationTowardsMovement>true</RotateAnimationTowardsMovement>
				<RotateAnimationVertically>false</RotateAnimationVertically>
				<VelocityCode Class="CodeUnitValue">
					<Code><![CDATA[10]]></Code>
					<Unit Class="SpeedUnits"><![CDATA[MPS]]></Unit>
				</VelocityCode>
				<PhysicalLength Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalLength>
				<PhysicalWidth Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalWidth>
				<PhysicalHeight Class="CodeUnitValue">
					<Code><![CDATA[1]]></Code>
					<Unit Class="LengthUnits"><![CDATA[METER]]></Unit>
				</PhysicalHeight>
			</AgentProperties>
			<EnvironmentProperties>
					<EnableSteps>false</EnableSteps>
					<StepDurationCode Class="CodeUnitValue">
						<Code><![CDATA[1.0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[SECOND]]></Unit>
					</StepDurationCode>
					<SpaceType>CONTINUOUS</SpaceType>
					<WidthCode><![CDATA[500]]></WidthCode>
					<HeightCode><![CDATA[500]]></HeightCode>
					<ZHeightCode><![CDATA[0]]></ZHeightCode>
					<ColumnsCountCode><![CDATA[100]]></ColumnsCountCode>
					<RowsCountCode><![CDATA[100]]></RowsCountCode>
					<NeigborhoodType>MOORE</NeigborhoodType>
					<LayoutType>USER_DEF</LayoutType>
					<LayoutTypeApplyOnStartup>true</LayoutTypeApplyOnStartup>
					<NetworkType>USER_DEF</NetworkType>
					<NetworkTypeApplyOnStartup>true</NetworkTypeApplyOnStartup>
					<ConnectionsPerAgentCode><![CDATA[2]]></ConnectionsPerAgentCode>
					<ConnectionsRangeCode><![CDATA[50]]></ConnectionsRangeCode>
					<NeighborLinkFractionCode><![CDATA[0.95]]></NeighborLinkFractionCode>
					<MCode><![CDATA[10]]></MCode>
			</EnvironmentProperties>
			<DatasetsCreationProperties>
				<AutoCreate>true</AutoCreate>
					<OccurrenceAtTime>true</OccurrenceAtTime>
					<OccurrenceDate>1663833600000</OccurrenceDate>
					<OccurrenceTime Class="CodeUnitValue">
						<Code><![CDATA[0]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</OccurrenceTime>
					<RecurrenceCode Class="CodeUnitValue">
						<Code><![CDATA[1]]></Code>
						<Unit Class="TimeUnits"><![CDATA[HOUR]]></Unit>
					</RecurrenceCode>
			</DatasetsCreationProperties>
			<ScaleRuler>
				<Id>1676382560901</Id>
				<Name><![CDATA[scale]]></Name>
				<X>0</X><Y>-150</Y>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>false</PresentationFlag>
				<ShowLabel>false</ShowLabel>
				<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
				<Length>100</Length>
				<Rotation>0</Rotation>
				<ScaleType>BASED_ON_LENGTH</ScaleType>
				<ModelLength>10</ModelLength>
				<LengthUnits>METER</LengthUnits>
				<Scale>10</Scale>
				<InheritedFromParentAgentType>true</InheritedFromParentAgentType>
			</ScaleRuler>
			<CurrentLevel>1676382560913</CurrentLevel>
			<ConnectionsId>1676382560915</ConnectionsId>
			<Variables>
				<Variable Class="PlainVariable">
					<Id>1696856781368</Id>
					<Name><![CDATA[ar_countEnergyLabels]]></Name>
					<X>20</X><Y>620</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1696856781371</Id>
					<Name><![CDATA[ar_countHeatSystems]]></Name>
					<X>30</X><Y>290</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[int[]]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="PlainVariable">
					<Id>1697018028202</Id>
					<Name><![CDATA[v_currentColor]]></Name>
					<X>180</X><Y>110</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" Constant="false" AccessType="public" StaticVariable="false">
						<Type><![CDATA[Color]]></Type>        
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1676641559092</Id>
					<Name><![CDATA[gisRegion]]></Name>
					<X>40</X><Y>58</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[GISRegion]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1676641559090</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1696858052529</Id>
					<Name><![CDATA[p_status]]></Name>
					<X>39</X><Y>77</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1696858052527</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1696858052537</Id>
					<Name><![CDATA[p_longitude]]></Name>
					<X>39</X><Y>97</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1696858052535</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1696858052543</Id>
					<Name><![CDATA[p_latitude]]></Name>
					<X>39</X><Y>117</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1696858052541</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1696858052547</Id>
					<Name><![CDATA[p_useType]]></Name>
					<X>39</X><Y>137</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1696858052545</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1696858052551</Id>
					<Name><![CDATA[p_buildingType]]></Name>
					<X>39</X><Y>157</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[OL_BuildingType]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<DefaultValue Class="CodeValue">
							<Code><![CDATA[OL_BuildingType.Office]]></Code>
						</DefaultValue>
						<ParameterEditor>
							<Id>1696858052549</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1696858052555</Id>
					<Name><![CDATA[p_buildingYear]]></Name>
					<X>39</X><Y>177</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1696858052553</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1696858052560</Id>
					<Name><![CDATA[p_surfaceArea]]></Name>
					<X>39</X><Y>197</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1696858052558</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1696858052564</Id>
					<Name><![CDATA[p_floors]]></Name>
					<X>39</X><Y>217</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[double]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1696858052562</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1697017325815</Id>
					<Name><![CDATA[p_id]]></Name>
					<X>40</X><Y>38</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1697017325813</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1699886184107</Id>
					<Name><![CDATA[p_GISRegion_coords]]></Name>
					<X>40</X><Y>240</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1699886184105</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>                 
				</Variable>
				<Variable Class="Parameter">
					<Id>1702460377737</Id>
					<Name><![CDATA[p_buildingAdress]]></Name>
					<X>580</X><Y>170</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1702460377735</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1702460377745</Id>
					<Name><![CDATA[p_buildingName]]></Name>
					<X>580</X><Y>190</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1702460377743</Id>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="Parameter">
					<Id>1702460377748</Id>
					<Name><![CDATA[p_detailedCompany]]></Name>
					<Description><![CDATA[Is het een bedrijf dat in detail gemodeleerd gaat worden? ja, nee, misschien]]></Description>
					<X>580</X><Y>210</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" ModificatorType="STATIC">
						<Type><![CDATA[String]]></Type>
						<UnitType><![CDATA[NONE]]></UnitType>
						<SdArray>false</SdArray>
						<ParameterEditor>
							<Id>1702460377746</Id>
							<Label><![CDATA[p_detailedCompany]]></Label>
							<EditorContolType>TEXT_BOX</EditorContolType>
							<MinSliderValue><![CDATA[0]]></MinSliderValue>
							<MaxSliderValue><![CDATA[100]]></MaxSliderValue>
							<DelimeterType>NO_DELIMETER</DelimeterType>
						</ParameterEditor>
					</Properties>
				</Variable>
				<Variable Class="CollectionVariable">
					<Id>1696866057758</Id>
					<Name><![CDATA[c_gridConnectionsInBuilding]]></Name>
					<X>30</X><Y>320</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Properties SaveInSnapshot="true" AccessType="public" StaticVariable="false">
						<CollectionClass><![CDATA[ArrayList]]></CollectionClass>
						<ElementClass><![CDATA[GridConnection]]></ElementClass>
						<ValueElementClass><![CDATA[String]]></ValueElementClass>
					</Properties>

				</Variable>
			</Variables>
			<Functions>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1696856781363</Id>
					<Name><![CDATA[f_findGisRegion]]></Name>
					<ExcludeFromBuild>true</ExcludeFromBuild>
					<X>22</X><Y>16</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[for ( GISRegion r : main.c_buildingGISRegions ) {
	if ( r.contains( p_latitude, p_longitude )) {
		gisRegion = r;
		gisRegion.setVisible(true);
		gisRegion.setLineColor( black );
		gisRegion.setLineStyle( LINE_STYLE_SOLID );
		gisRegion.setLineWidth( 0.3 );
		//gisRegion.setFillColor( new Color(205, 133, 63, 90) );
		gisRegion.setFillColor( blue );
		//traceln("GISregion found for building " + this);
	}
	if (gisRegion != null){
		break;
	}
}

//If a building has no region
if (gisRegion == null ) {
	traceln(this.getName() + " has no GIS area");
	//gisRegion = main.gisRegionUnknown;
}
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1696924186553</Id>
					<Name><![CDATA[f_countEnergyLabels]]></Name>
					<X>180</X><Y>15</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[traceln("f_countEnergyLabels is not functional!");
]]></Body>
				</Function>
				<Function AccessType="public" StaticFunction="false">
					<ReturnModificator>VOID</ReturnModificator>
					<ReturnType><![CDATA[double]]></ReturnType>
					<Id>1697017421161</Id>
					<Name><![CDATA[f_listGridConnectionsInBuilding]]></Name>
					<X>180</X><Y>37</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<Body><![CDATA[if (gisRegion != null) {
	for (GridConnection GC : energyModel.c_gridConnections){
		if (gisRegion.contains( GC.p_latitude, GC.p_longitude )){
			c_gridConnectionsInBuilding.add(GC);
			GC.p_GISbuilding = this;
			//x.buildingTypeGIS = p_buildingType;
		}
	}
}]]></Body>
				</Function>
			</Functions>
			<AgentLinks>
				<AgentLink>
					<Id>1676382560915</Id>
					<Name><![CDATA[connections]]></Name>
					<X>50</X><Y>-50</Y>
					<Label><X>15</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<HandleReceiveInConnections>false</HandleReceiveInConnections>
					<AgentLinkType>COLLECTION_OF_LINKS</AgentLinkType>
					<AgentLinkBidirectional>true</AgentLinkBidirectional>
					<MessageType><![CDATA[Object]]></MessageType>
					<LineStyle>SOLID</LineStyle>
					<LineWidth>1</LineWidth>
					<LineColor>-16777216</LineColor>
					<LineZOrder>UNDER_AGENTS</LineZOrder>
					<LineArrow>NONE</LineArrow>
					<LineArrowPosition>END</LineArrowPosition>
				</AgentLink>
			</AgentLinks>

			<ContainerLinks>
				<ContainerLink>
					<Id>1676382645186</Id>
					<Name><![CDATA[energyModel]]></Name>
					<X>50</X><Y>-100</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>true</ShowLabel>
					<ActiveObjectClass>
						<PackageName><![CDATA[zero_engine]]></PackageName>
						<ClassName><![CDATA[EnergyModel]]></ClassName>
					</ActiveObjectClass>
				</ContainerLink>
			</ContainerLinks>

			<Presentation>
				<Level>
					<Id>1676382560913</Id>
					<Name><![CDATA[level]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>10</X><Y>0</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D3D</DrawMode>
					<Z>0</Z>
					<LevelVisibility>DIM_NON_CURRENT</LevelVisibility>

			<Presentation>
				<Text>
					<Id>1702460377734</Id>
					<Name><![CDATA[text10]]></Name>
					<X>570</X><Y>140</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>true</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<DrawMode>SHAPE_DRAW_2D</DrawMode>
					<EmbeddedIcon>false</EmbeddedIcon>
					<Z>0</Z>
					<Rotation>0.0</Rotation>
					<Color>-16777216</Color>
					<Text><![CDATA[Toegevoegd_door_Ate]]></Text>
					<Font>
						<Name>SansSerif</Name>
						<Size>10</Size>
						<Style>0</Style>
					</Font>
					<Alignment>LEFT</Alignment>
				</Text>
			</Presentation>

				</Level>
			</Presentation>
			<Areas>
				<Area>
					<Id>1697018621698</Id>
					<Name><![CDATA[va_building]]></Name>
					<X>0</X><Y>0</Y>
					<Label><X>0</X><Y>-10</Y></Label>
					<PublicFlag>false</PublicFlag>
					<PresentationFlag>true</PresentationFlag>
					<ShowLabel>false</ShowLabel>
					<Title><![CDATA[]]></Title>
					<Width>1920</Width>
					<Height>980</Height>
				</Area>
			</Areas>

		</ActiveObjectClass>
	</ActiveObjectClasses>	
	<DifferentialEquationsMethod>EULER</DifferentialEquationsMethod>
	<MixedEquationsMethod>RK45_NEWTON</MixedEquationsMethod>
	<AlgebraicEquationsMethod>MODIFIED_NEWTON</AlgebraicEquationsMethod>
	<AbsoluteAccuracy>1.0</AbsoluteAccuracy>
	<FixedTimeStep>1.0</FixedTimeStep>
	<RelativeAccuracy>1.0</RelativeAccuracy>
	<TimeAccuracy>0.1</TimeAccuracy>
	<Frame>
		<Width>1920</Width>
		<Height>980</Height>
	</Frame>
	<Database>
		<Logging>false</Logging>
		<AutoExport>false</AutoExport>
		<ShutdownCompact>false</ShutdownCompact>
		<ImportSettings>
			<ExternalConnection>
				<Id>1659337777421</Id>
				<Name><![CDATA[database]]></Name>
				<X>0</X><Y>0</Y>
				<Label><X>10</X><Y>0</Y></Label>
				<PublicFlag>false</PublicFlag>
				<PresentationFlag>true</PresentationFlag>
				<ShowLabel>true</ShowLabel>
				<DatabaseType>EXCEL_ACCESS</DatabaseType>
				<ConnectionURL><![CDATA[]]></ConnectionURL>
				<ConnectOnStartup>true</ConnectOnStartup>
				<DatabaseName><![CDATA[]]></DatabaseName>
				<ResourceReference>
					<PackageName><![CDATA[zero_engine]]></PackageName>
					<ClassName><![CDATA[db_profiles.xlsx]]></ClassName>
				</ResourceReference>
				<Host><![CDATA[localhost]]></Host>
				<JdbcDriverClassName><![CDATA[net.sourceforge.jtds.jdbc.Driver]]></JdbcDriverClassName>
				<Login><![CDATA[]]></Login>
				<Password><![CDATA[]]></Password>
			</ExternalConnection>
			<TableImportSettings>
				<TableReference>
					<PackageName><![CDATA[zero_engine]]></PackageName>
					<ClassName><![CDATA[profiles]]></ClassName>
				</TableReference>
				<ConnectionIndex>0</ConnectionIndex>
				<ExternalTableName><![CDATA["profiles"]]></ExternalTableName>
				<AutoImport>false</AutoImport>
			</TableImportSettings>
		</ImportSettings>
		<ExportSettings>
		</ExportSettings>
	</Database>
	
	<RunConfiguration ActiveObjectClassId="1658477103140">
		<Id>1658477103163</Id>
		<Name><![CDATA[RunConfiguration]]></Name>
		<MaximumMemory>4096</MaximumMemory>
		<ModelTimeProperties>
			<StopOption><![CDATA[Stop at specified date]]></StopOption>
			<InitialDate><![CDATA[1640995200000]]></InitialDate>	
			<InitialTime><![CDATA[0.0]]></InitialTime>	
			<FinalDate><![CDATA[1672531200000]]></FinalDate>	
			<FinalTime><![CDATA[8760.0]]></FinalTime>	
		</ModelTimeProperties>
		<AnimationProperties>
			<StopNever>false</StopNever>
			<ExecutionMode>realTimeScaled</ExecutionMode>
			<RealTimeScale>10.0</RealTimeScale>
			<EnableZoomAndPanning>true</EnableZoomAndPanning>
			<EnableDeveloperPanel>true</EnableDeveloperPanel>
			<ShowDeveloperPanelOnStart>false</ShowDeveloperPanelOnStart>
		</AnimationProperties>
		<Inputs>
    		<RunConfigurationInput>
				<Id>1661517220706</Id>
				<Name><![CDATA[P time step h]]></Name>
				<InputReference>
					<PackageName><![CDATA[zero_engine]]></PackageName>
					<ClassName><![CDATA[EnergyModel]]></ClassName>
					<ItemName><![CDATA[p_timeStep_h]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1661517213660</Id>
				<Name><![CDATA[B add kpi visuals]]></Name>
				<InputReference>
					<PackageName><![CDATA[zero_engine]]></PackageName>
					<ClassName><![CDATA[EnergyModel]]></ClassName>
					<ItemName><![CDATA[b_addKpiVisuals]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>
    		<RunConfigurationInput>
				<Id>1663577689860</Id>
				<Name><![CDATA[P parallelize]]></Name>
				<InputReference>
					<PackageName><![CDATA[zero_engine]]></PackageName>
					<ClassName><![CDATA[EnergyModel]]></ClassName>
					<ItemName><![CDATA[p_parallelize]]></ItemName>
				</InputReference>
    		</RunConfigurationInput>		
		</Inputs>
		<Outputs>
		</Outputs>
	</RunConfiguration>
	<Experiments>	
		<!--   =========   Simulation Experiment   ========  -->
		<SimulationExperiment ActiveObjectClassId="1658477103140">
			<Id>1658477103156</Id>
			<Name><![CDATA[Simulation]]></Name>
			<CommandLineArguments><![CDATA[]]></CommandLineArguments>
			<MaximumMemory>4096</MaximumMemory>
			<RandomNumberGenerationType>fixedSeed</RandomNumberGenerationType>
			<CustomGeneratorCode>new Random()</CustomGeneratorCode>
			<SeedValue>1</SeedValue>
			<SelectionModeForSimultaneousEvents>LIFO</SelectionModeForSimultaneousEvents>
			<VmArgs><![CDATA[]]></VmArgs>
			<LoadRootFromSnapshot>false</LoadRootFromSnapshot>


			<Parameters>			
				<Parameter>
					<ParameterName><![CDATA[p_timeStep_h]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[b_addKpiVisuals]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_undergroundTemperature_degC]]></ParameterName>
					<ParameterValue Class="CodeValue">
						<Code><![CDATA[10]]></Code>
					</ParameterValue>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[j_dataOut]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[j_experimentSettingsData]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_parallelize]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[j_simulationResults]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_forecastTime_h]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[j_hourlyCurvesData]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[b_anylogicCostsForAllContracts]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[b_storeProfiles]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_startHourWinterWeek]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_startHourSummerWeek]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_plotInterval_h]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_truckTripsExcel]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_householdTripsExcel]]></ParameterName>
				</Parameter>
				<Parameter>
					<ParameterName><![CDATA[p_cookingPatternExcel]]></ParameterName>
				</Parameter>
			</Parameters>			
			<PresentationProperties>
				<EnableZoomAndPanning>true</EnableZoomAndPanning>
				<ExecutionMode><![CDATA[realTimeScaled]]></ExecutionMode>
				<Title><![CDATA[MainModel : Simulation]]></Title>	
				<EnableDeveloperPanel>true</EnableDeveloperPanel>
				<ShowDeveloperPanelOnStart>false</ShowDeveloperPanelOnStart>
				<RealTimeScale>25.0</RealTimeScale>
			</PresentationProperties>
			<ModelTimeProperties>
				<StopOption><![CDATA[Stop at specified time]]></StopOption>
				<InitialDate><![CDATA[1640995200000]]></InitialDate>	
				<InitialTime><![CDATA[0.0]]></InitialTime>	
				<FinalDate><![CDATA[1672531200000]]></FinalDate>	
				<FinalTime><![CDATA[8760.0]]></FinalTime>	
			</ModelTimeProperties>
			<BypassInitialScreen>true</BypassInitialScreen>
		</SimulationExperiment>	
	</Experiments>
	<JavaClasses>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659091451342</Id>
			<Name><![CDATA[J_EAProduction]]></Name>
			<Text><![CDATA[/**
 * J_EAProduction
 */
public class J_EAProduction extends zero_engine.J_EA implements Serializable {
	//public double yearlyProductionElectricity_kWh;
	//public double yearlyProductionHeat_kWh;
	public double yearlyProductionHydrogen_kWh;
	public double yearlyProductionMethane_kWh;
	protected double outputTemperature_degC;
    /**
     * Default constructor
     */
	public J_EAProduction() {
    }

	/**
     * Constructor initializing the fields
     */
	public J_EAProduction(Agent parentAgent, OL_EnergyAssetType type, String name, double capacityElectric_kW ,double capacityHeat_kW, double yearlyProductionMethane_kWh, double yearlyProductionHydrogen_kWh, double timestep_h, double outputTemperature_degC) {
	    this.parentAgent = parentAgent;
	    this.energyAssetType = type;
	    this.energyAssetName = name;
	    this.capacityElectric_kW = capacityElectric_kW;
	    this.capacityHeat_kW = capacityHeat_kW;
		this.yearlyProductionHydrogen_kWh = yearlyProductionHydrogen_kWh;
		this.yearlyProductionMethane_kWh = yearlyProductionMethane_kWh;
	    this.timestep_h = timestep_h;
	    this.outputTemperature_degC = outputTemperature_degC;
//	    traceln("I am instantiated! "+this+" owned by "+ownerAsset);
	}
	
	public void setCapacityElectric_kW(double capacityElectric_kW) {
		this.capacityElectric_kW = capacityElectric_kW;
	}

	@Override
    public double[] operate(double ratioOfCapacity) {
    	this.electricityProduction_kW = ratioOfCapacity * capacityElectric_kW;
    	this.heatProduction_kW = ratioOfCapacity * capacityHeat_kW;
    	this.hydrogenProduction_kW = ratioOfCapacity * yearlyProductionHydrogen_kWh;
    	this.methaneProduction_kW = ratioOfCapacity * yearlyProductionMethane_kWh;
    	energyUse_kW = -(electricityProduction_kW + heatProduction_kW + hydrogenProduction_kW + methaneProduction_kW);
    	energyUsed_kWh += energyUse_kW * timestep_h;
    	//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
    	// debugging checks:
    	this.heatProduced_kWh += this.heatProduction_kW * timestep_h;
    	
    	return returnEnergyFlows();
	}

	@Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"parentAgent = " + parentAgent +" " +
			"capacityElectricity_kW = " + capacityElectric_kW +" "+
			"capacityHeat_kW = " + capacityHeat_kW +" "+
			"outputTemperature_degC = " + outputTemperature_degC + " "+
			"heatProduced_kWh = "+ this.heatProduced_kWh +  " ";
	}

	public String getOwnerAgent() {
		return parentAgent.agentInfo();
	}

	public double getCurrentTemperature() {
		return outputTemperature_degC;
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659091479591</Id>
			<Name><![CDATA[J_EAStorage]]></Name>
			<Text><![CDATA[/**
 * J_EAStorage
 */
public class J_EAStorage extends J_EA implements Serializable {

	protected OL_EnergyCarrierType storageMedium;
	protected double storageCapacity_kWh;
	protected double stateOfCharge_r;
	protected double initialStateOfCharge_r;
	protected double stateOfChargeStored_r;
	protected double lossFactor_r;
	protected double timestep_h;
	protected double ambientTemperature_degC;
	protected String ambientTempType;
	protected double discharged_kWh = 0;
	protected double charged_kWh = 0;

    /**
     * Default constructor
     */
    public J_EAStorage() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAStorage(Agent parentAgent, double chargeCapacityElectric_kW, double chargeCapacityHeat_kW, OL_EnergyCarrierType storageMedium, double storageCapacity_kWh, double stateOfCharge, double lossFactor, double timestep_h, String ambientTempType) {
		this.parentAgent = parentAgent;
		this.capacityElectric_kW = chargeCapacityElectric_kW;  // capacity for charging/discharging in kW
		this.capacityHeat_kW = chargeCapacityHeat_kW;				// capacity for charging/discharging in kW
		this.storageMedium = storageMedium;
		this.storageCapacity_kWh = storageCapacity_kWh;
		this.initialStateOfCharge_r = stateOfCharge;
		this.stateOfCharge_r = initialStateOfCharge_r;
		this.lossFactor_r = lossFactor;
		this.timestep_h = timestep_h;
		this.ambientTempType = ambientTempType;
    }

    public void calculateLoss() {
    	//
    }

    public double[] operate(double ratioOfChargeCapacity_r) {
    	// traceln("storage operate! ");
    	//double[] arr = {0,0,0,0,0,0,0,0};
    	//return arr;
    	return returnEnergyFlows();
    }

    public void updateStateOfCharge( double flow_kW ) {
		stateOfCharge_r = ( (stateOfCharge_r * storageCapacity_kWh) - flow_kW * timestep_h ) / storageCapacity_kWh;
	}
	
    @Override
    public void storeStatesAndReset() {
    	// Each energy asset that has some states should overwrite this function!
    	energyUsedStored_kWh = energyUsed_kWh;
    	energyUsed_kWh = 0.0;
    	stateOfChargeStored_r = stateOfCharge_r;
    	stateOfCharge_r = initialStateOfCharge_r;    
    	charged_kWh = 0;
    	discharged_kWh = 0;
    	resetFlows();    	
    }
    
	@Override
    public void restoreStates() {
    	// Each energy asset that has some states should overwrite this function!
    	energyUsed_kWh = energyUsedStored_kWh;    	
    	stateOfCharge_r = stateOfChargeStored_r;
    }
    
	// acces current state of charge
	@Override
	public double getCurrentStateOfCharge() {
    	return stateOfCharge_r;
	}

	@Override
	public double getCurrentTemperature() {
		return 0;
	}

	@Override
	public void updateAmbientTemperature(double currentAmbientTemperature_degC) {
		//
	}

    @Override
	public String toString() {
		return super.toString();
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659091488030</Id>
			<Name><![CDATA[J_EAConversion]]></Name>
			<Text><![CDATA[/**
 * J_EAConversion
 */
public class J_EAConversion extends zero_engine.J_EA implements Serializable {

	protected OL_EnergyCarrierType energyCarrierProduced;
	protected OL_EnergyCarrierType energyCarrierConsumed;
	/**
     * Default constructor
     */
    public J_EAConversion() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversion(Agent parentAgent, double capacityElectric_kW, double capacityHeat_kW, double efficiency_r, OL_EnergyCarrierType energyCarrierProduced, OL_EnergyCarrierType energyCarrierConsumed, double timestep_h) {
	    this.parentAgent = parentAgent;
	    this.capacityElectric_kW = capacityElectric_kW;
	    this.capacityHeat_kW = capacityHeat_kW;
	    this.eta_r = efficiency_r;
	    this.energyCarrierProduced = energyCarrierProduced;
	    this.energyCarrierConsumed = energyCarrierConsumed;
	    this.timestep_h = timestep_h;
	}

	@Override
	public double[] operate(double ratioOfCapacity) {
		//
		double[] arr = {0,0,0,0,0,0,0,0,0 };
    	return arr;
	}

    @Override
	public String toString() {
		return super.toString();
	}

	public String getOwnerAgent() {
		return parentAgent.agentInfo();
	}
	


	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}                         ]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659104834899</Id>
			<Name><![CDATA[J_EAConsumption]]></Name>
			<Text><![CDATA[/**
 * J_EAConsumption
 */
public class J_EAConsumption extends zero_engine.J_EA implements Serializable {
	public double yearlyDemandElectricity_kWh;
	public double yearlyDemandHeat_kWh;
	public double yearlyDemandHydrogen_kWh;
	public double yearlyDemandMethane_kWh;
	public double yearlyDemandDiesel_kWh;
	/**
     * Default constructor
     */
    public J_EAConsumption() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConsumption(Agent parentAgent, OL_EnergyAssetType type, String name, double yearlyDemandElectricity_kWh, double yearlyDemandHeat_kWh, double yearlyDemandHydrogen_kWh, double yearlyDemandMethane_kWh, double yearlyDemandDiesel_kWh, double timestep_h) {
		this.energyAssetName = name;
		this.energyAssetType = type;
    	this.parentAgent = parentAgent;
		this.yearlyDemandElectricity_kWh = yearlyDemandElectricity_kWh;
		this.yearlyDemandHeat_kWh = yearlyDemandHeat_kWh;
		this.yearlyDemandHydrogen_kWh = yearlyDemandHydrogen_kWh;
		this.yearlyDemandMethane_kWh = yearlyDemandMethane_kWh;
		this.yearlyDemandDiesel_kWh = yearlyDemandDiesel_kWh;
		this.timestep_h = timestep_h;
    }

	@Override
    public double[] operate(double ratioOfCapacity) {
    	this.electricityConsumption_kW = ratioOfCapacity * yearlyDemandElectricity_kWh;
    	this.heatConsumption_kW = ratioOfCapacity * yearlyDemandHeat_kWh;
    	this.hydrogenConsumption_kW = ratioOfCapacity * yearlyDemandHydrogen_kWh;
    	this.methaneConsumption_kW = ratioOfCapacity * yearlyDemandMethane_kWh;
    	this.dieselConsumption_kW = ratioOfCapacity * yearlyDemandDiesel_kWh;

    	//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
    	energyUse_kW = electricityConsumption_kW + heatConsumption_kW + hydrogenConsumption_kW + methaneConsumption_kW + dieselConsumption_kW;
    	energyUsed_kWh += energyUse_kW * timestep_h;
    	return returnEnergyFlows();
   	}

	@Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"parentAgent = " + parentAgent +" " +
			"yearlyDemandElectricity_kWh = " + yearlyDemandElectricity_kWh +" "+
			"yearlyDemandHeat_kWh = " + yearlyDemandHeat_kWh +" "+
			"yearlyDemandHydrogen_kWh = " + yearlyDemandHydrogen_kWh +" "+
			"yearlyDemandMethane_kWh = " + yearlyDemandMethane_kWh +" " +
			"yearlyDemandDiesel_kWh = " + yearlyDemandDiesel_kWh +" ";
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659108919926</Id>
			<Name><![CDATA[J_EA]]></Name>
			<Text><![CDATA[/**
 * J_EA
 */
public class J_EA implements Cloneable {

	 public Agent parentAgent;
	 public OL_EnergyAssetType energyAssetType;
	 public String energyAssetName;
	 public double v_powerFraction_fr = 0;
 
	 protected double capacityElectric_kW;
	 protected double capacityHeat_kW;
	 protected double capacityGas_kW;
	 protected double energyUsed_kWh = 0.0;
	 protected double energyUse_kW = 0.0;
	 protected double energyUsedStored_kWh = 0.0;
  	 protected double timestep_h;
  	 public double eta_r;

	 public double electricityProduction_kW = 0.0;
	 public double heatProduction_kW = 0.0;
	 public double methaneProduction_kW = 0.0;
	 public double hydrogenProduction_kW = 0.0;
	 public double electricityConsumption_kW = 0.0;
	 public double methaneConsumption_kW = 0.0;
	 public double hydrogenConsumption_kW = 0.0;
	 public double heatConsumption_kW = 0.0;
	 public double dieselConsumption_kW = 0.0;
	 
	 // debugging purposes!
	 protected double heatProduced_kWh = 0.0;
	 protected double heatConsumed_kWh = 0.0;
	 protected double electricityProduced_kWh = 0.0;

    /**
     * Default constructor
     */
    public J_EA() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EA(Agent parentAgent, double capacityElectric_kW, double capacityHeat_kW, double capacityGas_kW) {
		this.parentAgent = parentAgent;
		this.capacityElectric_kW = capacityElectric_kW;
		this.capacityHeat_kW = capacityHeat_kW;
		this.capacityGas_kW = capacityGas_kW;
    }

    public void f_updateAllFlows(double powerFraction_fr) {
    	resetFlows();
     	double powerFractionBounded_fr = min(1,max(-1, powerFraction_fr));
    	double[] arr = operate(powerFractionBounded_fr);
    	//double[] arr=operateBounded(powerFraction_fr);
    	//return arr;
    	if (parentAgent instanceof GridConnection) {    		
    		((GridConnection)parentAgent).f_addFlows(arr);
    	}
    }
    
    public void resetFlows() {
    	//traceln("parent energyAsset reset ");
    	electricityProduction_kW = 0;
    	heatProduction_kW = 0;
    	methaneProduction_kW = 0;
    	hydrogenProduction_kW = 0;
    	electricityConsumption_kW = 0;
    	methaneConsumption_kW = 0;
    	hydrogenConsumption_kW = 0;
    	heatConsumption_kW = 0;
    	dieselConsumption_kW = 0;
    	energyUse_kW = 0;
    }

  /*  public double[] operateBounded(double ratioOfCapacity) { // There should not be an option to bypass this!
    	double limitedRatioOfCapacity = min(1,max(-1, ratioOfCapacity));
    	double[] arr = operate(limitedRatioOfCapacity);
    	return arr;
    }
   */
    public double[] operate(double ratioOfCapacity) {
    	traceln("***Warning*** Parent energyAsset operate! This is a dummy function, doing nothing!");
    	double[] arr = returnEnergyFlows(); //{electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	return arr;
    }

    public double[] returnEnergyFlows() {
    	//traceln("returning energy flows from superclass");
    	if (parentAgent instanceof GridConnection ) {
    		if(this instanceof J_EAConversionCurtailer) {    			
	    		((GridConnection)parentAgent).v_currentEnergyProduction_kW -= max(0,energyUse_kW);    			
	    		((GridConnection)parentAgent).v_currentEnergyCurtailed_kW += max(0,energyUse_kW);    			
    		} else {
	    		((GridConnection)parentAgent).v_currentEnergyConsumption_kW += max(0,energyUse_kW);
	    		((GridConnection)parentAgent).v_currentEnergyProduction_kW += max(0,-energyUse_kW);
    		}
    	}
    	double[] arr = {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW, dieselConsumption_kW };    	
    	return arr;
    }
    
    public double getCurrentStateOfCharge() {
    	return 0;
    }

    public void storeStatesAndReset() {
    	// Each energy asset that has some states should overwrite this function!
    	energyUsedStored_kWh = energyUsed_kWh;
    	energyUsed_kWh = 0.0;
    	resetFlows();    	
    }
    
    public void restoreStates() {
    	// Each energy asset that has some states should overwrite this function!
    	energyUsed_kWh = energyUsedStored_kWh;
    }
    
    public double getCurrentTemperature() {
    	return 0;
    }
      
    public void updateAmbientTemperature(double currentAmbientTemperature_degC) {
    	// only for storage agents. Does it belong in this superclass?
    }

    public double getHeatCapacity_kW() {
    	return capacityHeat_kW;
    }
    
    public void setHeatCapacity_kW(double capacityHeat_kW) {
    	this.capacityHeat_kW = capacityHeat_kW;
    }

    public double getElectricCapacity_kW() {
    	return capacityElectric_kW;
    }

    public double getGasCapacity_kW() {
    	return capacityGas_kW;
    }
    
    public double getEnergyUsed_kWh() {
    	return energyUsed_kWh;
    }
    
    public double getElectricityProduced_kWh() {
    	return electricityProduced_kWh;
	}

    public double getSetTemperature_degC() {
    	return 0;
    }
    
    public double getMinTemperature_degC() {
    	return 0;
    }
    
    public double getMaxTemperature_degC() {
    	return 0;
    }
    
//    public double getOutputTemperature_degC() {
//   	return 0;
//    }
    @Override    
    public Object clone() { 
    	try {
    		return super.clone(); 
    	} catch (CloneNotSupportedException e) {
    		throw new RuntimeException(e);
    	}
    } 
    
	@Override
	public String toString() {
		return
			"ownerAgent = " + parentAgent.getIndex() +" ";
	}
}
]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659117174456</Id>
			<Name><![CDATA[J_EAConversionGasBurner]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionGasBurner
 */
public class J_EAConversionGasBurner extends zero_engine.J_EAConversion implements Serializable {

	//private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	//private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.METHANE;
	protected double outputTemperature_degC;
    /**
     * Default constructor
     */
    public J_EAConversionGasBurner() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionGasBurner(Agent parentAgent, OL_EnergyAssetType assetType, double capacityThermal_kW, double efficiency, double timestep_h, double outputTemperature_degC) {
	    this.parentAgent = parentAgent;
	    this.energyAssetType = assetType;
	    this.capacityHeat_kW = capacityThermal_kW;
	    this.eta_r = efficiency;
	    this.timestep_h = timestep_h;
	    this.outputTemperature_degC = outputTemperature_degC;
	    //this.energyAssetType = OL_EnergyAssetType.GAS_BURNER;
	}

    @Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
    	this.heatProduction_kW = capacityHeat_kW * ratioOfCapacity;
		this.methaneConsumption_kW = heatProduction_kW / eta_r;
		this.energyUse_kW = (methaneConsumption_kW - heatProduction_kW);
		this.energyUsed_kWh += timestep_h * energyUse_kW; // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		this.heatProduced_kWh += heatProduction_kW * timestep_h;
		return returnEnergyFlows();
    }

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	@Override
	public String toString() {
		return
			"AssetType = " + energyAssetType + 
			" parentAgent = " + parentAgent +", Energy consumed = " + this.energyUsed_kWh +
			" capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"eta_r = " + this.eta_r+" " +
			"outputTemperature_degC = " + this.outputTemperature_degC + " "+
			"energyUsed_kWh (losses) = " + this.energyUsed_kWh + " "+
			"heatProducted_kWh = " +this.heatProduced_kWh + " ";
	}
	
	@Override
	public double getCurrentTemperature() {
		return outputTemperature_degC;
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659117174457</Id>
			<Name><![CDATA[J_EAConversionBiogasMethane]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionBiogasMethane
 */
public class J_EAConversionBiogasMethane extends zero_engine.J_EAConversion implements Serializable {

	//private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.METHANE;
	//private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.METHANE;
	public double capacityMethane_kW;
	//protected double outputTemperature_degC;
    /**
     * Default constructor
     */
    public J_EAConversionBiogasMethane() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionBiogasMethane(Agent parentAgent, double capacityMethane_kW, double efficiency, double timestep_h) {
	    this.parentAgent= parentAgent;
	    this.capacityMethane_kW = capacityMethane_kW;
	    this.eta_r = efficiency;
	    this.timestep_h = timestep_h;
	}

    @Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
    	this.methaneProduction_kW = capacityMethane_kW * ratioOfCapacity;
		this.methaneConsumption_kW = methaneProduction_kW / eta_r;
		energyUse_kW = methaneConsumption_kW - methaneProduction_kW;   	
		this.energyUsed_kWh += timestep_h * energyUse_kW; // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
    }

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	@Override
	public String toString() {
		return
			"parentAgent = " + parentAgent +", Energy consumed = " + this.energyUsed_kWh +
			"capacityMethane_kW = " + this.capacityMethane_kW +" "+
			"eta_r = " + this.eta_r+" " +
			"energyUsed_kWh (losses) = " + this.energyUsed_kWh + " ";
	}
	
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659117174458</Id>
			<Name><![CDATA[J_EAProfile]]></Name>
			<Text><![CDATA[/**
 * J_EAProfile
 */
public class J_EAProfile extends zero_engine.J_EA implements Serializable {

	//private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.METHANE;
	public OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.ELECTRICITY;
	//public double capacityMethane_kW;
	public double[] a_energyProfile_kWh;
	//protected double outputTemperature_degC;
    /**
     * Default constructor
     */
    public J_EAProfile() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAProfile(Agent parentAgent, OL_EnergyCarrierType energyCarrier, double[] profile_kWh, double timestep_h) {
	    this.parentAgent= parentAgent;
	    this.energyCarrierConsumed = energyCarrier;
	    this.a_energyProfile_kWh = profile_kWh;
	    this.timestep_h = timestep_h;
	}

    @Override
    public void f_updateAllFlows(double time_h) {
    	resetFlows();    	
    	double[] arr=operate(time_h);
    	//return arr;    	
    	if (parentAgent instanceof GridConnection) {    		
    		((GridConnection)parentAgent).f_addFlows(arr);
    	}
    }
    
    @Override
    public double[] operate(double time_h) {
		//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
    	if ( (int)floor(time_h/timestep_h) >= a_energyProfile_kWh.length ) {
    		traceln("Time out of bounds for evaluating J_EAProfile power in profile asset %s!", this.energyAssetName);
    		time_h = a_energyProfile_kWh.length * timestep_h - 1;
    	}
    	if (energyCarrierConsumed == OL_EnergyCarrierType.ELECTRICITY) {
    		this.electricityConsumption_kW = max(0,a_energyProfile_kWh[(int)floor(time_h/timestep_h)]/timestep_h);
        	this.electricityProduction_kW = -min(0,a_energyProfile_kWh[(int)floor(time_h/timestep_h)]/timestep_h);        	
    	} else if (energyCarrierConsumed == OL_EnergyCarrierType.METHANE) {
    		this.methaneConsumption_kW = max(0,a_energyProfile_kWh[(int)floor(time_h/timestep_h)]/timestep_h);
        	this.methaneProduction_kW = -min(0,a_energyProfile_kWh[(int)floor(time_h/timestep_h)]/timestep_h);    		    		
    	} else if (energyCarrierConsumed == OL_EnergyCarrierType.HYDROGEN) {
    		this.hydrogenConsumption_kW = max(0,a_energyProfile_kWh[(int)floor(time_h/timestep_h)]/timestep_h);
        	this.hydrogenProduction_kW = -min(0,a_energyProfile_kWh[(int)floor(time_h/timestep_h)]/timestep_h);
    	} else if  (energyCarrierConsumed == OL_EnergyCarrierType.HEAT) {
    		this.heatConsumption_kW = max(0,a_energyProfile_kWh[(int)floor(time_h/timestep_h)]/timestep_h);
        	this.heatProduction_kW = -min(0,a_energyProfile_kWh[(int)floor(time_h/timestep_h)]/timestep_h);
        	//traceln("Current heat consumption: %s", this.heatConsumption_kW);
    	} else if  (energyCarrierConsumed == OL_EnergyCarrierType.DIESEL) {
    		this.dieselConsumption_kW = max(0,a_energyProfile_kWh[(int)floor(time_h/timestep_h)]/timestep_h);
    	}
		//traceln("Running custom demand profile for " + energyAssetName + " with current timestep demand " + (electricityConsumption_kW - electricityProduction_kW) + " kW. Array index is " + (int)floor(time_h/timestep_h) + ", time is: " + time_h + " hours, array size is " + a_energyProfile_kWh.length);	
    	this.energyUse_kW = (electricityConsumption_kW + methaneConsumption_kW + hydrogenConsumption_kW + heatConsumption_kW + dieselConsumption_kW - electricityProduction_kW - methaneProduction_kW - hydrogenProduction_kW - heatProduction_kW);
		this.energyUsed_kWh += timestep_h * energyUse_kW; // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
    }

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	@Override
	public String toString() {
		return
			"parentAgent = " + parentAgent +", Energy consumed = " + this.energyUsed_kWh +
			"current power = " + (electricityConsumption_kW + methaneConsumption_kW + hydrogenConsumption_kW + heatConsumption_kW + dieselConsumption_kW - electricityProduction_kW - methaneProduction_kW - hydrogenProduction_kW - heatProduction_kW) +" "+
			"eta_r = " + this.eta_r+" " +
			"energyUsed_kWh (losses) = " + this.energyUsed_kWh + " ";
	}
	
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659446215929</Id>
			<Name><![CDATA[J_EAStorageElectric]]></Name>
			<Text><![CDATA[/**
 * J_EAStorageElectric
 */
public class J_EAStorageElectric extends J_EAStorage implements Serializable {

	private OL_EnergyCarrierType storageMedium = OL_EnergyCarrierType.ELECTRICITY;
	private double lossFactor_r = 0;
	
    /**
     * Default constructor
     */
    public J_EAStorageElectric() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAStorageElectric(Agent parentAgent, double capacityElectric_kW, double storageCapacity_kWh, double stateOfCharge_r, double timestep_h ) {
		this.parentAgent = parentAgent;
		this.capacityElectric_kW = capacityElectric_kW;
		this.storageCapacity_kWh = storageCapacity_kWh;
		this.stateOfCharge_r = stateOfCharge_r;
		this.timestep_h = timestep_h;
		this.energyAssetType = OL_EnergyAssetType.STORAGE_ELECTRIC;
    }

	@Override
	public void calculateLoss() {
		//no loss for electric batteries modeled.
		energyUse_kW = 0;
		energyUsed_kWh += energyUse_kW * timestep_h;
	}

	@Override
	public double[] operate(double ratioOfChargeCapacity_r) {
    	double discharge_kW = 0;
    	double deltaEnergy_kWh;   // to check the request with the energy currently in storage
    	//double sign = ratioOfChargeCapacity_r / abs( ratioOfChargeCapacity_r ); // charge or discharge

    	deltaEnergy_kWh = ( ratioOfChargeCapacity_r * capacityElectric_kW * timestep_h ) ;
    	deltaEnergy_kWh = - min( -deltaEnergy_kWh, (stateOfCharge_r * storageCapacity_kWh) ); // Prevent negative charge
    	deltaEnergy_kWh = min(deltaEnergy_kWh, (1 - stateOfCharge_r) * storageCapacity_kWh ); // Prevent overcharge

		discharge_kW = -deltaEnergy_kWh / timestep_h;

		electricityProduction_kW = max(discharge_kW, 0);
		electricityConsumption_kW = max(-discharge_kW, 0);
		discharged_kWh += electricityProduction_kW * timestep_h;
		charged_kWh += electricityConsumption_kW * timestep_h;
		
		updateStateOfCharge( discharge_kW );
		//double[] arr = {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
	}

	@Override
	public String toString() {
		return 
			"type = " + this.getClass().toString() + " " +
			"parentAgent = " + parentAgent +" " +
			"stateOfCharge_r = " + this.stateOfCharge_r+" "+
			"storageCapacity_kWh = " + this.storageCapacity_kWh +" "+
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"discharged_kWh " + this.discharged_kWh+" "+
			"charged_kWh " + this.charged_kWh+" ";
	}

	@Override
	public void updateStateOfCharge( double discharge_kW ) {
		stateOfCharge_r -= ( discharge_kW * timestep_h ) / storageCapacity_kWh;
	}

	@Override
	public double getCurrentStateOfCharge() {
    	return stateOfCharge_r;
	}

	public double getCapacityAvailable_kW() {
		double availableCapacity_kW;
		if ( stateOfCharge_r * storageCapacity_kWh  > capacityElectric_kW * timestep_h) {
			availableCapacity_kW = capacityElectric_kW;
		}
		else {
			availableCapacity_kW =  stateOfCharge_r * storageCapacity_kWh / timestep_h; // Allow to drain completely
		}
		return availableCapacity_kW;
	}
	
	public double getStorageCapacity_kWh() {
		return storageCapacity_kWh;
	}

	public double getTotalChargeAmount_kWh() {
		return charged_kWh;
	}
	public double getTotalDischargeAmount_kWh() {
		return discharged_kWh;
	}
	
	public void setStorageCapacity_kWh(double storageCapacity_kWh) {
		this.storageCapacity_kWh = storageCapacity_kWh;
	}

	public void setCapacityElectric_kW(double capacityElectric_kW) {
		this.capacityElectric_kW = capacityElectric_kW;
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659446215929</Id>
			<Name><![CDATA[J_EAStorageGas]]></Name>
			<Text><![CDATA[/**
 * J_EAStorageGas
 */
public class J_EAStorageGas extends zero_engine.J_EAStorage implements Serializable {

	private OL_EnergyCarrierType storageMedium = OL_EnergyCarrierType.METHANE;
	private double lossFactor_r = 0;

	//public double capacityGas_kW = 0;

    /**
     * Default constructor
     */
    public J_EAStorageGas() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAStorageGas(Agent parentAgent, double capacityGas_kW, double storageCapacity_kWh, double stateOfCharge_r, double timestep_h ) {
		this.parentAgent = parentAgent;
		this.capacityGas_kW = capacityGas_kW;
		this.storageCapacity_kWh = storageCapacity_kWh;
		this.stateOfCharge_r = stateOfCharge_r;
		this.timestep_h = timestep_h;
    }

	@Override
	public void calculateLoss() {
		//no loss for gas storage modeled.
		energyUse_kW = 0;
		energyUsed_kWh += energyUse_kW * timestep_h;
	}

	@Override
	public double[] operate(double ratioOfChargeCapacity_r) {
    	double discharge_kW = 0;
    	double deltaEnergy_kWh;   // to check the request with the energy currently in storage
    	//double sign = ratioOfChargeCapacity_r / abs( ratioOfChargeCapacity_r ); // charge or discharge

    	deltaEnergy_kWh = ( ratioOfChargeCapacity_r * capacityGas_kW * timestep_h ) ;
    	deltaEnergy_kWh = - min( -deltaEnergy_kWh, (stateOfCharge_r * storageCapacity_kWh) ); // Prevent negative charge
    	deltaEnergy_kWh = min(deltaEnergy_kWh, (1 - stateOfCharge_r) * storageCapacity_kWh ); // Prevent overcharge

		discharge_kW = -deltaEnergy_kWh / timestep_h;

		methaneProduction_kW = max(discharge_kW, 0);
		methaneConsumption_kW = max(-discharge_kW, 0);
		discharged_kWh += methaneProduction_kW * timestep_h;
		charged_kWh += methaneConsumption_kW * timestep_h;
		
		updateStateOfCharge( discharge_kW );
		//double[] arr = {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
	}

	@Override
	public String toString() {
		return 
			"type = " + this.getClass().toString() + " " +
			"parentAgent = " + parentAgent +" " +
			"stateOfCharge_r = " + this.stateOfCharge_r+" "+
			"storageCapacity_kWh = " + this.storageCapacity_kWh +" "+
			"capacityGas_kW = " + this.capacityGas_kW +" "+
			"discharged_kWh " + this.discharged_kWh+" "+
			"charged_kWh " + this.charged_kWh+" ";
	}

	@Override
	public void updateStateOfCharge( double discharge_kW ) {
		stateOfCharge_r -= ( discharge_kW * timestep_h ) / storageCapacity_kWh;
	}

	@Override
	public double getCurrentStateOfCharge() {
    	return stateOfCharge_r;
	}

	public double getCapacityAvailable_kW() {
		double availableCapacity_kW;
		if ( stateOfCharge_r * storageCapacity_kWh  > capacityGas_kW * timestep_h) {
			availableCapacity_kW = capacityGas_kW;
		}
		else {
			availableCapacity_kW =  stateOfCharge_r * storageCapacity_kWh / timestep_h; // Allow to drain completely
		}
		return availableCapacity_kW;
	}
	
	public double getStorageCapacity_kWh() {
		return storageCapacity_kWh;
	}

	public double getTotalChargeAmount_kWh() {
		return charged_kWh;
	}
	public double getTotalDischargeAmount_kWh() {
		return discharged_kWh;
	}


	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659447107390</Id>
			<Name><![CDATA[J_EAStorageHeat]]></Name>
			<Text><![CDATA[/**
 * J_EAStorageHeat
 */
public class J_EAStorageHeat extends zero_engine.J_EAStorage implements Serializable {

	private double capacityElectric_kW = 0;
	public OL_EnergyCarrierType storageMedium = OL_EnergyCarrierType.HEAT;
	public OL_EAStorageTypes heatStorageType;
	private double storageCapacity_kWh;
	private double stateOfCharge_r;
	private double lossFactor_WpK;
	private double timestep_h;
	private double temperature_degC;
	private double minTemperature_degC;
	private double maxTemperature_degC;
	private double setTemperature_degC;
	protected double heatCapacity_JpK;
	private double ambientTemperature_degC;
	public boolean requiresHeat = false;


    /**
     * Default constructor
     */
    public J_EAStorageHeat() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAStorageHeat(Agent parentAgent, OL_EAStorageTypes heatStorageType, double capacityHeat_kW, double lossFactor_WpK, double timestep_h, double initialTemperature_degC, double minTemperature_degC, double maxTemperature_degC, double setTemperature_degC, double heatCapacity_JpK, String ambientTempType ) {
		this.parentAgent = parentAgent;
		this.heatStorageType = heatStorageType;
		this.capacityHeat_kW = capacityHeat_kW;
		this.lossFactor_WpK = lossFactor_WpK;
		this.timestep_h = timestep_h;
		this.temperature_degC = initialTemperature_degC;
		this.minTemperature_degC = minTemperature_degC;
		this.maxTemperature_degC = maxTemperature_degC;
		this.setTemperature_degC = setTemperature_degC;
		this.heatCapacity_JpK = heatCapacity_JpK;
		this.ambientTempType = ambientTempType;
		this.storageCapacity_kWh = ( maxTemperature_degC - minTemperature_degC ) * heatCapacity_JpK / 3.6e+6;
		this.stateOfCharge_r = (( initialTemperature_degC - minTemperature_degC ) / (maxTemperature_degC - minTemperature_degC ) );
    }

	@Override
	public void calculateLoss() {
		double heatLoss_W = lossFactor_WpK * ( temperature_degC - ambientTemperature_degC );
		energyUse_kW = heatLoss_W;
		double energyLoss_kWh = ( heatLoss_W / 1000 ) * timestep_h;
		double tempDelta = - energyLoss_kWh / (heatCapacity_JpK / 3.6E6 );
		energyUsed_kWh += energyLoss_kWh;
		//traceln("Ambient temperature " + ambientTemperature_degC);
		//traceln("heatCapacity JpK " + heatCapacity_JpK );
		//traceln("tempdelta loss"+tempDelta);
		//traceln("lossfacter: " + lossFactor_WpK);
		updateStateOfCharge( tempDelta );
	}

	@Override
	public double[] operate(double ratioOfChargeCapacity_r) {
		//traceln("StorageAsset Heat Operatefunctie: ambienttemperature = "+ambientTemperature_degC);
		//traceln("StorageAsset Heat Operatefunctie: ambienttemperature = "+ambientTemperature_degC+" | powerFraction_fr = " + ratioOfChargeCapacity_r + ".");
		//traceln("<><><><> heatstorage reset heatproduction = "+heatProduction_kW+", heatconsumption_kW = "+heatConsumption_kW+" heatProduced_kWh = "+heatProduced_kWh + "heatConsumed = "+heatConsumed_kWh + ", losses= "+energyUsed_kWh );
		
		calculateLoss(); // Updates

		double discharge_kW = 0;
    	double energyDelta_kWh = 0;   // to check the request with the energy currently in storage
    	double deltaTemp_degC;
    	//double sign = ratioOfChargeCapacity_r / abs( ratioOfChargeCapacity_r ); // charge or discharge

    	energyDelta_kWh = ( ratioOfChargeCapacity_r * capacityHeat_kW * timestep_h );
    	//traceln("capacityHeat_kW " + capacityHeat_kW);
    	deltaTemp_degC = energyDelta_kWh / (heatCapacity_JpK / 3.6E6 );
    	//traceln("tempdelta charge uncapped: "+deltaTemp_degC);
    	//deltaTemp_degC = max( deltaTemp_degC, minTemperature_degC - temperature_degC ); // Is deze functionaliteit nodig in de heatbuffer? Kan op zich geen kwaad... zal als het goed is niet aangesproken worden
    	//deltaTemp_degC = min( deltaTemp_degC, (maxTemperature_degC - temperature_degC ) ); // Is deze functionaliteit nodig in de heatbuffer?

		//double tempDelta = - energy;   // positieve energielevering verlaagt buffertemperatuur!
		//energy = energy * (heatCapacity_JpK / 3.6E6 );
		discharge_kW = - deltaTemp_degC *  (heatCapacity_JpK / 3.6E6) / timestep_h; // positieve energielevering verlaagt buffertemperatuur!

		heatProduction_kW = max(discharge_kW, 0);
		heatConsumption_kW = max(-discharge_kW, 0);
		heatProduced_kWh += heatProduction_kW * timestep_h;
		heatConsumed_kWh += heatConsumption_kW * timestep_h;
		//traceln("tempdelta charge: "+deltaTemp_degC);
		//traceln(">> Heat storage heatproduction = "+ heatProduced_kWh + ", heatconsumption_kW = "+ heatConsumption_kW +" heatConsumed_kWh = "+ heatConsumed_kWh +", heatProduced_kWh = "+ heatProduced_kWh );
		
		updateStateOfCharge( deltaTemp_degC );
		//traceln("<><><><> heatstorage <"+ownerAsset.getId()+"> calculated heatproduction = "+heatProduction_kW+", heatconsumption_kW = "+heatConsumption_kW+", heatProduced_kWh = "+heatProduced_kWh + ", heatConsumed = "+heatConsumed_kWh + ", losses= "+energyUsed_kWh );

		//double[] arr = {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
	}

	@Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"Energy consumed = " + this.energyUsed_kWh +
			" temp = " + this.temperature_degC + " " +
			"parentAgent = " + parentAgent +" " +
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"stateOfCharge_r = " + this.stateOfCharge_r+" "+
			"minTemperature_degC = " + this.minTemperature_degC+" "+
			"maxTemperature_degC = " + this.maxTemperature_degC+" "+
			"setTemperature_degC = " + this.setTemperature_degC+" "+			
			"ambientTemperature_degC = "+this.ambientTemperature_degC+" "+
			"energyUsed_kWh (losses) = " + this.energyUsed_kWh + " "+
			"heatProduced_kWh = "+ this.heatProduced_kWh + " "+
			"heatConsumed_kWh = "+ this.heatConsumed_kWh + " ";
	}

	@Override
	public void updateStateOfCharge( double tempDelta_degC ) {
		temperature_degC += tempDelta_degC;
		stateOfCharge_r = ( temperature_degC - minTemperature_degC) / (maxTemperature_degC - minTemperature_degC);
		if (temperature_degC < setTemperature_degC) {
			requiresHeat = true;
		}
		else if ( temperature_degC >= maxTemperature_degC ) {
			requiresHeat = false;
		}
	}

	@Override
	public double getCurrentStateOfCharge() {
    	return stateOfCharge_r;
	}

	@Override
	public double getCurrentTemperature() {
		return temperature_degC;
	}

	@Override
	public double getSetTemperature_degC() {
		return setTemperature_degC;
	}
	
	@Override
	public double getMinTemperature_degC() {
		return minTemperature_degC;
	}
	
	@Override
	public double getMaxTemperature_degC() {
		return maxTemperature_degC;
	}

	public double getStorageCapacity() {
		return storageCapacity_kWh;
	}

	public double getHeatCapacity_JpK() {
		return heatCapacity_JpK;
	}

	/*
	@Override
	public double getHeatCapacity_kW() {
    	return capacityHeat_kW;
    }
	*/
	
	/*@Override //Storage assets limiteren de opname van warmte niet met 1. Dat is nodig voor de buffer. Die kan wel maximaal zijn capaciteit leverern, maar kan meer opnemen. @Gillis is dat logisch of willen we andere oplossing?
    public double[] operateBounded(double ratioOfCapacity) {
    	double limitedRatioOfCapacity = max(-1, ratioOfCapacity);
    	double[] arr = operate(limitedRatioOfCapacity);
    	return arr;
    }*/

	@Override
	public void updateAmbientTemperature(double currentAmbientTemperature_degC) { // TODO: Hoe zorgen we dat we deze niet vergeten aan te roepen??
		ambientTemperature_degC = currentAmbientTemperature_degC;
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659447107391</Id>
			<Name><![CDATA[J_EABuilding]]></Name>
			<Text><![CDATA[/**
 * J_EABuilding
 */
public class J_EABuilding extends zero_engine.J_EAStorageHeat implements Serializable {

	//EnergyAsset ownerAsset;
	private double capacityElectric_kW = 0;
	//public OL_EnergyCarrierType storageMedium = OL_EnergyCarrierType.HEAT;
	public OL_EAStorageTypes heatStorageType;
	//private double storageCapacity_kWh;
	private double stateOfCharge_r;
	public double lossFactor_WpK;
	private double timestep_h;
	private double temperature_degC;
	private double temperatureStored_degC;
	private double initialTemperature_degC;
	private double minTemperature_degC;
	private double maxTemperature_degC;
	//public double setTemperature_degC;
	//private double heatCapacity_JpK;
	private double ambientTemperature_degC;
	private double solarAbsorptionFactor_m2;
	private double solarRadiation_Wpm2=0;
	public double energyAbsorbed_kWh=0;
	public double energyAbsorbedStored_kWh=0;
	
	//public boolean requiresHeat = false;


    /**
     * Default constructor
     */
    public J_EABuilding() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EABuilding(Agent parentAgent, double capacityHeat_kW, double lossFactor_WpK, double timestep_h, double initialTemperature_degC, double heatCapacity_JpK, double solarAbsorptionFactor_m2 ) {
		this.parentAgent = parentAgent;
		this.heatStorageType = OL_EAStorageTypes.HEATMODEL_BUILDING;
		this.capacityHeat_kW = capacityHeat_kW;
		this.lossFactor_WpK = lossFactor_WpK;
		this.timestep_h = timestep_h;
		this.initialTemperature_degC = initialTemperature_degC;
		this.temperature_degC = initialTemperature_degC;
		this.heatCapacity_JpK = heatCapacity_JpK;
		this.ambientTempType = "AIR";
		//this.storageCapacity_kWh = ( maxTemperature_degC - minTemperature_degC ) * heatCapacity_JpK / 3.6e+6;
		this.solarAbsorptionFactor_m2 = solarAbsorptionFactor_m2;
		this.energyAssetType = OL_EnergyAssetType.BUILDINGTHERMALS;
    }

	@Override
	public void calculateLoss() {
		double heatLoss_W = lossFactor_WpK * ( temperature_degC - ambientTemperature_degC );
		energyUse_kW = ( heatLoss_W / 1000 );
		double deltaTemp_degC = - energyUse_kW * timestep_h / (heatCapacity_JpK / 3.6E6 );
		energyUsed_kWh += max(0,energyUse_kW * timestep_h); // Only heat loss! Not heat gain when outside is hotter than inside!
		energyAbsorbed_kWh +=max(0,-energyUse_kW * timestep_h); // Only heat gain when outside is hotter than inside!
		//traceln("Ambient temperature " + ambientTemperature_degC);
		//traceln("heatCapacity JpK " + heatCapacity_JpK );
		//traceln("tempdelta loss"+tempDelta);
		//traceln("lossfacter: " + lossFactor_WpK);
		updateStateOfCharge( deltaTemp_degC );
	}

	public void solarHeating() {
		double solarHeating_W = solarAbsorptionFactor_m2 * solarRadiation_Wpm2;
		energyUse_kW -= solarHeating_W / 1000;
		double energyGain_kWh = ( solarHeating_W / 1000 ) * timestep_h;
		double deltaTemp_degC = energyGain_kWh / (heatCapacity_JpK / 3.6E6 );
		energyAbsorbed_kWh += energyGain_kWh;
		//traceln("Solar heating of building! Temp increase this timestep %s degC, solarRadiation %s Wpm2", tempDelta, solarRadiation_Wpm2);
		//traceln("SolarAbsorptionFactor_m2 is %s, energyGain_kWh is %s", solarAbsorptionFactor_m2, energyAbsorbed_kWh);
		updateStateOfCharge( deltaTemp_degC );
	}

	@Override
	public double[] operate(double ratioOfChargeCapacity_r) {
		//traceln("Building heatCapacity_JpK: %s", this.heatCapacity_JpK);
		//traceln("StorageAsset Heat Operatefunctie: ambienttemperature = "+ambientTemperature_degC);
		//traceln("StorageAsset Heat Operatefunctie: ambienttemperature = "+ambientTemperature_degC+" | powerFraction_fr = " + ratioOfChargeCapacity_r + ".");
		//traceln("<><><><> heatstorage reset heatproduction = "+heatProduction_kW+", heatconsumption_kW = "+heatConsumption_kW+" heatProduced_kWh = "+heatProduced_kWh + "heatConsumed = "+heatConsumed_kWh + ", losses= "+energyUsed_kWh );

		calculateLoss(); // Heat exchange with environment through convection
		solarHeating(); // Heat influx from sunlight

    	double energyDelta_kWh = ( ratioOfChargeCapacity_r * capacityHeat_kW * timestep_h );
    	double discharge_kW = - ratioOfChargeCapacity_r * capacityHeat_kW; // positieve energielevering verlaagt buffertemperatuur!
    	double deltaTemp_degC = energyDelta_kWh / (heatCapacity_JpK / 3.6E6 );
    	//traceln("capacityHeat_kW " + capacityHeat_kW);

		heatProduction_kW = max(discharge_kW, 0);
		heatConsumption_kW = max(-discharge_kW, 0);
		heatProduced_kWh += heatProduction_kW * timestep_h;
		heatConsumed_kWh += heatConsumption_kW * timestep_h;
		//traceln("tempdelta charge: "+deltaTemp_degC);
		//traceln(">> Heat storage heatproduction = "+ heatProduced_kWh + ", heatconsumption_kW = "+ heatConsumption_kW +" heatConsumed_kWh = "+ heatConsumed_kWh +", heatProduced_kWh = "+ heatProduced_kWh );

		updateStateOfCharge( deltaTemp_degC );
		//traceln("<><><><> heatstorage <"+ownerAsset.getId()+"> calculated heatproduction = "+heatProduction_kW+", heatconsumption_kW = "+heatConsumption_kW+", heatProduced_kWh = "+heatProduced_kWh + ", heatConsumed = "+heatConsumed_kWh + ", losses= "+energyUsed_kWh );

		//double[] arr = {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
	}

	@Override
	public String toString() {
		return
			this.getClass().toString() + " " +
			"Energy consumed = " + this.energyUsed_kWh +
			" temp = " + this.temperature_degC + " " +
			"oarentAgent = " + parentAgent +" " +
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"ambientTemperature_degC = "+this.ambientTemperature_degC+" "+
			"energyUsed_kWh (losses) = " + this.energyUsed_kWh + " "+
			"heatProduced_kWh = "+ this.heatProduced_kWh + " "+
			"heatConsumed_kWh = "+ this.heatConsumed_kWh + " ";
	}

	@Override
	public void updateStateOfCharge( double tempDelta_degC ) {
		temperature_degC += tempDelta_degC;
		stateOfCharge_r = ( temperature_degC - minTemperature_degC) / (maxTemperature_degC - minTemperature_degC);
		/*if (temperature_degC < setTemperature_degC) {
			requiresHeat = true;
		}
		else if ( temperature_degC >= maxTemperature_degC ) {
			requiresHeat = false;
		}*/
	}

	@Override
	public double getCurrentStateOfCharge() {
    	return stateOfCharge_r;
	}

	@Override
	public double getCurrentTemperature() {
		return temperature_degC;
	}

	/*@Override
	public double getHeatCapacity_JpK() {
		return heatCapacity_JpK;
	}*/
	
	@Override
    public void storeStatesAndReset() {
    	// Each energy asset that has some states should overwrite this function!
    	energyUsedStored_kWh = energyUsed_kWh;
    	energyAbsorbedStored_kWh = energyAbsorbed_kWh;
    	energyUsed_kWh = 0.0;
    	energyAbsorbed_kWh = 0.0;
    	temperatureStored_degC = temperature_degC;
    	temperature_degC = initialTemperature_degC;
    	resetFlows();    	
    }
    
	@Override
    public void restoreStates() {
    	// Each energy asset that has some states should overwrite this function!
    	energyUsed_kWh = energyUsedStored_kWh;
    	energyAbsorbed_kWh = energyAbsorbedStored_kWh;
    	temperature_degC = temperatureStored_degC;
    }

	/*@Override
	public double getMinTemperature_degC() {
		return minTemperature_degC;
	}*/

	/*@Override
	public double getMaxTemperature_degC() {
		return maxTemperature_degC;
	}*/

	/*public double getStorageCapacity() {
		return storageCapacity_kWh;
	}*/

	/*public double getHeatCapacity_JpK() {
		return heatCapacity_JpK;
	}*/

	/*
	@Override
	public double getHeatCapacity_kW() {
    	return capacityHeat_kW;
    }
	*/

	/*@Override //Storage assets limiteren de opname van warmte niet met 1. Dat is nodig voor de buffer. Die kan wel maximaal zijn capaciteit leverern, maar kan meer opnemen. @Gillis is dat logisch of willen we andere oplossing?
    public double[] operateBounded(double ratioOfCapacity) {
    	double limitedRatioOfCapacity = max(-1, ratioOfCapacity);
    	double[] arr = operate(limitedRatioOfCapacity);
    	return arr;
    }*/

	@Override
	public void updateAmbientTemperature(double currentAmbientTemperature_degC) { // TODO: Hoe zorgen we dat we deze niet vergeten aan te roepen??
		this.ambientTemperature_degC = currentAmbientTemperature_degC;
	}

	public void updateSolarRadiation(double solarRadiation_Wpm2) { // TODO: Hoe zorgen we dat we deze niet vergeten aan te roepen??
		this.solarRadiation_Wpm2 = solarRadiation_Wpm2;
		//traceln("Updating solarRadiation of building to %s Wpm2!", solarRadiation_Wpm2);
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659513814164</Id>
			<Name><![CDATA[J_EAConversionHeatPump]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionHeatPump
 */
public class J_EAConversionHeatPump extends zero_engine.J_EAConversion implements Serializable {
	private double capacityHeat_kW = 0;
	private double COP_r;
	private double belowZeroHeatpumpEtaReductionFactor;
	//private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	//private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.ELECTRICITY;
	protected double outputTemperature_degC;
	private double baseTemperature_degC;
	private double sourceAssetHeatPower_kW; // for water-water heatpump functionality
	protected String ambientTempType;
	public double totalElectricityConsumed_kWh =0;
	public J_EA p_linkedSourceEnergyAsset;
	public double p_baseTemperatureReference;

    /**
     * Default constructor
     */
    public J_EAConversionHeatPump() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionHeatPump(Agent parentAgent, double timestep_hr, double capacityElectric_kW, double eta_r, double baseTemperature_degC, double outputTemperature_degC, String ambientTempType, double sourceAssetHeatPower_kW, double belowZeroHeatpumpEtaReductionFactor ) {
	    this.parentAgent = parentAgent;
	    this.capacityElectric_kW = capacityElectric_kW;
	    this.timestep_h = timestep_hr;
	    this.eta_r = eta_r;
	    this.baseTemperature_degC = baseTemperature_degC;
	    this.outputTemperature_degC = outputTemperature_degC;
	    this.COP_r = eta_r * ( 273.15 + outputTemperature_degC ) / ( outputTemperature_degC - baseTemperature_degC );
	    this.capacityHeat_kW = capacityElectric_kW * this.COP_r;
	    this.ambientTempType = ambientTempType;
	    this.sourceAssetHeatPower_kW = sourceAssetHeatPower_kW;
	    this.belowZeroHeatpumpEtaReductionFactor = belowZeroHeatpumpEtaReductionFactor;
	}

	public void updateParameters(double baseTemperature_degC, double outputTemperature_degC) {
		this.baseTemperature_degC = baseTemperature_degC;
		this.outputTemperature_degC = outputTemperature_degC;
		if ( this.baseTemperature_degC > this.outputTemperature_degC) {
			traceln("**** EXCEPTION **** Heatpump baseTemperature ( " + baseTemperature_degC + ") > outputTemperature ( " + outputTemperature_degC + ") ");
		}
		this.COP_r = this.eta_r * ( 273.15 + outputTemperature_degC ) / ( outputTemperature_degC - baseTemperature_degC );
		
		// water heatpump should take sourceAsset power transfer limitations into account (e.g. residual heat). Ugly but effectively limiting heat power output.
    	
		if( this.sourceAssetHeatPower_kW > 0) {
	    	this.capacityHeat_kW = min( this.capacityHeat_kW, this.sourceAssetHeatPower_kW / (1 - (1 / COP_r )));
	    	//traceln("Water water heatpump heat capacity limited from source! =" + this.capacityHeat_kW);
		} 
		else {
				this.capacityHeat_kW = this.capacityElectric_kW * this.COP_r; 
				//traceln("heatpump updating temp: " + baseTemperature_degC);
				if( baseTemperature_degC < 0 ) {
					COP_r = COP_r / belowZeroHeatpumpEtaReductionFactor;
				}
		}
    	//traceln("J_EAConversionHeatpump capacityHeat_kW = "+ this.capacityHeat_kW + ", sourceAssetHeatPower_kW " + this.sourceAssetHeatPower_kW );
    
	}

	public void updateAmbientTemperature(double baseTemperature_degC) {
		// water heatpump should take sourceAsset power transfer limitations into account (e.g. residual heat). Ugly but effectively limiting heat power output.
    	
		//traceln("J_EAHeatpump capacityHeat_kW = " + this.capacityHeat_kW + ", baseTemperature = "+ baseTemperature_degC + ", outputtemperature = "+ outputTemperature_degC);
		updateParameters(baseTemperature_degC, outputTemperature_degC);
		this.COP_r = this.eta_r * ( 273.15 + outputTemperature_degC ) / ( outputTemperature_degC - baseTemperature_degC );
	    this.capacityHeat_kW = capacityElectric_kW * COP_r;
	}

	public double getCOP() {
		//traceln("Heatpump output temperature: " + this.outputTemperature_degC);

		return this.COP_r;

	}

	@Override
	public double[] operate(double ratioOfCapacity) {
		//traceln("this "+ this.toString() + ", " + ratioOfCapacity * this.capacityElectric_kW + " **** " + ratioOfCapacity * this.capacityHeat_kW / this.COP_r);
		this.electricityConsumption_kW = min(ratioOfCapacity * this.capacityElectric_kW, ratioOfCapacity * this.capacityHeat_kW / this.COP_r);
		this.totalElectricityConsumed_kWh += electricityConsumption_kW * timestep_h ;
		//this.electricityConsumption_kW = ratioOfCapacity * this.capacityElectric_kW;
    	this.heatProduction_kW = this.electricityConsumption_kW * this.COP_r;
    	// account energy extracted by water/water heatpumps:
    	//traceln("test water heatpump EA code for heat consumption. ambientTempType = " + this.ambientTempType);
    	
    	if(this.ambientTempType.equals("WATER")) {
    		//traceln("test water heatpump EA code for heat consumption. WATER ambient temp type detected ");
    		double maxAvailableSourcePower_kW = this.sourceAssetHeatPower_kW;
    		
    		this.heatConsumption_kW = this.heatProduction_kW - this.electricityConsumption_kW;
    		//update effective energy production of source asset!
    		this.p_linkedSourceEnergyAsset.v_powerFraction_fr += ( this.heatConsumption_kW / this.p_linkedSourceEnergyAsset.capacityHeat_kW );
//    		this.ownerAsset.p_linkedSourceEnergyAsset.j_ea.heatProduction_kW += this.heatConsumption_kW;
       	}
    	this.energyUse_kW = (this.electricityConsumption_kW - ( this.heatProduction_kW - this.heatConsumption_kW ) ); 
		this.energyUsed_kWh += timestep_h * energyUse_kW;
		
    	//traceln("test water heatpump EA code for heat consumption. sourceAssetHeatPower_kW = "+this.sourceAssetHeatPower_kW+ ", heatProduction_kW = "+ this.heatProduction_kW + ", heatConsumption = " + this.heatConsumption_kW);
    	//traceln("energyUsed_kWh " + energyUsed_kWh );
    	//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
    	//traceln("J_EAConversionHeatPump operate function debug | operating @ "+ratioOfCapacity*100+" % capacity ** capacityElectric_kW = "+capacityElectric_kW+", eta_r = "+eta_r+", baseTemperature_degC = "+baseTemperature_degC+", deliveryTemp_degC = "+outputTemperature_degC+", COP_r = "+COP_r+", capacityHeat_kW = "+capacityHeat_kW+". ");
    	return returnEnergyFlows();
	}

	@Override
    public double getHeatCapacity_kW() {
    	return this.capacityHeat_kW;
    }

	@Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"parentAgent = " + parentAgent +" " +
			"capacityElectricity_kW = " + capacityElectric_kW +" "+
			"capacityHeat_kW = " + capacityHeat_kW +" "+
			"baseTemperature_degC = " + baseTemperature_degC + " "+
			"ambientTempType = " + ambientTempType + " "+
			"sourceAssetHeatPower_kW = " + sourceAssetHeatPower_kW + " " +
			"outputTemperature_degC = " + outputTemperature_degC +" "+
			"energyUsed_kWh = " + energyUsed_kWh + " "+
			"heatProduced_kWh = " + heatProduced_kWh + " "+
			"heatConsumed_kWh = " + heatConsumed_kWh + " ";
	}
	
	public String getAmbientTempType() {
		return this.ambientTempType.toString();
	
	}
	
	public void setSourceAssetHeatPower(double sourceAssetHeatPower_kW) {
		this.sourceAssetHeatPower_kW = sourceAssetHeatPower_kW;
		//traceln("sourceAssetHeatPower_kW is set to: "+sourceAssetHeatPower_kW);
	}
	
	public void f_setLinkedVariable(EnergyModel main, String ambientTempType, J_EA j_ea) {
		switch( ambientTempType ) {
		case "AIR":
			this.p_baseTemperatureReference = main.v_currentAmbientTemperature_degC ;
		break;
		case "GROUND":
			this.p_baseTemperatureReference= main.p_undergroundTemperature_degC ;
		break;
		case "WATER":
			//traceln("f_setLinkedVariable: water type parameter update!");
			this.p_baseTemperatureReference = j_ea.getCurrentTemperature() ;
			this.updateAmbientTemperature( p_baseTemperatureReference );
		break;
		default:
			traceln("EXCEPTION: ENERGY ASSET WITH A NON-EXISTENT AMBIENT TEMPERATURE TYPE");				
	}
	}
	
	@Override
	public double getCurrentTemperature() {
		return outputTemperature_degC;
	}
	
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;
}
]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1659534704067</Id>
			<Name><![CDATA[J_EAEV]]></Name>
			<Text><![CDATA[/**
 * J_EAEV
 */
public class J_EAEV extends J_EAVehicle implements Serializable {


	public OL_EnergyCarrierType storageMedium = OL_EnergyCarrierType.ELECTRICITY;
	private double stateOfCharge_r;
	private double initialStateOfCharge_r;
	private double stateOfChargeStored_r;
	
	private double storageCapacity_kWh;

	// Should this be in here?	
	public double energyNeedForNextTrip_kWh;
	public OL_EVChargingNeed chargingNeed;
	public double energyChargedOutsideModelArea_kWh = 0;
	public double charged_kWh = 0;
	public double discharged_kWh = 0;
    /**
     * Default constructor
     */
    public J_EAEV() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAEV(Agent parentAgent, double capacityElectricity_kW, double storageCapacity_kWh, double stateOfCharge_r, double timestep_h, double energyConsumption_kWhpkm, double vehicleScaling ) {
		this.parentAgent = parentAgent;
		this.capacityElectric_kW = capacityElectricity_kW * vehicleScaling; // for EV, this is max charging power.
		this.storageCapacity_kWh = storageCapacity_kWh * vehicleScaling;
		this.initialStateOfCharge_r = stateOfCharge_r;
		this.stateOfCharge_r = initialStateOfCharge_r;
		this.timestep_h = timestep_h;
		this.energyConsumption_kWhpkm = energyConsumption_kWhpkm;
		this.vehicleScaling = vehicleScaling;
	    this.energyAssetType = OL_EnergyAssetType.ELECTRIC_VEHICLE;
    }

	@Override 
	public double[] operate(double ratioOfChargeCapacity_r) {
		//traceln( "ratio: " + ratioOfChargeCapacity_r);
		if (true) {
	    	double discharge_kW = 0;
	    	double deltaEnergy_kWh;   // to check the request with the energy currently in storage
	    	
	    	deltaEnergy_kWh = ( ratioOfChargeCapacity_r * capacityElectric_kW * timestep_h ) ;
	    	deltaEnergy_kWh = - min( -deltaEnergy_kWh, (stateOfCharge_r * storageCapacity_kWh) ); // Prevent negative charge
	    	deltaEnergy_kWh = min(deltaEnergy_kWh, ratioOfChargeCapacity_r * capacityElectric_kW * timestep_h ); // prevent charging faster than allowed
	    	deltaEnergy_kWh = min(deltaEnergy_kWh, (1 - stateOfCharge_r) * storageCapacity_kWh ); // Prevent overcharge
	    
			discharge_kW = -deltaEnergy_kWh / timestep_h;
			//traceln("state of charge: " + stateOfCharge_r * storageCapacity_kWh + ", charged: " + discharge_kW / 4+ " kWh, charging power kW: " + discharge_kW);
			electricityProduction_kW = max(discharge_kW, 0);
			electricityConsumption_kW = max(-discharge_kW, 0);
			updateStateOfCharge( discharge_kW );
			//traceln("new state of charge: " + stateOfCharge_r * storageCapacity_kWh);
			updateChargingHistory( electricityProduction_kW, electricityConsumption_kW );
		}
		//double[] arr = {electricityProduction_kW, methaneProduction_kW, hydrogenProduction_kW, heatProduction_kW, electricityConsumption_kW, methaneConsumption_kW, hydrogenConsumption_kW, heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
	}

	public void updateStateOfCharge( double power_kW ) {
		stateOfCharge_r -= ( power_kW * timestep_h ) / storageCapacity_kWh;
	}

	@Override
	public double getCurrentStateOfCharge() {
    	return stateOfCharge_r;
	}

	@Override
	public boolean startTrip() {
		if (available) {
			available = false;
			//traceln("storage capacity start of trip: " + storageCapacity_kWh + ", state of charge: " + stateOfCharge_r);
			((GridConnection)this.parentAgent).c_vehiclesAvailableForCharging.remove(this);
			return true;
		} else {
			traceln("Trip not started because EV not available!");
			return false; // Trip not started because EV not available!
		}
	}

	@Override
	public boolean endTrip(double tripDist_km) {
	
		if(available) {
			traceln("Trip not ended because EV never left!");
			return false;
		} else {
			mileage_km += tripDist_km;
			//traceln( "J_EAEV comes back, trip distance: " + tripDist_km + ", energy consumption: " + tripDist_km * energyConsumption_kWhpkm);
			stateOfCharge_r -= (tripDist_km * vehicleScaling * energyConsumption_kWhpkm) / storageCapacity_kWh;
			//traceln("storage capacity: " + storageCapacity_kWh + ", state of charge: " + stateOfCharge_r);
			energyUsed_kWh += tripDist_km * vehicleScaling * energyConsumption_kWhpkm;
			energyUse_kW = tripDist_km * vehicleScaling * energyConsumption_kWhpkm / timestep_h;
			if (stateOfCharge_r < 0) {
				//traceln( ownerAsset.date());
				//traceln( "Trip distance: " + tripDist_km + ", vehicle scaling: " + vehicleScaling + ", energy cons_kWhpkm: " + energyConsumption_kWhpkm );
				traceln("EV from asset " + this.parentAgent + " arrived home with negative SOC: " + stateOfCharge_r );
				energyChargedOutsideModelArea_kWh += -stateOfCharge_r * storageCapacity_kWh;
				stateOfCharge_r = 0;
			}
			available = true;
			((GridConnection)this.parentAgent).c_vehiclesAvailableForCharging.add(this);
			//maxSpreadChargingRatio = (1-stateOfCharge_r) * storageCapacity_kWh / (timeToNextTrip_min/60);
			return true;
		}
	}

	public void updateChargingHistory(double electricityProduced_kW, double electricityConsumed_kW) {
		discharged_kWh += electricityProduced_kW * timestep_h;
		charged_kWh += electricityConsumed_kW * timestep_h;
	}

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	public double getStorageCapacity_kWh() {
		return storageCapacity_kWh;
	}
	
	public double getTotalChargeAmount_kWh() {
		return charged_kWh;
	}
	public double getTotalDischargeAmount_kWh() {
		return discharged_kWh;
	}

	public double getEnergyConsumption_kWhpkm() {
		return energyConsumption_kWhpkm * vehicleScaling;
	}

	public boolean getAvailability() {
		return available;
	}

	public double getChargingTimeToFull_MIN() {
		double chargingTime_min = ceil( 60 * (storageCapacity_kWh - storageCapacity_kWh * stateOfCharge_r) / capacityElectric_kW ) ;
		return chargingTime_min;
	}

	@Override
    public void storeStatesAndReset() {
    	// Each energy asset that has some states should overwrite this function!
    	energyUsedStored_kWh = energyUsed_kWh;
    	energyUsed_kWh = 0.0;
    	stateOfChargeStored_r = stateOfCharge_r;
    	stateOfCharge_r = initialStateOfCharge_r;
    	availableStored = available;
    	available = true;
    	mileage_km = 0;
    	resetFlows();    	
    }
    
	@Override
    public void restoreStates() {
    	// Each energy asset that has some states should overwrite this function!
    	energyUsed_kWh = energyUsedStored_kWh;    	
    	stateOfCharge_r = stateOfChargeStored_r;
    	available = availableStored;
    }
	
	@Override
	public String toString() {
		return
			"SOC = " + roundToDecimal( stateOfCharge_r, 2 ) + " " +
			"storageCapacity_kWh = " + storageCapacity_kWh + " " +
			"charged_kWh = " + charged_kWh + " " +
			"mileage = " + mileage_km + " ";
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1660131551684</Id>
			<Name><![CDATA[J_EAConversionHeatDeliverySet]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionHeatDeliverySet
 */
public class J_EAConversionHeatDeliverySet extends zero_engine.J_EAConversion implements Serializable {

	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.HEAT;
	protected double outputTemperature_degC;
    /**
     * Default constructor
     */
    public J_EAConversionHeatDeliverySet() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionHeatDeliverySet(Agent parentAgent, double capacityThermal_kW, double efficiency, double outputTemperature_degC, double timestep_h) {
	    this.parentAgent = parentAgent;
	    this.capacityHeat_kW = capacityThermal_kW;
	    this.eta_r = efficiency;
	    this.outputTemperature_degC = outputTemperature_degC;
	    this.timestep_h = timestep_h;
	}

    @Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("I convert now! HeatDeliverySet @ " + (ratioOfCapacity * 100) + " %");
		heatProduction_kW = capacityHeat_kW * ratioOfCapacity;
		heatConsumption_kW = heatProduction_kW / eta_r;
		
		//debugging checks:
		heatProduced_kWh += heatProduction_kW * timestep_h;
		heatConsumed_kWh += heatConsumption_kW * timestep_h;
		energyUse_kW = ( heatConsumption_kW -  heatProduction_kW);
		energyUsed_kWh += timestep_h * energyUse_kW; // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
    }

	@Override
	public String toString() {
		return
			"parentAgent = " + parentAgent +" " +
			"capacityElectric_kW = " + capacityElectric_kW +" "+
			"capacityHeat_kW = " + capacityHeat_kW +" "+
			"eta_r = " + eta_r+" "+
			"outputTemperature_degC = "+ outputTemperature_degC+" "+
			"heatProduced_kWh = "+ heatProduced_kWh+" "+
			"heatConsumed_kWh = " + heatConsumed_kWh + " "+
			"energyUsed_kWh = " + energyUsed_kWh + " ";
		
		
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1661266990567</Id>
			<Name><![CDATA[J_ExperimentSettingsData]]></Name>
			<Text><![CDATA[/**
 * J_ExperimentSettingsData
 */
public class J_ExperimentSettingsData implements Serializable {

	public String timeStep_h = "";
	public String timeStepsElapsed = "";
	public String modelHoursElapsed_h = "";
	public String modelStartUpDuration_s = "";
	public String modelRunDuration_s = "";
	public String nGridNodes = "";
	public String nGridConnections = "";
	public String nEnergyAssets = "";
	public String nConnectionOwners = "";
	public String nEnergySuppliers = "";
	public String nEnergyCoops = "";
	public String nGridOperators = "";
	public String nNationalEnergyMarket = "";
	public double shareElectricvehiclesInHouseholds = 0.0;

	 /**
     * Default constructor
     */
    public J_ExperimentSettingsData() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_ExperimentSettingsData(String timeStep_h) {
		this.timeStep_h = timeStep_h;
    }

	@Override
	public String toString() {
		return
			"timeStep_h = " + timeStep_h +" " +
			"timeStepsElapsed = " + timeStepsElapsed +" " +
			"modelHoursElapsed_h = " + modelHoursElapsed_h + " " +
			"modelStartUpDuration_s = " + modelStartUpDuration_s + " " +
			"modelRunDuration_s = " + modelRunDuration_s + " " +
			"nGridNodes = " + nGridNodes + " " +
			"nGridConnections = " + nGridConnections + " " +
			"nEnergyAssets = " +	nEnergyAssets + " " +
			"nConnectionOwners = " + nConnectionOwners + " " +
			"nEnergySuppliers = "+ nEnergySuppliers + " " +
			"nEnergyCoops = " + nEnergyCoops + " " +
			"nGridOperators = " + nGridOperators + " " +
			"nNationalEnergyMarket = " + nNationalEnergyMarket +
			"shareElectricvehiclesInHouseholds = " + shareElectricvehiclesInHouseholds
			;
	}

	public void updateData(String timeStep_h, String timeStepsElapsed, String modelHoursElapsed_h, String modelStartUpDuration_s, String modelRunDuration_s, String nGridNodes,	String nGridConnections, String nEnergyAssets, String nConnectionOwners, String nEnergySuppliers, String nEnergyCoops, String nGridOperators, String nNationalEnergyMarket, double shareElectricvehiclesInHouseholds) {
		this.timeStep_h = timeStep_h;
		this.timeStepsElapsed = timeStepsElapsed;
		this.modelHoursElapsed_h = modelHoursElapsed_h;
		this.modelStartUpDuration_s = modelStartUpDuration_s;
		this.modelRunDuration_s = modelRunDuration_s;
		this.nGridNodes = nGridNodes;
		this.nGridConnections = nGridConnections;
		this.nEnergyAssets = nEnergyAssets;
		this.nConnectionOwners = nConnectionOwners;
		this.nEnergySuppliers = nEnergySuppliers;
		this.nEnergyCoops = nEnergyCoops;
		this.nGridOperators = nGridOperators;
		this.nNationalEnergyMarket = nNationalEnergyMarket;
		this.shareElectricvehiclesInHouseholds = shareElectricvehiclesInHouseholds;
	}


	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1661349111073</Id>
			<Name><![CDATA[DataOut]]></Name>
			<Text><![CDATA[/**
 * DataOut
 */
public class DataOut implements Serializable {

	public ArrayList actorData = new ArrayList();
	public ArrayList runSettingsData = new ArrayList(1);
	public ArrayList simulationResults = new ArrayList(2);
	public ArrayList hourlyCurvesData = new ArrayList();
	public ArrayList contractData = new ArrayList();
	//public DataSet dataSet = new DataSet(8760); // Test to make dataobject with simulation results per agent, universal for different agenttypes, such as model-wide, gridconnection (building), gridconnection (neighbourhood)

	public void clearData() {
		actorData.clear();
		runSettingsData.clear();
		simulationResults.clear();
		hourlyCurvesData.clear();
		contractData.clear();
	}
}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1663238817163</Id>
			<Name><![CDATA[J_ActorData]]></Name>
			<Text><![CDATA[/**
 * J_ActorData
 */
public class J_ActorData implements Serializable {

	public String actorID;
	public String group;
	public String gridOperator;
	public String parentCoop;
	public String energySupplier;
	public String ownedGridConnection;
	public String energySupplierDistrictHeat;
	public String electricityVolume_kWh;
	public String heatVolume_kWh;
	public String methaneVolume_kWh;
	public String hydrogenVolume_kWh;
	public String dieselVolume_kWh;
	//public String electricityContractType;
	//public String heatContractType;
	//public String methaneContractType;
	//public String hydrogenContractType;
	public String balanceElectricity_eur;
	public String balanceElectricityDelivery_eur;
	public String balanceElectricityTransport_eur;
	public String balanceElectricityTax_eur;
	public String deliveryContractScope;
	public String transportContractScope;
	public String taxContractScope;
	public boolean b_methaneUsedWithoutContracts;
	public boolean b_hydrogenUsedWithoutContracts;
	 /**
     * Default constructor
     */
    public J_ActorData() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_ActorData(String actorID, String group) {
		this.actorID = actorID;
		this.group = group;
		this.gridOperator = "";
		this.parentCoop = "";
		this.energySupplier = "";
		this.ownedGridConnection = "";
		this.energySupplierDistrictHeat = "";
		this.electricityVolume_kWh = "";
		this.heatVolume_kWh = "";
		this.methaneVolume_kWh = "";
		this.hydrogenVolume_kWh = "";
		this.dieselVolume_kWh = "";
		//this.electricityContractType = "";
		//this.heatContractType = "";
		//this.methaneContractType = "";
		//this.hydrogenContractType = "";
		this.balanceElectricity_eur = "";
		this.balanceElectricityDelivery_eur = "";
		this.balanceElectricityTransport_eur = "";
		this.balanceElectricityTax_eur = "";
		this.deliveryContractScope = "";
		this.transportContractScope = "";
		this.taxContractScope = "";
		this.b_methaneUsedWithoutContracts = false;
		this.b_hydrogenUsedWithoutContracts = false;
		
    }

	@Override
	public String toString() {
		return
			"actorID = " + actorID +" " +
			"group = " + group +" " +
			"gridOperator = " + gridOperator +" " +
			"parentCoop = " + parentCoop +" " +
			"energySupplier = " + energySupplier +" " +
			"ownedGridConnection = " + ownedGridConnection +" " +
			"energySupplierDistrictHeat = " + energySupplierDistrictHeat +" " +
			"electricityVolume_kWh = " + electricityVolume_kWh +" " +
			"heatVolume_kWh = " + heatVolume_kWh +" " +
			"methaneVolume_kWh = " + methaneVolume_kWh +" " +
			"hydrogenVolume_kWh = " + hydrogenVolume_kWh +" " +
			"dieselVolume_kWh = " + dieselVolume_kWh + " " +
			//"electricityContractType = " + electricityContractType +" " +
			//"heatContractType = " + heatContractType +" " +
			//"methaneContractType = " + methaneContractType +" " +
			//"hydrogenContractType = " + hydrogenContractType +" " +
			"balanceElectricity_eur = " + balanceElectricity_eur +" " +
			"balanceElectricityDelivery_eur = " + balanceElectricityDelivery_eur +" " +
			"balanceElectricityTransport_eur = " + balanceElectricityTransport_eur +" " +
			"balanceElectricityTax_eur = " + balanceElectricityTax_eur +" " +
			"deliveryContractScope = " + deliveryContractScope +" "+
			"transportContractScope = " + transportContractScope +" "+
			"taxContractScope = " + taxContractScope + " ";
	}

	public void updateData(String actorID, String group, String gridOperator, String parentCoop, String energySupplier, String ownedGridConnection, String energySupplierDistrictHeat,double electricityVolume_kWh, double heatVolume_kWh, double methaneVolume_kWh, double hydrogenVolume_kWh, double dieselVolume_kWh, /*String electricityContractType, String heatContractType, String methaneContractType, String hydrogenContractType,*/ double balanceElectricity_eur, double balanceElectricityDelivery_eur, double balanceElectricityTransport_eur, double balanceElectricityTax_eur, String deliveryContractScope, String transportContractScope, String taxContractScope, boolean b_methaneUsedWithoutContracts, boolean b_hydrogenUsedWithoutContracts) {
		this.actorID = actorID;
		this.group = group;
		this.gridOperator = gridOperator;
		this.parentCoop = parentCoop;
		this.energySupplier = energySupplier;
		this.ownedGridConnection = ownedGridConnection;
		this.energySupplierDistrictHeat = energySupplierDistrictHeat +"";
		this.electricityVolume_kWh = electricityVolume_kWh + "";
		this.heatVolume_kWh = heatVolume_kWh  + "";
		this.methaneVolume_kWh = methaneVolume_kWh + "";
		this.hydrogenVolume_kWh = hydrogenVolume_kWh + "";
		this.dieselVolume_kWh = dieselVolume_kWh + "";
		//this.electricityContractType = electricityContractType + "";
		//this.heatContractType = heatContractType + "";
		//this.methaneContractType = methaneContractType + "";
		//this.hydrogenContractType = hydrogenContractType + "";
		this.balanceElectricity_eur = balanceElectricity_eur + "";
		this.balanceElectricityDelivery_eur = balanceElectricityDelivery_eur + "";
		this.balanceElectricityTransport_eur = balanceElectricityTransport_eur + "";
		this.balanceElectricityTax_eur = balanceElectricityTax_eur + "";
		this.deliveryContractScope = deliveryContractScope + "";
		this.transportContractScope = transportContractScope + "";
		this.taxContractScope = taxContractScope + "";	
		this.b_methaneUsedWithoutContracts = b_methaneUsedWithoutContracts;
		this.b_hydrogenUsedWithoutContracts = b_hydrogenUsedWithoutContracts;
	}
	/*
	public ArrayList returnData() {
		ArrayList data = new ArrayList({actorID, actorType, parentActorID, energySupplier, ownedGridConnection.toString(), energySupplierDistrictHeat.toString(), electricityVolume_kWh, heatVolume_kWh, methaneVolume_kWh, hydrogenVolume_kWh, balanceElectricity_eur, balanceHeat_eur, balanceMethane_eur, balanceHydrogen_eur});
		return data;

	}*/
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1665502017804</Id>
			<Name><![CDATA[J_EAConversionHydrogenBurner]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionGasBurner
 */
public class J_EAConversionHydrogenBurner extends zero_engine.J_EAConversion implements Serializable {

	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.HYDROGEN;
	protected double outputTemperature_degC;
    /**
     * Default constructor
     */
    public J_EAConversionHydrogenBurner() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionHydrogenBurner(Agent parentAgent, double capacityThermal_kW, double efficiency, double timestep_h, double outputTemperature_degC) {
	    this.parentAgent = parentAgent;
	    this.capacityHeat_kW = capacityThermal_kW;
	    this.eta_r = efficiency;
	    this.timestep_h = timestep_h;
	    this.outputTemperature_degC = outputTemperature_degC;
	    this.energyAssetType = OL_EnergyAssetType.HYDROGEN_FURNACE;
	}

    @Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
		this.heatProduction_kW = capacityHeat_kW * ratioOfCapacity;
		this.hydrogenConsumption_kW = heatProduction_kW / eta_r;
		this.energyUse_kW = (hydrogenConsumption_kW - heatProduction_kW);
		this.energyUsed_kWh += timestep_h * energyUse_kW; // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
    }

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	@Override
	public String toString() {
		return
			"parentAgent = " + parentAgent +" " +
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"eta_r = " + this.eta_r+" ";
	}
	
	@Override
	public double getCurrentTemperature() {
		return outputTemperature_degC;
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1666189454452</Id>
			<Name><![CDATA[J_EAConversionElectricHeater]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionElectricHeater
 */
public class J_EAConversionElectricHeater extends J_EAConversion implements Serializable {

	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.ELECTRICITY;
	protected double outputTemperature_degC;
    /**
     * Default constructor
     */
    public J_EAConversionElectricHeater(Agent parentAgent, double capacityElectric_kW, double efficiency, double timestep_h, double outputTemperature_degC) {
	    this.parentAgent = parentAgent;
	    this.capacityElectric_kW = capacityElectric_kW;
	    this.eta_r = efficiency;
	    this.capacityHeat_kW = this.capacityElectric_kW * this.eta_r;
	    this.timestep_h = timestep_h;
	    this.outputTemperature_degC = outputTemperature_degC;
    }

    @Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("I convert now! ElectricHeater @ " + (ratioOfCapacity * 100) + " %, capacity: " + capacityElectric_kW);
		this.heatProduction_kW = capacityElectric_kW * ratioOfCapacity * eta_r;
		this.electricityConsumption_kW = capacityElectric_kW * ratioOfCapacity;
		this.energyUse_kW = (electricityConsumption_kW - heatProduction_kW);
		this.energyUsed_kWh += timestep_h * energyUse_kW;  // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		this.heatProduced_kWh += timestep_h * heatProduction_kW;
		return returnEnergyFlows();
    }

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	@Override
	public String toString() {
		return 
			"parentAgent = " + parentAgent +" " +
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"eta_r = " + this.eta_r+" "+
			"energyUsed_kWh"+ this.energyUsed_kWh+" "+
			"heatProduced_kWh = " + this.heatProduced_kWh + " ";
	}
	
	@Override
	public double getCurrentTemperature() {
		return outputTemperature_degC;
	}
	
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1666189454453</Id>
			<Name><![CDATA[J_EAConversionCurtailer]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionCurtailer
 */
public class J_EAConversionCurtailer extends J_EAConversion implements Serializable {

	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.ELECTRICITY;
    /**
     * Default constructor
     */
    public J_EAConversionCurtailer(Agent parentAgent, double capacityElectric_kW, double efficiency, double timestep_h) {
	    this.parentAgent = parentAgent;
	    this.capacityElectric_kW = capacityElectric_kW;
	    this.eta_r = efficiency;
	    this.capacityHeat_kW = this.capacityElectric_kW * this.eta_r;
	    this.timestep_h = timestep_h;
    }

    @Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
		this.heatProduction_kW = capacityElectric_kW * ratioOfCapacity * eta_r;
		this.electricityConsumption_kW = capacityElectric_kW * ratioOfCapacity;
		this.energyUse_kW = (electricityConsumption_kW - heatProduction_kW);
		this.energyUsed_kWh += timestep_h * (energyUse_kW); // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		return returnEnergyFlows();
    }

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	@Override
	public String toString() {
		return super.toString();
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1666879973864</Id>
			<Name><![CDATA[J_SimulationResults]]></Name>
			<Text><![CDATA[/**
 * J_SimulationResults
 */
public class J_SimulationResults implements Serializable {

	public double HSMSPeakLoadElectricity_kW;
	public double MSLSPeakLoadElectricity_kW;
	public double cumulativeCapacityHS;
	public double cumulativeCapacityLS;
	public double netOverload_pct;
	public Map<String,Double> timesOfNodePeakLoads_h = new LinkedHashMap<String,Double>();
	public Map<String,Double> gridConnectionMaxLoad_fr = new LinkedHashMap<String,Double>();
	public double MSLSnodePeakPositiveLoadElectricity_kW;
	public double MSLSnodePeakNegativeLoadElectricity_kW;
	//public double checkSumHourlyElectricityImport_MWh;
	//public double checkSumHourlyElectricityExport_MWh;
	public double totalElectricityImport_MWh;
	public double totalElectricityExport_MWh;
	public double totalMethaneImport_MWh;
	public double totalMethaneExport_MWh;
	public double totalHydrogenImport_MWh;
	public double totalHydrogenExport_MWh;
	public double totalDieselImport_MWh;
	public Map<String,Double> totalBatteryUnitsInstalled = new LinkedHashMap<String,Double>();
	public Map<String,Double> totalBatteryChargeAmount_MWh = new LinkedHashMap<String,Double>();
	public Map<String,Double> totalBatteryDischargeAmount_MWh = new LinkedHashMap<String,Double>();
	public Map<String,Double> totalBatteryInstalledCapacity_MWh = new LinkedHashMap<String,Double>();
	//public Map<Integer,Double> SystemHourlyElectricityImport_MWh = new LinkedHashMap<Integer,Double>();
	//public Map<Integer,Double> SystemHourlyElectricityExport_MWh = new LinkedHashMap<Integer,Double>();
	//public Map<Integer,Double> totalEVHourlyChargingProfile_kWh = new LinkedHashMap<Integer,Double>();
	//public Map<Integer,Double> totalEHGVHourlyChargingProfile_kWh = new LinkedHashMap<Integer,Double>();
	//public Map<Integer,Double> totalBatteryHourlyChargingProfile_kWh = new LinkedHashMap<Integer, Double>();
	public double totalSelfConsumption_fr;
	public double totalSelfSufficiency_fr;
	public double TotalEnergyUsed_MWh;
	public double TotalEnergyProduced_MWh;
	public double TotalEnergyCurtailed_MWh;
	public double shareElectricvehiclesInHouseholds;

	 /**
     * Default constructor
     */
    public J_SimulationResults() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_SimulationResults( double v_gridNodeLoadElectricityHSMS_kW, double v_gridNodeLoadElectricityMSLS_kW, double cumulativeCapacityHS, double cumulativeCapacityLS, double netOverload_pct, LinkedHashMap<String,Double> c_timesOfNodePeakLoads_h, LinkedHashMap<String,Double> gridConnectionMaxLoad_fr, double MSLSnodePeakPositiveLoadElectricity_kW, double MSLSnodePeakNegativeLoadElectricity_kW, double totalElectricityImport_MWh, double totalElectricityExport_MWh, double totalMethaneImport_MWh, double totalMethaneExport_MWh, double totalHydrogenImport_MWh, double totalHydrogenExport_MWh, double totalDieselImport_MWh, LinkedHashMap<String,Double> totalBatteryUnitsInstalled, LinkedHashMap<String,Double> totalBatteryChargeAmount_MWh, LinkedHashMap<String,Double> totalBatteryDischargeAmount_MWh, LinkedHashMap<String,Double> totalBatteryInstalledCapacity_MWh, LinkedHashMap<Integer,Double> c_globalElectricityImportProfile_MWhph, LinkedHashMap<Integer,Double> c_globalElectricityExportProfile_MWhph, LinkedHashMap<Integer,Double> totalEVHourlyChargingProfile_kWh, LinkedHashMap<Integer,Double> totalEHGVHourlyChargingProfile_kWh, LinkedHashMap<Integer,Double> totalBatteryHourlyChargingProfile_kWh, double totalSelfConsumption_fr, double totalSelfSufficiency_fr, double TotalEnergyUsed_MWh, double TotalEnergyProduced_MWh, double TotalEnergyCurtailed_MWh, double shareElectricvehiclesInHouseholds) {
		this.HSMSPeakLoadElectricity_kW = v_gridNodeLoadElectricityHSMS_kW;
		this.MSLSPeakLoadElectricity_kW = v_gridNodeLoadElectricityMSLS_kW;
		this.cumulativeCapacityHS = cumulativeCapacityHS;
		this.cumulativeCapacityLS = cumulativeCapacityLS;
		this.netOverload_pct = netOverload_pct;
		this.timesOfNodePeakLoads_h = c_timesOfNodePeakLoads_h;
		this.gridConnectionMaxLoad_fr = gridConnectionMaxLoad_fr;
		this.MSLSnodePeakPositiveLoadElectricity_kW = MSLSnodePeakPositiveLoadElectricity_kW;
		this.MSLSnodePeakNegativeLoadElectricity_kW = MSLSnodePeakNegativeLoadElectricity_kW;
		this.totalElectricityImport_MWh = totalElectricityImport_MWh;
		this.totalElectricityExport_MWh = totalElectricityExport_MWh;
		this.totalMethaneImport_MWh = totalMethaneImport_MWh;
		this.totalMethaneExport_MWh = totalMethaneExport_MWh;
		this.totalHydrogenImport_MWh = totalHydrogenImport_MWh;
		this.totalHydrogenExport_MWh = totalHydrogenExport_MWh;
		this.totalDieselImport_MWh = totalDieselImport_MWh;
		this.totalBatteryUnitsInstalled = totalBatteryUnitsInstalled;
		this.totalBatteryChargeAmount_MWh = totalBatteryChargeAmount_MWh;
		this.totalBatteryDischargeAmount_MWh = totalBatteryDischargeAmount_MWh;
		this.totalBatteryInstalledCapacity_MWh = totalBatteryInstalledCapacity_MWh;
		//this.SystemHourlyElectricityImport_MWh = c_globalElectricityImportProfile_MWhph;
		//this.SystemHourlyElectricityExport_MWh = c_globalElectricityExportProfile_MWhph;
		//this.totalEVHourlyChargingProfile_kWh = totalEVHourlyChargingProfile_kWh;
		//this.totalEHGVHourlyChargingProfile_kWh = totalEHGVHourlyChargingProfile_kWh;
		//this.totalBatteryHourlyChargingProfile_kWh = totalBatteryHourlyChargingProfile_kWh;
		this.totalSelfConsumption_fr = totalSelfConsumption_fr;
		this.totalSelfSufficiency_fr = totalSelfSufficiency_fr;
		this.TotalEnergyUsed_MWh = TotalEnergyUsed_MWh;
		this.TotalEnergyProduced_MWh = TotalEnergyProduced_MWh;
		this.TotalEnergyCurtailed_MWh = TotalEnergyCurtailed_MWh;
		this.shareElectricvehiclesInHouseholds = shareElectricvehiclesInHouseholds;
    }

	@Override
	public String toString() {
		return
			"HSMSPeakLoadElectricity_kW = " + HSMSPeakLoadElectricity_kW + " " +
			"MSLSPeakLoadElectricity_kW = " + MSLSPeakLoadElectricity_kW + " " +
			"MSLSnodePeakPositiveLoadElectricity_kW = " + MSLSnodePeakPositiveLoadElectricity_kW + " " +
			"MSLSnodePeakNegativeLoadElectricity_kW = " + MSLSnodePeakNegativeLoadElectricity_kW + " " +
			//"checkSumHourlyElectricityImport_MWh = " + checkSumHourlyElectricityImport_MWh + " " +
			//"checkSumHourlyElectricityExport_MWh = " + checkSumHourlyElectricityExport_MWh + " " +
			"totalElectricityImport_MWh = " + totalElectricityImport_MWh + " " +
			"totalElectricityExport_MWh = " + totalElectricityExport_MWh + " " +
			"totalMethaneImport_MWh = " + totalMethaneImport_MWh + " " +
			"totalMethaneExport_MWh = " + totalMethaneExport_MWh + " " +
			"totalHydrogenImport_MWh = " + totalHydrogenImport_MWh + " " +
			"totalHydrogenExport_MWh = " + totalHydrogenExport_MWh + " "+
			"totalDieselImport_MWh = " + totalDieselImport_MWh + " " +
			"totalBatteryUnitsInstalled = " + totalBatteryUnitsInstalled + " "+
			"totalBatteryChargeAmount_MWh = " + totalBatteryChargeAmount_MWh + " "+
			"totalBatteryDischargeAmount_MWh = " + totalBatteryDischargeAmount_MWh + " "+
			"totalBatteryInstalledCapacity_MWh = " + totalBatteryInstalledCapacity_MWh + " "+
			//"SystemHourlyElectricityImport_MWh = " + SystemHourlyElectricityImport_MWh.toString() + " " +
			//"SystemHourlyElectricityExport_MWh = " + SystemHourlyElectricityExport_MWh.toString() + " " +
			//"totalEVHourlyChargingProfile_kWh = " + totalEVHourlyChargingProfile_kWh + " "+
			//"totalEHGVHourlyChargingProfile_kWh = " + totalEHGVHourlyChargingProfile_kWh + " "+
			//"totalBatteryHourlyChargingProfile_kWh = " + totalBatteryHourlyChargingProfile_kWh + " " +
			"totalSelfConsumption_fr = " + totalSelfConsumption_fr*100 + " %" +
			"totalSelfSufficiency_fr = " + totalSelfSufficiency_fr*100 + " %" +
			"totalEnergyUsed_MWh = " + TotalEnergyUsed_MWh + " MWh" +
			"TotalEnergyProduced_MWh = " + TotalEnergyProduced_MWh + " MWh" +
			"TotalEnergyCurtailed_MWh = " + TotalEnergyCurtailed_MWh + " MWh" +
			"shareElectricvehiclesInHouseholds = " + shareElectricvehiclesInHouseholds + " fr";
	}

	public void updateData( double v_gridNodePeakLoadElectricityHSMS_kW, double v_gridNodePeakLoadElectricityMSLS_kW, double cumulativeCapacityHS, double cumulativeCapacityLS, double netOverload_pct, LinkedHashMap<String,Double> c_timesOfNodePeakLoads_h, LinkedHashMap<String,Double> gridConnectionMaxLoad_fr, double MSLSnodePeakPositiveLoadElectricity_kW, double MSLSnodePeakNegativeLoadElectricity_kW, double totalElectricityImport_MWh, double totalElectricityExport_MWh, double totalMethaneImport_MWh, double totalMethaneExport_MWh, double totalHydrogenImport_MWh, double totalHydrogenExport_MWh, double totalDieselImport_MWh, LinkedHashMap<String,Double> totalBatteryUnitsInstalled, LinkedHashMap<String,Double> totalBatteryChargeAmount_MWh, LinkedHashMap<String,Double> totalBatteryDischargeAmount_MWh, LinkedHashMap<String,Double> totalBatteryInstalledCapacity_MWh, double totalSelfConsumption_fr, double totalSelfSufficiency_fr, double TotalEnergyUsed_MWh, double TotalEnergyProduced_MWh, double TotalEnergyCurtailed_MWh, double shareElectricvehiclesInHouseholds) {
		this.HSMSPeakLoadElectricity_kW = v_gridNodePeakLoadElectricityHSMS_kW;
		this.MSLSPeakLoadElectricity_kW = v_gridNodePeakLoadElectricityMSLS_kW;
		this.cumulativeCapacityHS =cumulativeCapacityHS;
		this.cumulativeCapacityLS = cumulativeCapacityLS;
		this.netOverload_pct = netOverload_pct;
		this.timesOfNodePeakLoads_h = c_timesOfNodePeakLoads_h;
		this.gridConnectionMaxLoad_fr = gridConnectionMaxLoad_fr;
		this.MSLSnodePeakPositiveLoadElectricity_kW = MSLSnodePeakPositiveLoadElectricity_kW;
		this.MSLSnodePeakNegativeLoadElectricity_kW = MSLSnodePeakNegativeLoadElectricity_kW;
		this.totalElectricityImport_MWh = roundToDecimal( totalElectricityImport_MWh , 2 );
		this.totalElectricityExport_MWh = roundToDecimal( totalElectricityExport_MWh, 2 );
		this.totalMethaneImport_MWh = roundToDecimal( totalMethaneImport_MWh, 2 );
		this.totalMethaneExport_MWh = roundToDecimal( totalMethaneExport_MWh, 2 );
		this.totalHydrogenImport_MWh = roundToDecimal( totalHydrogenImport_MWh, 2 );
		this.totalHydrogenExport_MWh = roundToDecimal( totalHydrogenExport_MWh, 2 );
		this.totalDieselImport_MWh = roundToDecimal( totalDieselImport_MWh, 2 );
		this.totalBatteryUnitsInstalled = totalBatteryUnitsInstalled;
		this.totalBatteryChargeAmount_MWh = totalBatteryChargeAmount_MWh;
		this.totalBatteryDischargeAmount_MWh = totalBatteryDischargeAmount_MWh;
		this.totalBatteryInstalledCapacity_MWh = totalBatteryInstalledCapacity_MWh;
		//this.SystemHourlyElectricityImport_MWh = c_globalElectricityImportProfile_MWhph;
		//this.SystemHourlyElectricityExport_MWh = c_globalElectricityExportProfile_MWhph;
		//this.checkSumHourlyElectricityImport_MWh = SystemHourlyElectricityImport_MWh.values().stream().mapToDouble(d -> d).sum();
		//this.checkSumHourlyElectricityExport_MWh = SystemHourlyElectricityExport_MWh.values().stream().mapToDouble(d -> d).sum();
		//this.totalEVHourlyChargingProfile_kWh = totalEVHourlyChargingProfile_kWh;
		//this.totalEHGVHourlyChargingProfile_kWh = totalEHGVHourlyChargingProfile_kWh;
		//this.totalBatteryHourlyChargingProfile_kWh = totalBatteryHourlyChargingProfile_kWh;
		this.totalSelfConsumption_fr = totalSelfConsumption_fr;
		this.totalSelfSufficiency_fr = totalSelfSufficiency_fr;
		this.TotalEnergyUsed_MWh = TotalEnergyUsed_MWh;
		this.TotalEnergyProduced_MWh = TotalEnergyProduced_MWh;
		this.TotalEnergyCurtailed_MWh = TotalEnergyCurtailed_MWh;
		this.shareElectricvehiclesInHouseholds = shareElectricvehiclesInHouseholds;
	}


	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1666879973865</Id>
			<Name><![CDATA[J_HourlyCurvesData]]></Name>
			<Text><![CDATA[/**
 * J_HourlyCurvesData
 */
public class J_HourlyCurvesData implements Serializable {

	public double checkSumHourlyElectricityImport_MWh;
	public double checkSumHourlyElectricityExport_MWh;
	public Map<Integer,Double> SystemHourlyElectricityImport_MWh = new LinkedHashMap<Integer,Double>();
	public Map<Integer,Double> SystemHourlyElectricityExport_MWh = new LinkedHashMap<Integer,Double>();
	public Map<Integer,Double> totalEVHourlyChargingProfile_kWh = new LinkedHashMap<Integer,Double>();
	public Map<Integer,Double> totalEHGVHourlyChargingProfile_kWh = new LinkedHashMap<Integer,Double>();
	public Map<Integer,Double> totalBatteryHourlyChargingProfile_kWh = new LinkedHashMap<Integer, Double>();

	 /**
     * Default constructor
     */
    public J_HourlyCurvesData() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_HourlyCurvesData(LinkedHashMap<Integer,Double> c_globalElectricityImportProfile_MWhph, LinkedHashMap<Integer,Double> c_globalElectricityExportProfile_MWhph, LinkedHashMap<Integer,Double> totalEVHourlyChargingProfile_kWh, LinkedHashMap<Integer,Double> totalEHGVHourlyChargingProfile_kWh, LinkedHashMap<Integer,Double> totalBatteryHourlyChargingProfile_kWh) {

		this.SystemHourlyElectricityImport_MWh = c_globalElectricityImportProfile_MWhph;
		this.SystemHourlyElectricityExport_MWh = c_globalElectricityExportProfile_MWhph;
		this.totalEVHourlyChargingProfile_kWh = totalEVHourlyChargingProfile_kWh;
		this.totalEHGVHourlyChargingProfile_kWh = totalEHGVHourlyChargingProfile_kWh;
		this.totalBatteryHourlyChargingProfile_kWh = totalBatteryHourlyChargingProfile_kWh;
		this.checkSumHourlyElectricityImport_MWh = 0;
		this.checkSumHourlyElectricityExport_MWh = 0;	

    }

	@Override
	public String toString() {
		return
			"SystemHourlyElectricityImport_MWh = " + SystemHourlyElectricityImport_MWh.toString() + " " +
			"SystemHourlyElectricityExport_MWh = " + SystemHourlyElectricityExport_MWh.toString() + " " +
			"totalEVHourlyChargingProfile_kWh = " + totalEVHourlyChargingProfile_kWh + " "+
			"totalEHGVHourlyChargingProfile_kWh = " + totalEHGVHourlyChargingProfile_kWh + " "+
			"totalBatteryHourlyChargingProfile_kWh = " + totalBatteryHourlyChargingProfile_kWh + " " ;
	}

	public void updateData(LinkedHashMap<Integer,Double> c_globalElectricityImportProfile_MWhph, LinkedHashMap<Integer,Double> c_globalElectricityExportProfile_MWhph, LinkedHashMap<Integer,Double> totalEVHourlyChargingProfile_kWh, LinkedHashMap<Integer,Double> totalEHGVHourlyChargingProfile_kWh, LinkedHashMap<Integer,Double> totalBatteryHourlyChargingProfile_kWh) {
		this.SystemHourlyElectricityImport_MWh = c_globalElectricityImportProfile_MWhph;
		this.SystemHourlyElectricityExport_MWh = c_globalElectricityExportProfile_MWhph;
		this.totalEVHourlyChargingProfile_kWh = totalEVHourlyChargingProfile_kWh;
		this.totalEHGVHourlyChargingProfile_kWh = totalEHGVHourlyChargingProfile_kWh;
		this.totalBatteryHourlyChargingProfile_kWh = totalBatteryHourlyChargingProfile_kWh;
		this.checkSumHourlyElectricityImport_MWh = SystemHourlyElectricityImport_MWh.values().stream().mapToDouble(d -> d).sum();
		this.checkSumHourlyElectricityExport_MWh = SystemHourlyElectricityExport_MWh.values().stream().mapToDouble(d -> d).sum();
	}


	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1668600448637</Id>
			<Name><![CDATA[J_EADieselVehicle]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionDieselVehicle
 */
public class J_EADieselVehicle extends J_EAVehicle implements Serializable {

	//private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.DIESEL;

	/**
     * Default constructor
     */
    public J_EADieselVehicle() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EADieselVehicle(Agent ownerAssetAgent, double energyConsumption_kWhpkm, double timestep_h, double vehicleScaling) {
	    this.parentAgent = ownerAssetAgent;
	    this.energyConsumption_kWhpkm = energyConsumption_kWhpkm;
	    this.timestep_h = timestep_h;
	    this.vehicleScaling = vehicleScaling;
	    this.energyAssetType = OL_EnergyAssetType.DIESEL_VEHICLE;
	}
    
    @Override
    public void f_updateAllFlows(double powerFraction_fr) {
    	//operateBounded(powerFraction_fr);
    	double[] arr=returnEnergyFlows();    	
    	resetFlows();
    	//return arr;
    	if (parentAgent instanceof GridConnection) {    		
    		((GridConnection)parentAgent).f_addFlows(arr);
    	}
    }
    
    /*public double[] operate(double ratioOfChargeCapacity_r) {
    	return returnEnergyFlows();
    }*/
    
	@Override
	public boolean startTrip() {
		if (available) {
			available = false;
			//traceln("storage capacity start of trip: " + storageCapacity_kWh + ", state of charge: " + stateOfCharge_r);
			//traceln("Diesel vehicle starting trip!");
			return true;
		} else {
			traceln("Trip not started because vehicle not available!");
			return false; // Trip not started because vehicle not available!
		}
	}	

	@Override
    public boolean endTrip(double tripDist_km) {
		
		if(available) {
			traceln("Trip not ended because EV never left!");
			return false;
		} else {
			mileage_km += tripDist_km;
			//traceln( "J_EADieselVehicle comes back, trip distance: " + tripDist_km + ", energy consumption: " + tripDist_km * energyConsumption_kWhpkm);// + ", timestep: " + timestep_h);
	    	double energyUsedForTrip_kWh = tripDist_km * vehicleScaling * energyConsumption_kWhpkm;
	    	energyUsed_kWh += energyUsedForTrip_kWh;
	    	dieselConsumption_kW = energyUsedForTrip_kWh / timestep_h;
	    	energyUse_kW = dieselConsumption_kW;
	    	available = true;
	    	//traceln("Diesel vehicle finished trip!");
	    	return true;

		}
    	//traceln("Current milage: " + mileage + ", energy consumption per km: " + energyConsumption_kWhpkm);
    }

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}
	
	public boolean getAvailability() {
		return available;
	}

	@Override
    public void storeStatesAndReset() {
    	// Each energy asset that has some states should overwrite this function!
    	energyUsedStored_kWh = energyUsed_kWh;
    	energyUsed_kWh = 0.0;
    	availableStored = available;
    	available = true;
    	mileage_km = 0;
    	resetFlows();    	
    }
    
	@Override
    public void restoreStates() {
    	// Each energy asset that has some states should overwrite this function!
    	energyUsed_kWh = energyUsedStored_kWh;    	
    	available = availableStored;
    }
	
	
	@Override
	public String toString() {
		return
			"parentAgent = " + parentAgent +" " +
			"energyConsumption_kWhpkm =" + energyConsumption_kWhpkm +" " +
			"vehicleScaling = " + vehicleScaling;
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1671107396262</Id>
			<Name><![CDATA[J_EAConversionElektrolyser]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionElektrolyser
 */
public class J_EAConversionElektrolyser extends zero_engine.J_EAConversion implements Serializable {

	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HYDROGEN;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.ELECTRICITY;
    /**
	/**
     * Default constructor
     */
    public J_EAConversionElektrolyser() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionElektrolyser(Agent parentAgent, double capacityElectric_kW, double efficiency_r, double  timestep_h) {
	    this.parentAgent = parentAgent;
	    this.capacityElectric_kW = capacityElectric_kW;
	    this.eta_r = efficiency_r;
	    this.timestep_h = timestep_h;
	}

    @Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
    	ratioOfCapacity=max(0,ratioOfCapacity); // Prevent negative elektrolyser power. This is not a fuel cell! ^^
		this.electricityConsumption_kW = capacityElectric_kW * ratioOfCapacity;
    	this.hydrogenProduction_kW = electricityConsumption_kW * eta_r;
    	this.energyUse_kW = (electricityConsumption_kW - hydrogenProduction_kW);
		this.energyUsed_kWh += timestep_h * energyUse_kW; // This represents losses! Optionally, this could also be a waste-heat source
    	//return arr;
		return returnEnergyFlows();
    }

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	public double getEta_r() {
		return this.eta_r;
	}
	
	@Override
	public String toString() {
		return
			"parentAgent = " + parentAgent +" " +
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"eta_r = " + this.eta_r+" ";
	}

	public String getOwnerAgent() {
		return parentAgent.agentInfo();
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}                         ]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1671522756085</Id>
			<Name><![CDATA[J_EAConversionGasCHP]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionGasCHP
 */
public class J_EAConversionGasCHP extends zero_engine.J_EAConversion implements Serializable {

	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.ELECTRICITY;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.METHANE;
	protected double outputTemperature_degC;
    /**
     * Default constructor
     */
    public J_EAConversionGasCHP() {
    }

    /**
     * Constructor initializing the fields
     */
    public J_EAConversionGasCHP(Agent parentAgent, double capacityElectric_kW, double capacityHeat_kW, double efficiency, double timestep_h, double outputTemperature_degC ) {
	    this.parentAgent = parentAgent;
	    this.capacityElectric_kW = capacityElectric_kW;
	    this.eta_r = efficiency;
	    this.capacityHeat_kW = capacityHeat_kW; 
	    this.timestep_h = timestep_h;
	    this.outputTemperature_degC = outputTemperature_degC;
	}

	@Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("CHP can produce " + capacityElectric_kW + " kW electricity");
    	this.electricityProduction_kW = capacityElectric_kW * ratioOfCapacity;
		this.heatProduction_kW = capacityHeat_kW * ratioOfCapacity;
		
		this.methaneConsumption_kW = (electricityProduction_kW  + heatProduction_kW )/ eta_r ;
		this.energyUse_kW = (methaneConsumption_kW - heatProduction_kW - electricityProduction_kW)  ;
		this.energyUsed_kWh += timestep_h * energyUse_kW; // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		this.heatProduced_kWh += this.heatProduction_kW * timestep_h;
		this.electricityProduced_kWh += this.electricityProduction_kW * timestep_h;
		//this.electricityProduced_kWh = this.electricityProduction_kW * timestep_h;
				
		return returnEnergyFlows();
    }

	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}

	@Override
	public String toString() {
		return
			"parentAgent = " + parentAgent +" " +
			"capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"eta_r = " + this.eta_r+" "+
			"energyUsed_kWh"+ this.energyUsed_kWh+" "+
			"heatProduced_kWh = " + this.heatProduced_kWh + " ";
	}
	
	@Override
	public double getCurrentTemperature() {
		return outputTemperature_degC;
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1673445448881</Id>
			<Name><![CDATA[J_EAElectricHob]]></Name>
			<Text><![CDATA[/**
 * J_EAElectricHob
 */	
public class J_EAElectricHob extends J_EAConversion implements Serializable {

	//private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	//private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.ELECTRICITY;
	protected double outputTemperature_degC;

    /**
     * Default constructor
     */
    public J_EAElectricHob(Agent ownerAgent, double capacityThermal_kW, double efficiency, double timestep_h, double outputTemperature_degC) {
    	this.parentAgent= ownerAgent;
	    this.capacityHeat_kW = capacityThermal_kW;
	    this.eta_r = efficiency;
	    //this.capacityElectric_kW = capacityThermal_kW / eta_r;
	    this.timestep_h = timestep_h;
	    this.outputTemperature_degC = outputTemperature_degC;
	    this.energyAssetType = OL_EnergyAssetType.ELECTRIC_HOB;
    }

    @Override 
    public double[] operate( double ratioOfCapacity ) {
    	//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
    	this.heatProduction_kW = capacityHeat_kW * ratioOfCapacity;
		this.electricityConsumption_kW = heatProduction_kW / eta_r;
		this.energyUse_kW = (electricityConsumption_kW - heatProduction_kW);
		this.energyUsed_kWh += timestep_h * (electricityConsumption_kW - heatProduction_kW); // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		this.heatProduced_kWh += heatProduction_kW * timestep_h;
		return returnEnergyFlows();
    }
    
	@Override
	public String toString() {
		return
			"AssetType = " + energyAssetType + 
			" parentAgent = " + parentAgent +", Energy consumed = " + this.energyUsed_kWh +
			" capacityElectric_kW = " + this.capacityElectric_kW +" "+
			"capacityHeat_kW = " + this.capacityHeat_kW +" "+
			"eta_r = " + this.eta_r+" " +
			"outputTemperature_degC = " + this.outputTemperature_degC + " "+
			"energyUsed_kWh (losses) = " + this.energyUsed_kWh + " "+
			"heatProducted_kWh = " +this.heatProduced_kWh + " ";
	}
	
	@Override
	public double getCurrentTemperature() {
		return outputTemperature_degC;
	}
	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1673445438882</Id>
			<Name><![CDATA[J_Contract]]></Name>
			<Text><![CDATA[/**
 * J_Contract
 */
public class J_Contract implements Serializable {

	public String contractScope; // Kan energySupplier of Coop zijn  (dus kan niet specifieker zijn dan 'String' hier, tenzij we interfaces gaan gebruiken. ('Implements energy supplier')
	public OL_EnergyCarrierType energyCarrier;
	public OL_ContractType contractType;
	public double EnergyTransactionVolume_kWh=0;
	public double FinancialTransactionVolume_eur=0;
	public String contractHolder;
	public double annualFee_eur=0;
	
    public J_Contract() {
    }
	  /**
     * Constructor initializing the fields
     */
    public J_Contract(String contractScope, OL_EnergyCarrierType energyCarrier) {
	    this.contractScope = contractScope; // ID of actor that is the other 'end' of this contract.
	    //this.contractType = contractType; // Fixed or variable energy price?
	    this.energyCarrier = energyCarrier;
	}
    
    @Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"contractScope = " + contractScope +" ";
	}
}

]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1673445448882</Id>
			<Name><![CDATA[J_DeliveryContract]]></Name>
			<Text><![CDATA[/**
 * J_DeliveryContract
 */
public class J_DeliveryContract extends zero_engine.J_Contract implements Serializable {

	//public String contractScope; // Kan energySupplier of Coop zijn  (dus kan niet specifieker zijn dan 'String' hier, tenzij we interfaces gaan gebruiken. ('Implements energy supplier')
	public OL_DeliveryContractType deliveryContractType; // Fixed of variable
	public double deliveryPrice_eurpkWh;
	public double feedinPrice_eurpkWh;
	public double idx;
	//public OL_EnergyCarrierType energyCarrier;
	
	  /**
     * Constructor initializing the fields
     */
    public J_DeliveryContract(String contractScope, OL_DeliveryContractType contractType, OL_EnergyCarrierType energyCarrier, double deliveryPrice_eurpkWh, double feedinPrice_eurpkWh, double annualFee_eur ) {
	    this.contractScope = contractScope; // ID of actor that is the other 'end' of this contract.
	    this.deliveryContractType = contractType; // Fixed or variable energy price?
	    this.energyCarrier = energyCarrier;
	    this.deliveryPrice_eurpkWh = deliveryPrice_eurpkWh;
	    this.feedinPrice_eurpkWh = feedinPrice_eurpkWh;
	    this.contractType = OL_ContractType.DELIVERY;
	    this.annualFee_eur = annualFee_eur;
	}
    
    @Override
	public String toString() {
		return
			"type = " + this.getClass().toString() + " " +
			"contractScope = " + contractScope +" " +
			"deliveryContractType = " + deliveryContractType.toString() +" "+
			"deliveryPrice_eurpkWh = " + deliveryPrice_eurpkWh +" "+
			"feedinPrice_eurpkWh = " + feedinPrice_eurpkWh +" ";
	}
}

]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1673445448883</Id>
			<Name><![CDATA[J_TransportContract]]></Name>
			<Text><![CDATA[/**
 * J_TransportContract
 */
public class J_TransportContract extends zero_engine.J_Contract implements Serializable {

	//public String contractScope; // Kan GridOperator of Coop zijn (dus kan niet specifieker zijn dan 'String' hier, tenzij we interfaces gaan gebruiken. ('Implements grid operator')
	//public OL_TransportContractType contractType; // Nodal-pricing, bandwidth, peak
	public OL_TransportContractType transportContractType; //
	public double bandwidthTreshold_kW;
	public double bandwidthTariff_eurpkWh;
	public double idx;
	//public OL_EnergyCarrierType energyCarrier;
	
	  /**
     * Constructor initializing the fields
     */
    public J_TransportContract(String contractScope, OL_TransportContractType transportContractType, OL_EnergyCarrierType energyCarrier, double bandwidthTreshold_kW, double bandwidthTariff_eurpkWh, double annualFee_eur ) {
	    this.contractScope = contractScope; // ID of actor that is the other 'end' of this contract.	    
	    this.energyCarrier = energyCarrier;
	    this.transportContractType = transportContractType;
	    this.bandwidthTreshold_kW = bandwidthTreshold_kW;
	    this.bandwidthTariff_eurpkWh = bandwidthTariff_eurpkWh;
	    this.contractType = OL_ContractType.TRANSPORT;
	    this.annualFee_eur = annualFee_eur;
	}
    
    @Override
   	public String toString() {
   		return
   			"type = " + this.getClass().toString() + " " +
   			"contractScope = " + contractScope +" ";
   	}
}
]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1673445448884</Id>
			<Name><![CDATA[J_TaxContract]]></Name>
			<Text><![CDATA[/**
 * J_TaxContract
 */
public class J_TaxContract extends zero_engine.J_Contract implements Serializable {

	//public String contractScope; // Kan energySupplier of Coop zijn
	//public OL_ContractType contractType; // Fixed of variable
	public double deliveryTax_eurpkWh;
	public double feedinTax_eurpkWh;
	public double proportionalTax_pct;
	public double idx;
	//public OL_EnergyCarrierType energyCarrier;
	
	  /**
     * Constructor initializing the fields
     */
    public J_TaxContract(String contractScope, OL_EnergyCarrierType energyCarrier, double deliveryTax_eurpkWh, double feedinTax_eurpkWh, double proportionalTax_pct, double annualFee_eur ) {
	    this.contractScope = contractScope; // ID of actor that is the other 'end' of this contract.	    
	    this.energyCarrier = energyCarrier;
	    this.deliveryTax_eurpkWh = deliveryTax_eurpkWh;
	    this.feedinTax_eurpkWh = feedinTax_eurpkWh;
	    this.proportionalTax_pct = proportionalTax_pct;
	    this.contractType = OL_ContractType.TAX;
	    this.annualFee_eur = annualFee_eur;
	}
}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1673445448885</Id>
			<Name><![CDATA[J_ConnectionContract]]></Name>
			<Text><![CDATA[/**
 * J_ConnectionContract
 */
public class J_ConnectionContract extends zero_engine.J_Contract implements Serializable {

	//public String contractScope; // Kan energySupplier of Coop zijn
	public OL_ConnectionContractType connectionContractType; // Fixed of variable
	public double nfATOstart_h = 0;
	public double nfATOend_h = 0;
	public double nfATOpower_kW = 0;
	public double idx;
	
    public J_ConnectionContract() {
    }
	  /**
     * Constructor initializing the fields
     */
    public J_ConnectionContract(String contractScope, OL_ConnectionContractType contractType, OL_EnergyCarrierType energyCarrier, double nfATOstart_h, double nfATOend_h, double nfATOpower_kW, double annualFee_eur ) {
	    this.contractScope = contractScope; // ID of actor that is the other 'end' of this contract.
	    this.connectionContractType = contractType; // Fixed or variable energy price?
	    this.energyCarrier = energyCarrier;
	    this.nfATOstart_h = nfATOstart_h;
	    this.nfATOend_h = nfATOend_h;
	    this.nfATOpower_kW = nfATOpower_kW;
	    this.contractType = OL_ContractType.CONNECTION;
	    this.annualFee_eur = annualFee_eur;
	}
}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1678469210821</Id>
			<Name><![CDATA[J_EAConversionCurtailerHeat]]></Name>
			<Text><![CDATA[/**
 * J_EAConversionCurtailerHeat
 */
public class J_EAConversionCurtailerHeat extends J_EAConversion implements Serializable {

	private OL_EnergyCarrierType energyCarrierProduced = OL_EnergyCarrierType.HEAT;
	private OL_EnergyCarrierType energyCarrierConsumed = OL_EnergyCarrierType.HEAT;
    /**
     * Default constructor
     */
    public J_EAConversionCurtailerHeat(Agent parentAgent, double capacityHeat_kW, double efficiency, double timestep_h) {
	    this.parentAgent = parentAgent;
	    this.capacityHeat_kW = capacityHeat_kW;
	    this.eta_r = efficiency;
//	    this.capacityHeat_kW = this.capacityHeat_kW * this.eta_r;
	    this.timestep_h = timestep_h;
    }

    @Override
    public double[] operate(double ratioOfCapacity) {
		//traceln("I convert now! GasBurner @ " + (ratioOfCapacity * 100) + " %");
		heatProduction_kW = capacityHeat_kW * ratioOfCapacity * eta_r;
		heatConsumption_kW = capacityHeat_kW * ratioOfCapacity;
		energyUse_kW = (heatConsumption_kW - heatProduction_kW);
		energyUsed_kWh += timestep_h * energyUse_kW; // This represents losses!
		//double[] arr = {this.electricityProduction_kW, this.methaneProduction_kW, this.hydrogenProduction_kW, this.heatProduction_kW, this.electricityConsumption_kW, this.methaneConsumption_kW, this.hydrogenConsumption_kW, this.heatConsumption_kW };
    	//return arr;
		heatConsumed_kWh += heatConsumption_kW * timestep_h;
		heatProduced_kWh += heatProduction_kW * timestep_h;
		
		return returnEnergyFlows();
    }
    
    @Override
	public double getEnergyUsed_kWh() {
		return energyUsed_kWh;
	}
	
	@Override
	public double getHeatCapacity_kW() {
		return capacityHeat_kW;
	}

	@Override
	public String toString() {
		return
			"parentAgent = " + parentAgent +", Energy consumed = " + energyUsed_kWh + " " +
			"capacityHeat_kW = " + capacityHeat_kW +" "+
			"eta_r = " + eta_r+" " +
			"energyUsed_kWh (losses) = " + energyUsed_kWh + " "+
			"heatConsumed_kWh = " + heatConsumed_kWh + " "+
			"heatProduced_kWh = " + heatProduced_kWh + " ";
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1692861398767</Id>
			<Name><![CDATA[J_ActivityTracker]]></Name>
			<Text><![CDATA[/**
 * J_ActivityTracker
 */	
public class J_ActivityTracker implements Serializable {
	protected EnergyModel energyModel;

	// Tripdata
	protected ArrayList<Double> starttimes_min = new ArrayList<>();
	protected ArrayList<Double> endtimes_min = new ArrayList<>();
	//private ArrayList<Double> eventMagnitude = new ArrayList<>();
    public int nbActivities = 0;
	public int v_eventIndex = 0;
	private int v_eventIndexStored =0;

	
    /**
     * Default constructor
     */
    public J_ActivityTracker() {
    }
    
    public J_ActivityTracker(EnergyModel main, int rowIndex, double time_min) {
    }
    
    public void storeAndResetState() {
    	v_eventIndexStored = v_eventIndex;
    	v_eventIndex = 0;
    }
    
    public void restoreState() {
    	v_eventIndex = v_eventIndexStored;
	}
    

	@Override
	public String toString() {
		return super.toString();
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1692862190945</Id>
			<Name><![CDATA[J_ActivityTrackerTrips]]></Name>
			<Text><![CDATA[/**
 * J_ActivityTrackerTrips
 */	
public class J_ActivityTrackerTrips extends J_ActivityTracker implements Serializable {
	
	private ArrayList<Double> distances_km = new ArrayList<>();
	private int rowIndex;
	public J_EAVehicle Vehicle;
	public double v_idleTimeToNextTrip_min;
	public double v_tripDist_km;
	public double v_energyNeedForNextTrip_kWh;
	public double v_nextEventStartTime_min;
	
    /**
     * Default constructor
     */
    public J_ActivityTrackerTrips() {
    }
    
    public J_ActivityTrackerTrips(EnergyModel main, ExcelFile tripsExcel, int rowIndex, double time_min, J_EAVehicle Vehicle) {
    	this.energyModel = main;
    	this.rowIndex = rowIndex;
    	this.Vehicle = Vehicle;
    	
    	//if (mobilityPatternType == OL_MobilityPatternType.PRIVATE_VEHICLE) {
		    nbActivities = roundToInt(tripsExcel.getCellNumericValue("sheet1", rowIndex + 2, 2));
	
		    for (int i = 0; i < nbActivities; i++){
		    	starttimes_min.add(tripsExcel.getCellNumericValue("sheet1", rowIndex + 2, 3 + i * 3));
		    	endtimes_min.add(tripsExcel.getCellNumericValue("sheet1", rowIndex + 2, 4 + i * 3));
		    	distances_km.add(min(350,tripsExcel.getCellNumericValue("sheet1", rowIndex + 2, 5 + i * 3)));
			    if (rowIndex == 55) {
				    //Reducing trip lengths on rowIndex 55, they are too long for current-day EVs!
    		    	distances_km.set(i,distances_km.get(i)/2.0);
    		    }

		    }
	
    	/*} else if (mobilityPatternType == OL_MobilityPatternType.TRUCK) {
		    nbActivities = roundToInt(main.inputTruckTrips.getCellNumericValue("sheet1", rowIndex + 2, 2));
	
		    for (int i = 0; i < nbActivities; i++){
		    	starttimes_min.add(main.inputTruckTrips.getCellNumericValue("sheet1", rowIndex + 2, 3 + i * 3));
		    	endtimes_min.add(main.inputTruckTrips.getCellNumericValue("sheet1", rowIndex + 2, 4 + i * 3));
		    	distances_km.add(min(350,main.inputTruckTrips.getCellNumericValue("sheet1", rowIndex + 2, 5 + i * 3)));

		    }
    	} else {
    		traceln("Mobility pattern type not yet implemented! No trips loaded!");
    	}*/
		    /*while ( starttimes_min.get(v_eventIndex) - time_min < 0) {
		    	starttimes_min.set( v_eventIndex, starttimes_min.get(v_eventIndex) + 10080 );
		    	endtimes_min.set( v_eventIndex, endtimes_min.get(v_eventIndex) + 10080 );
		    	v_eventIndex++;
		    	if ( v_eventIndex > nbActivities - 1 ) {
		    		v_eventIndex = 0;
		    	}
	    }
	    v_nextEventStartTime_min = starttimes_min.get(v_eventIndex);*/
	    // Duplicate activities until the end of the year
    	
	    if (endtimes_min.get(nbActivities-1) < 10080) {
	    	//traceln("Duplicate trips until the end of the year");
		    for (int weeks = 1; weeks < 52; weeks++) {
		    	for (int eventIdx = 0; eventIdx < nbActivities; eventIdx++) {
		    		starttimes_min.add(starttimes_min.get(eventIdx) + 10080*weeks);
		    		endtimes_min.add(endtimes_min.get(eventIdx) + 10080*weeks);
		    		distances_km.add(distances_km.get(eventIdx));
		    	}
		    }
	    }
	    //traceln("This vehicle has %s trips in a year that total %s km.", starttimes_min.size(), distances_km.stream().mapToDouble(f -> f).sum() );
	    // 'forward' to current activity if tripTracker is instantiated not at the start of the simulation or year
	    while ( starttimes_min.get(v_eventIndex) < time_min ) {		    	
	    	v_eventIndex++;		    	
	    	if ( v_eventIndex > starttimes_min.size() - 1 ) {		    		
	    		break;
	    	} 
	    }
	    prepareNextActivity(time_min);    	
    }
    
	   public void manageActivities(double time_min) {
	    	//traceln("TripTracker vehicle: " + Vehicle);
	    	if (Vehicle.available) { // at start of timestep! check for multiple 'events' in timestep!
	    		if (time_min == roundToInt(starttimes_min.get(v_eventIndex) / (60*energyModel.p_timeStep_h)) * (energyModel.p_timeStep_h*60) ) { // is a trip starting this timestep?
	    			Vehicle.startTrip();
	    			//main.v_activeTrips.incrementAndGet();
	    		}
	    		if (time_min == roundToInt(endtimes_min.get(v_eventIndex) / (60*energyModel.p_timeStep_h)) * (energyModel.p_timeStep_h*60) ) { // is the trip also ending this timestep?
	    			//traceln("Vehicle trip ended in the same timestep as it started!");
	    			Vehicle.endTrip(v_tripDist_km);
	    			v_eventIndex++;
	    			//main.v_activeTrips.decrementAndGet();
	    			prepareNextActivity(time_min);
	    		}
	    	} else {
	    		if (time_min == roundToInt(endtimes_min.get(v_eventIndex)/ (60*energyModel.p_timeStep_h)) * 60*energyModel.p_timeStep_h ) { // is a trip ending this timestep?
	    			Vehicle.endTrip(v_tripDist_km);
	    			v_eventIndex++;
	    			//main.v_activeTrips.decrementAndGet();
	    			prepareNextActivity(time_min);
	    			//v_nextEventStartTime_min = starttimes_min.get(v_eventIndex);
	    			//v_nextEventEndTime_min = endtimes_min.get(v_eventIndex);    			
	    		}  
	    		if (time_min == roundToInt(starttimes_min.get(v_eventIndex) / (60*energyModel.p_timeStep_h)) * (energyModel.p_timeStep_h*60) ) { // is the next trip also starting this timestep?
	    			Vehicle.startTrip();
	    			//main.v_activeTrips.incrementAndGet();
	    			//traceln("Vehicle trip started in the same timestep as the previous trip ended!!");
	    		}
	    	}
	    }
	    
	    public void prepareNextActivity(double time_min) {
		    //starttimes_min.set( v_eventIndex, starttimes_min.get(v_eventIndex) + 10080 );
			//endtimes_min.set( v_eventIndex, endtimes_min.get(v_eventIndex) + 10080 );
			
			if ( v_eventIndex >= starttimes_min.size()  ) {
				v_eventIndex = 0;
			}
			
		    v_nextEventStartTime_min = starttimes_min.get(v_eventIndex);
			v_idleTimeToNextTrip_min = v_nextEventStartTime_min - time_min;
			v_tripDist_km = distances_km.get( v_eventIndex ); // Update upcoming trip distance
		
			
			if (Vehicle instanceof J_EAEV) {
				J_EAEV EV = (J_EAEV)Vehicle;
				v_energyNeedForNextTrip_kWh = EV.energyConsumption_kWhpkm * v_tripDist_km;
		
				// Check if more charging is needed for next trip!
				double nextTripDist_km = 0;
				double nextTripStartTime_min = 0;
		
				if ( v_eventIndex == starttimes_min.size() - 1 ) { 
					nextTripDist_km = 0;//distances_km.get( 0 );
					nextTripStartTime_min = endtimes_min.get(v_eventIndex);
				} else {		
					nextTripDist_km = distances_km.get( v_eventIndex+1 );
					nextTripStartTime_min = starttimes_min.get( v_eventIndex+1 );
				}
				double additionalChargingNeededForNextTrip_kWh = max(0,nextTripDist_km * EV.energyConsumption_kWhpkm - (nextTripStartTime_min - endtimes_min.get(v_eventIndex))/60*EV.capacityElectric_kW);
				//if (additionalChargingNeededForNextTrip_kWh>0) {
				//	traceln("*******Additional charging required to prepare for trip after next trip!*********");
				//}
				v_energyNeedForNextTrip_kWh += additionalChargingNeededForNextTrip_kWh;
				EV.energyNeedForNextTrip_kWh = v_energyNeedForNextTrip_kWh;
				/*if ( (v_energyNeedForNextTrip_kWh - EV.getCurrentStateOfCharge() * EV.getStorageCapacity_kWh()) / (v_idleTimeToNextTrip_min/60) > EV.capacityElectric_kW ) {
					traceln("Infeasible trip pattern for EV, not enough time to charge for next trip! Required charging power is: " + (v_energyNeedForNextTrip_kWh - EV.getCurrentStateOfCharge() * EV.getStorageCapacity_kWh()) / (v_idleTimeToNextTrip_min/60) + " kW");
					traceln("RowIndex: " + rowIndex + " tripDistance: " + v_tripDist_km + " km, time to next trip: " + v_idleTimeToNextTrip_min + " minutes");
				} */
			}
	    }
    
	@Override
	public String toString() {
		return super.toString();
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;
}
]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1692862773194</Id>
			<Name><![CDATA[J_EAVehicle]]></Name>
			<Text><![CDATA[/**
 * J_EAVehicle
 */	
public class J_EAVehicle extends J_EA implements Serializable {
	public boolean available = true;
	protected boolean availableStored = true;
	public double energyConsumption_kWhpkm;
	//private MobilityTracker mobilityTracker = null;
	public double vehicleScaling;
	public double mileage_km = 0;
	public J_ActivityTrackerTrips tripTracker;
    /**
     * Default constructor
     */
    public J_EAVehicle() {
    }

    public boolean startTrip() {
    	return false;
    }
    
    public boolean endTrip(double tripDist_km) {
    	return false;
    }
    
	public void setTripTracker(J_ActivityTrackerTrips tracker) {
		tripTracker = tracker;
	}

	public J_ActivityTrackerTrips getTripTracker() {
		return tripTracker;
	}
    
	@Override
	public String toString() {
		return super.toString();
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;

}]]></Text>
		</JavaClass>
		<!--   =========   Java Class   ========  -->
		<JavaClass>
			<Id>1692876125447</Id>
			<Name><![CDATA[J_ActivityTrackerCooking]]></Name>
			<Text><![CDATA[/**
 * J_ActivityTrackerCooking
 */	
public class J_ActivityTrackerCooking extends zero_engine.J_ActivityTracker implements Serializable {
	private ArrayList<Double> powerFractions_fr = new ArrayList<>();
	public J_EAConversion HOB;
	public double powerFraction_fr=0;
	private int rowIndex;
	private boolean cooking = false;
    /**
     * Default constructor
     */
    public J_ActivityTrackerCooking() {
    }

    public J_ActivityTrackerCooking(ExcelFile inputCookingActivities, int rowIndex, double time_min, J_EAConversion HOB) {
    	//this.energyModel = main;
    	this.rowIndex = rowIndex;
    	this.HOB=HOB;
    	
    	//int rowIndex = uniform_discr(2, 300); 
    	double v_cookingPatternIndex = inputCookingActivities.getCellNumericValue("sheet1", rowIndex, 1);
    	int nbOfCookingSessions = (int)(inputCookingActivities.getCellNumericValue("sheet1", rowIndex, 2));

    	for (int i = 0; i < nbOfCookingSessions; i++){
    		starttimes_min.add(inputCookingActivities.getCellNumericValue("sheet1", rowIndex, 3 + i * 3));
    		endtimes_min.add(inputCookingActivities.getCellNumericValue("sheet1", rowIndex, 4 + i * 3));
    		
    		double ratio = inputCookingActivities.getCellNumericValue("sheet1", rowIndex, 5 + i * 3) / HOB.getHeatCapacity_kW();
    		powerFractions_fr.add(ratio);
    	}

    	while ( starttimes_min.get(v_eventIndex) - time_min < 0) {
    		starttimes_min.set( v_eventIndex, starttimes_min.get(v_eventIndex) + 1440 );
    		endtimes_min.set( v_eventIndex, endtimes_min.get(v_eventIndex) + 1440 );
    		v_eventIndex++;
    		if ( v_eventIndex > starttimes_min.size() - 1 ) {
    			v_eventIndex = 0;
    		}
    	}

    	//traceln("Current model time in minutes: " + time(MINUTE) + ", nb sessions: " + nbOfCookingSessions);
    }
    
    public void manageActivities(double time_min) {
    	//traceln("Cooking tracker current time: " + time_min);
    	if (cooking) {
	    	if (time_min >= endtimes_min.get(v_eventIndex) ) { // end cooking session. Also check if a new one starts in this timestep!

	    		//main.v_activeCookingSessions.decrementAndGet();
	    		//traceln("End of cooking session, currently active cooking sessions %s", main.v_activeCookingSessions);
	    		powerFraction_fr = 0;
	    		
				starttimes_min.set( v_eventIndex, starttimes_min.get(v_eventIndex) + 1440 );
				endtimes_min.set( v_eventIndex, endtimes_min.get(v_eventIndex) + 1440 );
				v_eventIndex++;
				if ( v_eventIndex >= starttimes_min.size() ) {
					v_eventIndex = 0;
				}
				cooking=false;
				
				if (time_min >= starttimes_min.get(v_eventIndex)) {
					powerFraction_fr = powerFractions_fr.get(v_eventIndex);	    		
					//main.v_activeCookingSessions.incrementAndGet();
					cooking=true;
					traceln("Starting next cooking session in same timestep as previous session ended!! Rowindex %s, eventIndex %s\", rowIndex, v_eventIndex");
				}
	    	}
    	} else if (time_min >= starttimes_min.get(v_eventIndex) ) { // start cooking session. Also check if it ends within this timestep!
    		/*if (endtimes_min.get(v_eventIndex) - starttimes_min.get(v_eventIndex) > 100) {
			traceln("Cooking event longer than 100 minutes!! Rowindex %s, eventIndex %s.", rowIndex, v_eventIndex);
			}*/
   		
			powerFraction_fr = powerFractions_fr.get(v_eventIndex);	    		
			//main.v_activeCookingSessions.incrementAndGet();
			cooking=true;
			if (time_min >= endtimes_min.get(v_eventIndex) ) { // end cooking session in the same timestep? Still need to fix energy use for this case!! 
	    	
	    		//main.v_activeCookingSessions.decrementAndGet();
	    		//traceln("End of cooking session, currently active cooking sessions %s", main.v_activeCookingSessions);
	    		powerFraction_fr = 0;
	    		
				starttimes_min.set( v_eventIndex, starttimes_min.get(v_eventIndex) + 1440 );
				endtimes_min.set( v_eventIndex, endtimes_min.get(v_eventIndex) + 1440 );
				v_eventIndex++;
				if ( v_eventIndex >= starttimes_min.size() ) {
					v_eventIndex = 0;
				}
				cooking=false;
			}
    	} 
    	//if (powerFraction_fr > 0 ) { traceln("Cooking event in progress!"); }
    	HOB.f_updateAllFlows(powerFraction_fr);
    }
    
    @Override
	public String toString() {
		return super.toString();
	}

	/**
	 * This number is here for model snapshot storing purpose<br>
	 * It needs to be changed when this class gets changed
	 */ 
	private static final long serialVersionUID = 1L;

}
]]></Text>
		</JavaClass>
	</JavaClasses>
	<ModelResources>
		<Resource>
			<Path><![CDATA[windmill-svgrepo-com.png]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
			<Location>FILE_SYSTEM</Location>
		</Resource>
		<Resource>
			<Path><![CDATA[solarfarm.png]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
			<Location>FILE_SYSTEM</Location>
		</Resource>
		<Resource>
			<Path><![CDATA[db_profiles.xlsx]]></Path>
			<ReferencedFromUserCode>false</ReferencedFromUserCode>
			<Location>FILE_SYSTEM</Location>
		</Resource>
		<Resource>
			<Path><![CDATA[AlbatrossProcessedVehicleTrips.xlsx]]></Path>
			<ReferencedFromUserCode>true</ReferencedFromUserCode>
			<Location>FILE_SYSTEM</Location>
		</Resource>
	</ModelResources>
    <RequiredLibraryReference>
		<LibraryName><![CDATA[com.anylogic.libraries.modules.markup_descriptors]]></LibraryName>
		<VersionMajor>1</VersionMajor>
		<VersionMinor>0</VersionMinor>
		<VersionBuild>0</VersionBuild>
    </RequiredLibraryReference>
	<CloudModelUuid><![CDATA[f5586290-2a06-4a7c-8c59-bd77840932c3]]></CloudModelUuid>
</Model>
</AnyLogicWorkspace>